var _i_=this._i_||function(){},_r_=this._r_||function(e){return e};function HorizontalRatePreferenceRadio(e,t,n){"use strict";_i_("65cb:4874ab23");var i=e("component/reactive"),r=e("hotel/store"),_=e("hotel/roomstable/actions");n.exports=i.extend({template:"horizontal_rate_preference_radio",store:r,initialState:{fe_block_id:null,fe_room_id:null,fe_selected_block_id:null,fe_is_in_room_detail:null},initialize:function(){_i_("65cb:2d194941");var e=this.$el.data("roomId"),t=this.$el.data("blockId"),n=this.$el.data("isInRoomDetail");this.setState({fe_block_id:t,fe_room_id:e,fe_is_in_room_detail:n}),_r_()},getInnerState:function(){_i_("65cb:1eae2374");var e=this.__state,t=this.getStoreState(),n=e.fe_room_id,i=t.store.roomsTable.selection.blockIdOfRoomGroup[n];return e=Object.assign(e,{fe_selected_block_id:i}),_r_(e)},handleChange:function(e){_i_("65cb:4f71dc12");var t=this.getState().fe_room_id,n=this.getState().fe_block_id,i=this.getState().fe_is_in_room_detail;this.getStoreState().store.roomsTable.selection.blockIdOfRoomGroup[t]||this.store.dispatch(_.addSelection(n)),this.store.dispatch(_.setRatePlan(t,n,i)),_r_()}}),_r_()}function HorizontalRatePreferenceTitle(e,t,n){"use strict";_i_("65cb:3f427a0a");var i=e("component/reactive"),r=e("hotel/store"),_=e("server-data").b_room_blocks_json||{},a=e("hotel/room_preferences/horizontal_rate_preference/utils");n.exports=i.extend({template:"horizontal_rate_preference_title",store:r,initialState:{fe_room_id:null,fe_num_of_rate_options:0,fe_num_of_selected_rate:null,fe_is_filter_selected:!1,fe_filtered_options_num:0,fe_is_room_details_modal:!1},initialize:function(){_i_("65cb:677738d9");var e=this.$el.data("roomId"),t=this.getAvailableRoomBlocksCount(e);this.setState({fe_room_id:e,fe_num_of_rate_options:t}),_r_()},getAvailableRoomBlocksCount:function(t){_i_("65cb:92e371ec");var e=Object.keys(_).map(a.getRoomIdFromBlockId).filter(function(e){return _i_("65cb:6e523b1b"),_r_(e==t)}).length;return _r_(e)},getFilterInformation:function(){_i_("65cb:755124ab");var t=this.$el.data("roomId"),e=this.getStoreState().store.roomsTable.roomFilter;if(!e||!e.selectedFilters||0===e.selectedFilters.length)return _r_({fe_is_filter_selected:!1,fe_filtered_options_num:0});var n=e.displayedRooms.find(function(e){return _i_("65cb:d6bd6873"),_r_(e.b_room_id===t)});if(!n)return _r_({fe_is_filter_selected:!1,fe_filtered_options_num:0});return _r_({fe_is_filter_selected:!0,fe_filtered_options_num:n.b_blocks.length})},getInnerState:function(){_i_("65cb:82cdbc1b");var e=this.__state,t=this.getStoreState(),n=e.fe_room_id,i=t.store.roomsTable.selection.blockIdOfRoomGroup[n],r=this.getFilterInformation(),_=t.store.roomsTable.roomPage.isVisible;return e=Object.assign(e,{fe_num_of_selected_rate:Boolean(i)?1:0,fe_is_filter_selected:r.fe_is_filter_selected,fe_filtered_options_num:r.fe_filtered_options_num,fe_is_room_details_modal:_}),_r_(e)}}),_r_()}function HorizontalRateActiveFilterList(e,t,n){"use strict";_i_("65cb:864c08d4");var i=e("component/reactive"),r=e("hotel/store"),a=e("server-data");n.exports=i.extend({template:"horizontal_rate_active_filter_template",store:r,initialState:{roomFilters:{activeFilterList:[]}},getInnerState:function(){_i_("65cb:7b669102");var e=this.getStoreState().store.roomsFilter.activeFilterList,t=this.enrichWithTranslation(e);return _r_({roomFilters:{activeFilterList:t}})},handleClick:function(e){_i_("65cb:11b62f24");var t=this.getStoreState().store.roomsFilter.activeFilterList,n=e.target.closest(".active-filter-list-container__button"),i=t[Number(n.dataset.filterIndex)-1],r=this.getSelector(i);$(r).trigger("click",{synthetic:!0}),_r_()},afterRender:function(){_i_("65cb:b12fd6ed");var e=$(".active-filter-list-container");0===this.getState().roomFilters.activeFilterList.length?e.addClass("collapsed"):e.removeClass("collapsed"),_r_()},enrichWithTranslation:function(e){_i_("65cb:123094b3");var r={},_=this;a.b_rooms_table_filters&&(r=a.b_rooms_table_filters.filters_metadata);var t=e.map(function(t){_i_("65cb:d744e821");var e=r[t.id],n="";if("occupancy_count"===t.id){var i=_.parseOccupancyCountFilterValue(t.value);n=_.getOccupancyCountTranslation(i)}else if("bed_count"===t.id){n=e.breakdown.find(function(e){return _i_("65cb:d23c3e9b"),_r_(e.bed_count===Number(t.value))}).translation}else n=e.translation;return _r_(Object.assign({},t,{translation:n}))});return _r_(t)},getSelector:function(e){_i_("65cb:1cd3f00a");var t=e.id,n=e.value,i='.js-rt-filters--tag[data-filter-id="'+t+'"][data-filter-key="'+e.key+'"]';if("occupancy_count"===t){var r=this.parseOccupancyCountFilterValue(n);i=i+'[data-filter-max-adults="'+r.maxAdults+'"]',r.maxChildren&&(i=i+'[data-filter-max-children="'+r.maxChildren+'"]')}else"bed_count"===t&&(i=i+'[data-filter-value="'+n+'"]');return _r_(i)},parseOccupancyCountFilterValue:function(e){_i_("65cb:e976465f");var t={maxAdults:0,maxChildren:0};if("fit"===e){if(a.b_rooms_table_filters){var n=a.b_rooms_table_filters.filters_metadata.occupancy_count.breakdown.find(function(e){return _i_("65cb:a38a78f1"),_r_(Boolean(e.fit))});t=n?{maxAdults:n.max_adults,maxChildren:n.max_children}:{maxAdults:0,maxChildren:0}}}else try{t=JSON.parse(e)}catch(e){t={maxAdults:0,maxChildren:0},B&&B.squeak&&B.squeak("ESWceMTeKKXPLdaWAfWdVT")}return _r_(t)},getOccupancyCountTranslation:function(e){_i_("65cb:8423fe8f");var t="";return 0<e.maxChildren?(t=B.jstmpl.translations("m_room_selection_num_adults_fam",e.maxAdults,{num_adults:e.maxAdults}),t+=B.jstmpl.translations("m_room_selection_num_children_fam",e.maxChildren,{num_children:e.maxChildren})):t=B.jstmpl.translations("m_room_selection_num_adults",e.maxAdults,{num_adults:e.maxAdults}),_r_(t)}}),_r_()}function HorizontalRateArrowsCarousel(e,t,n){"use strict";_i_("65cb:249f508b");var i=e("component/reactive"),r=e("events"),_=e("event-bus"),a=e("et"),o=".horizontal-rates-arrows_carousel-container",s=".js-rt-rate-horizontal-rate";n.exports=i.extend({template:"horizontal_rate_arrows_carousel_template",initialize:function(){_i_("65cb:9f610c05"),this.currentIndex=0;var e=this.el.parentNode;this.rootContainer=e,this.container=e.querySelector(".js-rt-rate-horizontal"),this.rates=Array.prototype.slice.call(this.container.querySelectorAll(s)),this.container.addEventListener("scroll",this._onContainerScroll.bind(this)),this.totalIndex=this.rates.length-1,this._isProgrammatic=!1,this._waitForArrowsButton(),this._observeRatesContainer(),_r_()},handleClickNext:function(e){_i_("65cb:4e23acc9"),e.preventDefault(),this.currentIndex<this.totalIndex&&(this.currentIndex++,this._isProgrammatic=!0,this._scrollTo(this.currentIndex)),a.customGoal("aaMRYBdQAFcSLLcHPTaeaSdFaLbFC",2),_r_()},handleClickPrev:function(e){_i_("65cb:45f11acc"),e.preventDefault(),0<this.currentIndex&&(this.currentIndex--,this._isProgrammatic=!0,this._scrollTo(this.currentIndex)),a.customGoal("aaMRYBdQAFcSLLcHPTaeaSdFaLbFC",2),_r_()},_onContainerScroll:function(){_i_("65cb:03ed27ef");var i=this.container.scrollLeft,r=0,_=1/0;this.rates.forEach(function(e,t){_i_("65cb:1583d022");var n=Math.abs(e.offsetLeft-i);n<_&&(_=n,r=t),_r_()}),r!==this.currentIndex&&(this.currentIndex=r),this._updateArrows(),this._isProgrammatic||a.customGoal("aaMRYBdQAFcSLLcHPTaeaSdFaLbFC",3),a.customGoal("aaMRYBdQAFcSLLcHPTaeaSdFaLbFC",1),_r_()},_scrollTo:function(e){_i_("65cb:f01ab680");var t=this.rates[e];this.container.scrollTo({left:t.offsetLeft,behavior:"smooth"}),setTimeout(function(){_i_("65cb:939b8d8b"),this._isProgrammatic=!1,_r_()},500),_r_()},_updateArrows:function(){if(_i_("65cb:396661f9"),!this.prevBtn||!this.nextBtn)return _r_();this.prevBtn.style.visibility=this.container.scrollLeft<=2?"hidden":"visible";var e=this.container.scrollWidth-this.container.clientWidth;this.nextBtn.style.visibility=this.container.scrollLeft>=e-1?"hidden":"visible",_r_()},_waitForArrowsButton:function(){_i_("65cb:c277cdca");var n=this;this.rootContainer.querySelector(o)?this._onArrowsButtonLoaded():new MutationObserver(function(e,t){_i_("65cb:0760477d"),n.rootContainer.querySelector(o)&&(t.disconnect(),n._onArrowsButtonLoaded()),_r_()}).observe(document.body,{childList:!0,subtree:!0});_r_()},_onArrowsButtonLoaded:function(){_i_("65cb:409d2035"),this.prevBtn=this.el.querySelector(".js-rt-rate-horizontal-prev-bttn"),this.nextBtn=this.el.querySelector(".js-rt-rate-horizontal-next-bttn"),this._updateArrows(),_r_()},_observeRatesContainer:function(){_i_("65cb:08ef5a91");var e=this._onRatesUpdated.bind(this);_.on(B.eventNames.RT_FILTER_APPLY,e),r.on(r.EVENTS.RT_ROOM_PAGE_LOADED,e),r.on("room.details.page:closed",e),window.addEventListener("orientationchange",e),window.addEventListener("resize",e),_r_()},_onRatesUpdated:function(){_i_("65cb:ef18638d"),this.rates=Array.prototype.slice.call(this.container.querySelectorAll(s)),this.totalIndex=this.rates.length-1;var e=this.rates[0].offsetWidth,t=this.container.scrollLeft;this.currentIndex=Math.round(t/e),this.currentIndex=Math.max(0,Math.min(this.currentIndex,this.totalIndex)),this._updateArrows(),_r_()}}),_r_()}if(b.env.scripts_tracking.hotel={loaded:1,run:0},b.env=b.env||{},b.experiment=b.experiment||{},b.experiment.variant=b.experiment.variant||function(){},b.experiment.track=b.experiment.track||function(){},b.sRHotelsMatchingCriteria=b.sRHotelsMatchingCriteria||{},(b25=window.b25||{}).Reviews=b25.Reviews||{},booking.trapFocus=function(){var r,_;_i_("65cb:c47d8a88");var t=!1,a=null,o=null,s=[],c=[];function l(e){if(_i_("65cb:38afd117"),_===document.body&&Array.prototype.forEach.call(s,function(e){if(_i_("65cb:32f221d6"),e===r)return _r_();-1==c.indexOf(e)&&e.removeAttribute("aria-hidden"),_r_()}),document.removeEventListener("focus",u,!0),document.removeEventListener("keydown",d,!0),document.removeEventListener("keyup",d,!0),e||a&&a.focus(),r=a=null,o){o.removeEventListener("focus",f,!0);var t=o.parentNode;t&&t.removeChild(o),o=null}_=null,_r_()}function d(e){_i_("65cb:cb87d9ce"),t=e.shiftKey,_r_()}function n(){_i_("65cb:6533c779");var e=b(r);if(!e.length)return _r_();t?e[e.length-1].focus():e[0].focus(),_r_()}function u(e){_i_("65cb:fe492bdb"),e.target instanceof Node&&r.contains(e.target)||e.target&&String(e.target.className||"").match(/\bforce-focusable\b/)||(e.preventDefault(),n()),_r_()}function f(e){_i_("65cb:2f542439"),e.preventDefault(),n(),_r_()}function b(e){_i_("65cb:dabcb935");var t=e.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [role=button], iframe, object, embed, *[tabindex], *[contenteditable]");return _r_(Array.prototype.filter.call(t,function(e){return _i_("65cb:f737424e"),_r_(0<e.offsetWidth&&0<e.offsetHeight)}))}return _r_({trap:function(e,t,n){if(_i_("65cb:99774295"),!e&&e instanceof Node)return console.log("You must provide target container where the focus to be trapped!"),_r_();r&&l(n),r=e,a=t||document.activeElement;var i=b(r);i.length&&i[0].focus(),document.addEventListener("focus",u,!0),document.addEventListener("keydown",d,!0),document.addEventListener("keyup",d,!0),(o=document.createElement("div")).setAttribute("tabindex",0),o.addEventListener("focus",f,!0),r.appendChild(o),(_=r.parentNode)===document.body?(s=document.querySelectorAll("body > *"),Array.prototype.forEach.call(s,function(e){if(_i_("65cb:601539e4"),e===r)return _r_();"true"===e.getAttribute("aria-hidden")?c.push(e):e.setAttribute("aria-hidden",!0),_r_()})):B&&B.env&&B.env.b_dev_server&&console.warn("trap-focus: The target element is not a direct descendant of body, therefore focus could not be trapped in it properly for screen readers! Consider appending target element to the body for better support!"),_r_()},release:l})}(),B.define("trap-focus",booking.trapFocus),B.define("watcher",function(e,t,n){"use strict";_i_("65cb:04598cf3");var f=e("jquery"),r=e("utils/throttled"),b=[],h=[];function i(t,e,n){_i_("65cb:fadcf08b");var i=b.filter(function(e){return _i_("65cb:d8f694c2"),_r_(e.el===t&&e.parent===n)})[0];if(!i)return _r_();var r=h.filter(function(e){return _i_("65cb:9d4e9b45"),_r_(e.el===n)})[0];if(e){var _=i.conditions.indexOf(e);i.conditions.splice(_,1),i.checks.splice(_,1),0===i.checks.length&&r.children.splice(r.children.indexOf(i),1)}else r.children.splice(r.children.indexOf(i),1);0===r.children.length&&(f(i.parent).off("resize scroll",r.handler),h.splice(h.indexOf(r),1)),_r_()}function _(_,t,a,o,s){_i_("65cb:2b491703");var c=f(_),l=f(t),d=s&&"function"==typeof s,u=t===window,e=function(){_i_("65cb:2391de69");var e=c.offset().top,t=c.innerHeight(),n={top:e,bottom:e+t,height:t},i=u?window.pageYOffset:l.offset().top,r=u?l.height():l.innerHeight();a(n,{top:i,bottom:i+r,height:r})?o(_):d&&s(_),_r_()},n=b.filter(function(e){return _i_("65cb:d8f694c21"),_r_(e.el===_&&e.parent===t)})[0];n?(n.conditions.push(a),n.checks.push(e)):(n={el:_,parent:t,conditions:[a],checks:[e]},b.push(n));var i=h.filter(function(e){return _i_("65cb:9d4e9b451"),_r_(e.el===t)})[0];i?i.children.push(n):(i={el:t,children:[n],handler:r(function(){_i_("65cb:3ef8b039"),i.children.forEach(function(e){_i_("65cb:fa0590ce"),e.checks.forEach(function(e){_i_("65cb:0af2e944"),e(),_r_()}),_r_()}),_r_()},150)},h.push(i),l.on("resize scroll",i.handler)),e(),_r_()}return _r_({conditions:{isInViewport:function(e,t){return _i_("65cb:b78d60b6"),_r_(e.top<=t.bottom&&e.bottom>=t.top)},isFullyInViewport:function(e,t){return _i_("65cb:74e6c26e"),_r_(e.bottom<=t.bottom&&e.top>=t.top)},isOutOfViewport:function(e,t){return _i_("65cb:a70bfd92"),_r_(e.top>t.bottom||e.bottom<t.top)},isCloseToOrInViewport:function(e,t){return _i_("65cb:08d1ea98"),t.bottom+=t.height/2,t.top-=t.height/2,_r_(e.top<=t.bottom&&e.bottom>=t.top)},isPartiallyInViewport:function(e,t){return _i_("65cb:43d0faf8"),t.bottom+=t.height/2,t.top-=t.height/2,_r_(e.top>=t.top&&e.top<=t.bottom||e.bottom>=t.top&&e.bottom<=t.bottom)}},unwatch:function(e,t,n){_i_("65cb:7ec0c4c1"),n=n instanceof f?n[0]:n||window,e instanceof f?e.each(function(){_i_("65cb:cdfeb4df"),i(this,t,n),_r_()}):i(e,t,n),_r_()},watch:function(i,r){return _i_("65cb:bed8bf4e"),_r_({when:function(n){return _i_("65cb:4a13cbc2"),r=r instanceof f?r[0]:r||window,_r_({then:function(e,t){if(_i_("65cb:c0457ca3"),i instanceof f)i.each(function(){_i_("65cb:d244cd94"),_(this,r,n,e,t),_r_()});else{if(!(i instanceof Node))throw new TypeError("invalid element provided to watcher");_(i,r,n,e,t)}_r_()}})}})}})}),B.define("component/bh/exposure-counter",function(e,t,n){_i_("65cb:45876f6a");var i=e("component"),r=e("et"),_=e("watcher"),a=e("browser-storage-handler"),o="bh_awareness_exposure_v2";function s(e){_i_("65cb:21306266");var t=JSON.parse(a.getPermanentValue(o)||"{}"),n=t.elements?t.elements:[];-1===n.indexOf(e.name)&&n.push(e.name),t.score=t.score?t.score+e.value:e.value,t.elements=n,a.addPermanentValue(o,JSON.stringify(t)),_r_()}function c(e){_i_("65cb:68b26508");var t=e.data("exposure-parent-selector");return _r_($(t).length?$(t):void 0)}function l(e){_i_("65cb:b7268411");var t=parseInt($(e).data("exposure-value"),10)||0,n=c($(e)),i=$(e).data("exposure-name");r.goalWithValue("js_bh_awareness_exposure",t),i&&s({name:i,value:t}),_.unwatch(e,null,n),_r_()}n.exports=i.extend({init:function(){_i_("65cb:fd78b1f0");var e=c(this.$el);_.watch(this.$el,e).when(_.conditions.isInViewport).then(l),_r_()},add:function(e,t){_i_("65cb:745ba71d"),s({name:e,value:t=parseInt(t,10)||0}),_r_()}}),_r_()}),B.define("window-scroller",["jquery","promise"],function(o,s){_i_("65cb:b5c34e65");var c=o(window),l=jQuery({progress:0}),d=700;function u(e){_i_("65cb:1298f338");var t=e.offset().top;return _r_({top:t,bottom:t+e.outerHeight()})}function f(){return _i_("65cb:70d4d0ea"),_r_(window.innerHeight||document.documentElement.clientHeight)}return _r_({scrollToBlock:function(e,t,n,i){_i_("65cb:8212fefb");var r,_="number"==typeof i?i:10;if(e&&"string"==typeof e&&(e=o(e)),!e||!e.length)return _r_(new s(function(e){_i_("65cb:8dee672b"),e(),_r_()}));if(t)r=u(e).top-_;else{var a=function(e,t){if(_i_("65cb:9200966d"),0===e.height())return _r_(null);var n=u(e),i=function(){_i_("65cb:73f45065");var e=c.scrollTop();return _r_({top:e,bottom:e+f()})}(),r=n.top<i.top,_=n.bottom>i.bottom,a=e.outerHeight()+t>f();return _r_(r||_?a||r?n.top-t:n.bottom+t-f():null)}(e,_);null===a&&(a=c.scrollTop()),r=a}return _r_(this.scrollToOffset(r,n))},scrollToOffset:function(e,_){_i_("65cb:161038fe"),l.stop(!0);var a=c.scrollTop(),o=e;return _r_(new s(function(e){var t,n,i,r;_i_("65cb:5e09766a"),Math.abs(a-o)<5?e():(t=a,n=o,i=_,r=e,_i_("65cb:fafb30c7"),l[0].progress=0,l.animate({progress:1},{step:function(e){_i_("65cb:3800b453"),c.scrollTop(t+e*(n-t)),_r_()},duration:"number"==typeof i?i:d,easing:"function"==typeof jQuery.easing.easeInOutExpo?"easeInOutExpo":"swing",complete:r}),_r_()),_r_()}))}})}),B.define("component/dismissible-item/block",function(e,t,n){_i_("65cb:1d6e38f0");var i=e("component"),r=e("dismiss-item"),_=e("read-data-options");n.exports=i.extend({init:function(){_i_("65cb:60262eac"),this.options=_(this.$el,{itemId:{name:"item-id",type:String,required:!0}}),this._bindEvents(),_r_()},_bindEvents:function(){_i_("65cb:bc2d0b27"),this.$el.on("click",".js-close",function(){_i_("65cb:5fb0e455"),this._dismissItem(),this.hide(),_r_()}.bind(this)),_r_()},_dismissItem:function(){return _i_("65cb:40f33ccd"),_r_(r(this.options.itemId))},hide:function(){_i_("65cb:9a2d9335"),this.$el.hide(),_r_()}}),_r_()}),B.define("intersection-observer",function(e,t,n){if(_i_("65cb:562b4f65"),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return _i_("65cb:a7cfd3b4"),_r_(0<this.intersectionRatio)}}),_r_();var i=[];function c(e){_i_("65cb:9b677989"),this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||d(),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?r/n:this.isIntersecting?1:0,_r_()}function r(e,t){_i_("65cb:5545c54d");var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(e,t){_i_("65cb:1fb48ea1");var n=null;return _r_(function(){_i_("65cb:3983e3e4"),n||(n=setTimeout(function(){_i_("65cb:e8b6f134"),e(),n=null,_r_()},t)),_r_()})}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return _i_("65cb:57b688d4"),_r_(e.value+e.unit)}).join(" "),_r_()}function _(e,t,n,i){_i_("65cb:b8148a92"),"function"==typeof e.addEventListener?e.addEventListener(t,n,i||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n),_r_()}function a(e,t,n,i){_i_("65cb:494d4a50"),"function"==typeof e.removeEventListener?e.removeEventListener(t,n,i||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n),_r_()}function o(e,t){_i_("65cb:c701e3f2");var n=Math.max(e.top,t.top),i=Math.min(e.bottom,t.bottom),r=Math.max(e.left,t.left),_=Math.min(e.right,t.right),a=_-r,o=i-n;return _r_(0<=a&&0<=o&&{top:n,bottom:i,left:r,right:_,width:a,height:o})}function l(e){var t;_i_("65cb:2134f250");try{t=e.getBoundingClientRect()}catch(e){}if(!t)return _r_(d());return t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),_r_(t)}function d(){return _i_("65cb:3ce70b3f"),_r_({top:0,bottom:0,left:0,right:0,width:0,height:0})}function s(e,t){_i_("65cb:b291d67a");for(var n=t;n;){if(n==e)return _r_(!0);n=u(n)}return _r_(!1)}function u(e){_i_("65cb:16f4eba3");var t=e.parentNode;if(t&&11==t.nodeType&&t.host)return _r_(t.host);return _r_(t)}r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(t){if(_i_("65cb:c6fd2b3f"),this._observationTargets.some(function(e){return _i_("65cb:8b5458c2"),_r_(e.element==t)}))return _r_();if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections(),_r_()},r.prototype.unobserve=function(t){_i_("65cb:e36507e9"),this._observationTargets=this._observationTargets.filter(function(e){return _i_("65cb:a1b14f54"),_r_(e.element!=t)}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance()),_r_()},r.prototype.disconnect=function(){_i_("65cb:3fe235ea"),this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance(),_r_()},r.prototype.takeRecords=function(){_i_("65cb:5bdaa8e1");var e=this._queuedEntries.slice();return this._queuedEntries=[],_r_(e)},r.prototype._initThresholds=function(e){_i_("65cb:ce94102a");var t=e||[0];return Array.isArray(t)||(t=[t]),_r_(t.sort().filter(function(e,t,n){if(_i_("65cb:6666739c"),"number"!=typeof e||isNaN(e)||e<0||1<e)throw new Error("threshold must be a number between 0 and 1 inclusively");return _r_(e!==n[t-1])}))},r.prototype._parseRootMargin=function(e){_i_("65cb:e361791c");var t=(e||"0px").split(/\s+/).map(function(e){_i_("65cb:35b9e716");var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return _r_({value:parseFloat(t[1]),unit:t[2]})});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],_r_(t)},r.prototype._monitorIntersections=function(){_i_("65cb:ed796655"),this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(_(window,"resize",this._checkForIntersections,!0),_(document,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})))),_r_()},r.prototype._unmonitorIntersections=function(){_i_("65cb:91f65ef1"),this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(window,"resize",this._checkForIntersections,!0),a(document,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null)),_r_()},r.prototype._checkForIntersections=function(){_i_("65cb:69caaa16");var o=this._rootIsInDom(),s=o?this._getRootRect():d();this._observationTargets.forEach(function(e){_i_("65cb:f4279141");var t=e.element,n=l(t),i=this._rootContainsTarget(t),r=e.entry,_=o&&i&&this._computeTargetAndRootIntersection(t,s),a=e.entry=new c({time:(_i_("65cb:d834ebfc"),_r_(window.performance&&performance.now&&performance.now())),target:t,boundingClientRect:n,rootBounds:s,intersectionRect:_});r?o&&i?this._hasCrossedThreshold(r,a)&&this._queuedEntries.push(a):r&&r.isIntersecting&&this._queuedEntries.push(a):this._queuedEntries.push(a),_r_()},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this),_r_()},r.prototype._computeTargetAndRootIntersection=function(e,t){if(_i_("65cb:b0624cf3"),null===window.getComputedStyle(e)||"none"==window.getComputedStyle(e).display)return _r_();for(var n=l(e),i=u(e),r=!1;!r;){var _=null,a=1==i.nodeType?window.getComputedStyle(i):{};if("none"==a.display)return _r_();if(i==this.root||i==document?(r=!0,_=t):i!=document.body&&i!=document.documentElement&&"visible"!=a.overflow&&(_=l(i)),_&&!(n=o(_,n)))break;i=u(i)}return _r_(n)},r.prototype._getRootRect=function(){var e;if(_i_("65cb:b5dc3d81"),this.root)e=l(this.root);else{var t=document.documentElement,n=document.body;e={top:0,left:0,right:t.clientWidth||n.clientWidth,width:t.clientWidth||n.clientWidth,bottom:t.clientHeight||n.clientHeight,height:t.clientHeight||n.clientHeight}}return _r_(this._expandRectByRootMargin(e))},r.prototype._expandRectByRootMargin=function(n){_i_("65cb:238d0c07");var e=this._rootMarginValues.map(function(e,t){return _i_("65cb:e394ca0d"),_r_("px"==e.unit?e.value:e.value*(t%2?n.width:n.height)/100)}),t={top:n.top-e[0],right:n.right+e[1],bottom:n.bottom+e[2],left:n.left-e[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,_r_(t)},r.prototype._hasCrossedThreshold=function(e,t){_i_("65cb:1c9b1813");var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,i=t.isIntersecting?t.intersectionRatio||0:-1;if(n===i)return _r_();for(var r=0;r<this.thresholds.length;r++){var _=this.thresholds[r];if(_==n||_==i||_<n!=_<i)return _r_(!0)}_r_()},r.prototype._rootIsInDom=function(){return _i_("65cb:3c5628a2"),_r_(!this.root||s(document,this.root))},r.prototype._rootContainsTarget=function(e){return _i_("65cb:7187c5b5"),_r_(s(this.root||document,e))},r.prototype._registerInstance=function(){_i_("65cb:5765f177"),i.indexOf(this)<0&&i.push(this),_r_()},r.prototype._unregisterInstance=function(){_i_("65cb:9a17232d");var e=i.indexOf(this);-1!=e&&i.splice(e,1),_r_()},n.exports={IntersectionObserver:r,IntersectionObserverEntry:c},_r_()}),B.define("swipe-events",function(e,t){"use strict";_i_("65cb:302d2d9a");var a=25,o=10,s=null,c=null,l=null,d=null,u=null,f=null,b=null,h={},p=Math.round;function n(e){_i_("65cb:6c94ded9"),m(e,{touchend:!0}),f=u=c=s=null,h={},_r_()}function i(e){_i_("65cb:1028368e"),b=e.target,u=Date.now(),f=u,s=p(e.touches[0].clientX),c=p(e.touches[0].clientY),d=l=0,_r_()}function r(e){if(_i_("65cb:fb7f8b40"),!s||!c)return _r_();var t,n=Date.now();if(a<(t=n-f)||!h.velocityX&&!h.velocityY){var i=p(e.touches[0].clientX),r=p(e.touches[0].clientY);f=n,l=s-i,d=c-r;var _={time:t,xDiff:i-(h.xUp||s),yDiff:r-(h.yUp||c),xUp:i,yUp:r};_.velocityX=_.xDiff/_.time,_.velocityY=_.yDiff/_.time,m(e,h=_)}_r_()}function m(e,t){if(_i_("65cb:66c5e73e"),t=t||{},b!==e.target)return _r_();var n,i=Date.now()-u,r="",_="";Math.abs(l)>o&&(_=0<l?"left":"right"),""!==_&&(r=t.touchend?"swipe-end":"swipe-"+_,n={xDiff:-l,yDiff:d,direction:_,time:i,velocityX:h.velocityX,velocityY:h.velocityY,overallVelocity:Math.abs(l/i)},b.dispatchEvent(new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:n}))),_r_()}t.attachEvents=function(e){_i_("65cb:0e7df79a"),e.addEventListener("touchstart",i,!1),e.addEventListener("touchmove",r,!1),e.addEventListener("touchend",n,!1),_r_()},t.detachEvents=function(e){_i_("65cb:9a10bef9"),e.removeEventListener("touchstart",i),e.removeEventListener("touchmove",r),e.removeEventListener("touchend",n),_r_()},_r_()}),booking.jstmpl("fe_swipe_gallery_photos",function(){_i_("65cb:235e8955");var a=["\n    ","\n","","swpg__image"," swpg__image--contain"," swpg__image--fit-y"," swpg__image--fit-x"," swpg__image--cover-y"," swpg__image--cover-x","\n\n",'\n    <img\n        class="','"\n        src="data:image/jpg;base64,','"\n        alt=""\n    />\n','\n    \n    \n    \n    \n\n    <img\n        class="'," js-preloaded-low-res-image"," js-preloaded-high-res-image",'"\n        src="','"\n        alt="','"\n        onerror="','"\n    />\n'],o=["fe_swipe_gallery_alt","b_ml_photo_tag","fe_swipe_gallery_image_class_name","b_image_fit","b_image_aspect_ratio","fe_force_cover_y","b_base64_image","fe_swipe_gallery_image_tag_low_res","fe_swipe_gallery_image_tag_src","fe_alt","b_onerror_callback","b_low_resolution_image","b_high_resolution_image"];return _r_(function(r){_i_("65cb:39084ddc");var e="",_=this.fn;return e=function(e){if(_i_("65cb:a944a550"),e+=["",a[1]].join(""),!_.MD(o[0])){e+=a[0];var t="";t+=a[2],_.MD(o[1])&&(t+=[a[2],_.F.entities((_.MC(o[1])||{}).b_tag_name_translation),a[2]].join("")),t+=a[2],_.MN(o[0],t),e+=a[1]}var n,i;return e+=a[1],t="",t+=a[3],_.MJ(_.MC(o[3])+""=="contain")?t+=a[4]:_.MJ(_.MC(o[3])+""=="fit")?_.MJ(1.3<_.MC(o[4]))||_.MJ(_.MB(o[5]))?t+=a[5]:t+=a[6]:_.MJ(1.51<_.MC(o[4]))||_.MJ(_.MB(o[5]))?t+=a[7]:t+=a[8],_.MN(o[2],t),e+=a[9],e+=a[9],_.MD(o[6])?e+=[a[10],_.F.entities(_.MC(o[2])),a[11],_.MC(o[6]),a[12]].join(""):_.MD(o[11])&&(e+=a[0],r.unshift({fe_alt:_.MB(o[0]),fe_swipe_gallery_image_tag_low_res:1,fe_swipe_gallery_image_tag_src:_.MC(o[11])}),n=e,_i_("65cb:c586253b"),n+=a[13],n+=_.F.entities(_.MC(o[2])),_.MJ(_.MB(o[7]))?n+=a[14]:n+=a[15],n+=[a[16],_.STATIC_HOSTNAME(_.MB(o[8]),0,0,0,0),a[17],_.F.entities(_.MC(o[9])||""),a[18],_.F.html(_.MC(o[10])),a[19]].join(""),e=_r_(n),r.shift(),e+=a[1]),e+=a[9],r.unshift({fe_alt:_.MB(o[0]),fe_swipe_gallery_image_class_name:_.MB(o[2])+" swpg_image_main",fe_swipe_gallery_image_tag_low_res:0,fe_swipe_gallery_image_tag_src:_.MC(o[12])}),i=e,_i_("65cb:60f19cb9"),i+=a[13],i+=_.F.entities(_.MC(o[2])),_.MJ(_.MB(o[7]))?i+=a[14]:i+=a[15],i+=[a[16],_.STATIC_HOSTNAME(_.MB(o[8]),0,0,0,0),a[17],_.F.entities(_.MC(o[9])||""),a[18],_.F.html(_.MC(o[10])),a[19]].join(""),e=_r_(i),r.shift(),e+=[a[9],"",a[1]].join(""),_r_(e)}(e+=a[0]),e+=a[1],_r_(e)})}()),B.define("bmod/swipe_gallery",function(e,t,n){_i_("65cb:ab8a2f00");var _=e("jquery"),i=e("swipe-events"),r=e("bmod/base"),a="webkitTransitionEnd oTransitionEnd transitionend",o=B.env.TAP_CLICK_EVENT||"click";function s(){_i_("65cb:e1d12f46"),s.__super__.constructor.apply(this,arguments),_r_()}function c(e){return _i_("65cb:456b46f9"),_r_(parseInt(e,10)||0)}r(s),s.DEFAULTS={preload:2,circular:!1,autoInitStage:!0,animateDuration:250,width:null,itemWidth:null,autoResize:!0,swipable:!0,templates:{el:"jstmpl:bmod_swipe_gallery",items:"jstmpl:bmod_swipe_gallery_items"},data:{minItemsForNav:1,stageWidth:250}},s.prototype.init=function(){_i_("65cb:22626375");var r=this;if(s.__super__.init.apply(this),this.items=this.data.b_gallery_items,this.id=this.data.b_gallery_id||_.guid++,this.items){if(this.data.sort_by){this.items.forEach(function(e,t){_i_("65cb:fde026a6"),e.original_order=t,_r_()});var a=this.data.sort_by;this.items.sort(function(e,t){_i_("65cb:c6f1855d");var n=parseInt(e[a]),i=parseInt(t[a]);if(i<n)return _r_(1);if(n<i)return _r_(-1);var r=parseInt(e.original_order),_=parseInt(t.original_order);return _r_(_<r?1:r<_?-1:0)})}var e=_(this.compose("el")).replaceAll(this.$el);e&&e.length&&this.initWithEl(e)}else this._initItemsFromDom();this._setItemsIndex(),this._items_initial_order=this.items.map(function(e){return _i_("65cb:9bedea63"),_r_(e.id)}),this._dom_element_cache={},this.options.preload&&this.on("switched",function(e,t,n,i){_i_("65cb:899a3e8b"),r.preloadSiblings(r.options.preload,i),_r_()}),this.isRTL=this.$el.hasClass("swpg--rtl"),this.options.autoInitStage&&this.updateStage(),this._initEvents(),_r_()},s.prototype._initItemsFromDom=function(){_i_("65cb:34160210"),this.items=this.data.b_gallery_items=this.$(".swpg__item").map(function(){return _i_("65cb:59031ebe"),_r_(_(this).data())}).toArray(),_r_()},s.prototype._setItemsIndex=function(){_i_("65cb:b6dd4039"),_.each(this.items,function(e,t){_i_("65cb:c12b494b"),t.index=e,_r_()}),_r_()},s.prototype._getElementFromDomOrCache=function(e){if(_i_("65cb:3471d1b1"),e in this._dom_element_cache)return _r_(this._dom_element_cache[e]);return _r_(this.$('.swpg__item[data-id="'+e+'"]').not(".last__clone, .first__clone"))},s.prototype.filter=function(i){_i_("65cb:af772c8b");var r=this,_=document.createDocumentFragment();this._items_initial_order.forEach(function(e){_i_("65cb:812e887b");var t=r._getElementFromDomOrCache(e);if(t.length){var n=t.data();i(n)?(_.appendChild(t.detach()[0]),delete r._dom_element_cache[e]):r._dom_element_cache[e]||(r._dom_element_cache[e]=t.detach())}_r_()}),this.$list.html(_),this._initItemsFromDom(),this._setItemsIndex(),this.data.current=0,this.updateStage(),_r_()},s.prototype.needUpdate=function(e){return _i_("65cb:7b8aa326"),_r_(this._orig_items!==this.items||this._orig_items_length!==this.items.length||e)},s.prototype.updateStage=function(e){_i_("65cb:38195a79"),this.needUpdate(e)&&(this._orig_items=this.items,this._orig_items_length=this.items.length,this.data.lastIndex=this.items.length-1,this.data.current=isNaN(this.data.current)?0:Math.min(this.data.lastIndex,c(this.data.current)),this.$stage=this.$(".swpg__stage"),this.$list=this.$(".swpg__photolist"),this.$items=this.$list.find(".swpg__item"),this.$items.each(function(e){_i_("65cb:a3f042b9"),_(this).data("index",e),_r_()}),this.options.circular&&1<this.items.length?(this.circular=!0,this.$el.addClass("swpg--circular"),this.$first__clone=this.getItem(0).clone().addClass("first__clone").appendTo(this.$list),this.$last__clone=this.getItem(-1).clone().addClass("last__clone").prependTo(this.$list),this.$(".swpg__navbtns").removeClass("g-hidden")):(this.circular=!1,this.$el.removeClass("swpg--circular"),this.$first__clone=this.$first__clone=null,this.$(".swpg__navbtns")[1===this.items.length?"addClass":"removeClass"]("g-hidden")));var t=this;setTimeout(function(){_i_("65cb:6a475189"),t.updateStageSize(t.options.width),_r_()}),_r_()},s.prototype.updateStageSize=function(e){if(_i_("65cb:aee17eb8"),isNaN(e)&&(e=Math.min(this.$el.offsetParent().width(),_(window).width())),e?this.$stage.width(e):e=this.$stage.width(),!e)return _r_();var t=this._getItemWidth()||e,n=this.$list.children().width(t);this.data.stageWidth=e,this.data.itemWidth=n.eq(0).outerWidth(!0),this.data.listWidth=this.data.itemWidth*n.length,this.$list.width(this.data.listWidth),this.switchTo({index:this.data.current||0,animate:!1,force:!0}),_r_()},s.prototype.getIndex=function(){return _i_("65cb:30875875"),_r_(this.data.current||0)},s.prototype._getItemWidth=function(){switch(_i_("65cb:64137c30"),typeof this.options.itemWidth){case"function":return _r_(this.options.itemWidth.call(this));case"number":case"string":return _r_(c(this.options.itemWidth))}_r_()},s.prototype._initEvents=function(){_i_("65cb:4788435d");var o,s=this;function e(e){var t,n;if(_i_("65cb:08f570a0"),e.preventDefault(),t=e.detail.xDiff,n=e.detail.yDiff,o||(o=s.circular?s.data.itemWidth*s.data.current:s.currentPos),s.isRTL||(t=-t),0<Math.abs(n)-Math.abs(t))return _r_();s._scrollToPos(o+t,0),_r_()}this.$el.on("click",function(e){_i_("65cb:49806b53"),e.preventDefault(),_r_()}),this.options.swipable&&(this.$el.on("click",function(e){_i_("65cb:6b9acaf1"),e.preventDefault(),_r_()}),i.attachEvents(this.el),this.$el.on("touchstart",function(e){_i_("65cb:f81308d5"),s.emit("panstart",e),_r_()}),this.el.addEventListener("swipe-left",e),this.el.addEventListener("swipe-right",e),this.el.addEventListener("swipe-end",function(e){var t,n;_i_("65cb:40241715"),o=null,e.preventDefault(),t=e.detail.xDiff,n=Math.abs(e.detail.velocityX);var i=t<0?"left":"right",r=Math.min(30,.25*s.data.itemWidth),_=!1,a=Math.floor(Math.abs(t)/s.data.itemWidth);(Math.abs(t)>r||.6<n)&&(a+=1);i===(s.isRTL?"left":"right")&&(a=-a);a&&(_=s.switchTo({delta:a}));_||s.scrollTo(s.data.current,250);s.emit("panend",[i,_,e]),_r_()})),this.options.autoResize&&this._initResizeEvent(),this._initTapEvent(),_r_()},s.prototype._initResizeEvent=function(){_i_("65cb:486aca4a");var e=this,t=0,n=function(){_i_("65cb:eb03f82e"),clearTimeout(t),t=setTimeout(function(){_i_("65cb:139225bc"),e.updateStageSize(),_r_()},100),_r_()};_(window).on("resize.bmod.swpg orientationchange.bmod.swpg",n),this.on("destroy",function(){_i_("65cb:f8925e4f"),_(window).off("resize.bmod.swpg orientationchange.bmod.swpg",n),_r_()}),_r_()},s.prototype._initTapEvent=function(){_i_("65cb:5c263d59");var r=this;r.$el.on(o,function(e){if(_i_("65cb:ee64d2db"),e.isPropagationStopped())return _r_();var t=_(e.gesture&&e.gesture.target||e.target);if(t.data("action")||t.closest("[data-action]").length)return _r_();if(this._last_fire_event&&e.type!=this._last_fire_event)return _r_();this._last_fire_event=e.type;var n=_.Event("tap-el"),i=e.gesture?e.gesture.center.x:e.clientX;n.target=t[0],n.posX=i,n.sourceEvent=e,n.preventDefault=_.proxy(e.preventDefault,e),n.stopPropagation=_.proxy(e.stopPropagation,e),r.trigger(n),_r_()}),_r_()},s.prototype.getItem=function(e,t){_i_("65cb:3cccf9f1"),"next"===e?e=this._getSiblingIndex("next"):"prev"===e&&(e=this._getSiblingIndex("prev"));var n=this.$items.eq(e);return t&&this.$first__clone&&(0===e?n=n.add(this.$first__clone):e===this.data.lastIndex&&(n=n.add(this.$last__clone))),_r_(n)},s.prototype.switchTo=function(e,t){_i_("65cb:eea6b561"),"string"!=typeof e&&"number"!=typeof e||(e={index:e,animate:t}),"string"==typeof e.index&&(isNaN(e.index)?e.delta=e.index:e.index=c(e.index));var n=this,i=e.delta?this._getSiblingIndex(e.delta):e.index,r=this.getItem(i,!0),_=e.delta<0||"prev"===e.delta,a=this.data.current,o=this.data.lastIndex;if(a===i&&!e.force)return _r_();function s(){_i_("65cb:c6b11c63"),n.emit("switched",[i,r,e.delta]),_r_()}return i===o&&0===a&&_&&this.circular?n.scrollTo(a-1,e.animate,function(){_i_("65cb:aa33f147"),n.scrollTo(i,0),s(),_r_()}):0===i&&a===o&&!_&&this.circular?n.scrollTo(a+1,e.animate,function(){_i_("65cb:aa33f1471"),n.scrollTo(i,0),s(),_r_()}):n.scrollTo(i,e.animate,s),this.emit("switch",[i,r,e.delta]),this.data.current=i,this.loadItem(r),this._updateFooter(),_r_(!0)},s.prototype._updateFooter=function(){_i_("65cb:3183aa20"),this.$(".swpg__n").html(this.data.current+1),this.$(".swpg__total").html(this.data.lastIndex+1),_r_()},s.prototype._scrollToPos=function(e,t,n){_i_("65cb:238d5583"),"function"==typeof t&&(n=t,t=void 0),t=!1!==t&&isNaN(t)?this.options.animateDuration:Number(t),this.currentPos=e,this.isRTL||(e=-e);var i=t?(t/1e3).toFixed(5)+"s":"0s",r="translate3d("+e+"px, 0, 0)";this.$list.off(a),n&&t?this.$list.one(a,n):n&&setTimeout(n),this.$list.css({"transition-duration":i,transform:r}),_r_()},s.prototype.scrollTo=function(e,t,n){if(_i_("65cb:de3d79b1"),this.circular)return this._scrollToPos(this.data.itemWidth*e,t,n),_r_();var i,r,_=this,a=e<_.data.current,o=e;if(a)i=_.data.itemWidth*(e+1)-_.data.stageWidth,r=Math.max(0,i),i<0&&(_.data.current=o=0);else{var s=_.data.listWidth-_.data.stageWidth;i=_.data.itemWidth*e,r=Math.min(s,i),s<i&&(_.data.current=o=_.data.lastIndex)}_.data.listWidth<_.data.stageWidth&&(_.data.need_navigation=!1,r=c(.5*(_.data.listWidth-_.data.stageWidth))),_._scrollToPos(r,t,function(){_i_("65cb:41c2409b"),n&&n(),_.data.current=o,_r_()}),_r_()},s.prototype.loadItem=function(e,t){if(_i_("65cb:7fb62888"),"number"==typeof e&&(e=this.getItem(e,!0)),e.data("loaded")||"true"===e.attr("data-loaded"))return _r_();this._loadItem(e),e.attr("data-loaded","true"),_r_()},s.prototype._loadItem=function(e){_i_("65cb:efb724cc");var t={b_high_resolution_image:e.data("src"),b_low_resolution_image:e.data("src-small"),b_image_fit:this.options.containImages?"contain":"cover",b_image_aspect_ratio:e.data("width")/e.data("height"),fe_swipe_gallery_alt:e.attr("aria-label")};this.options.customImageFit&&(t.b_image_fit="fit"),this.templates.item?e.prepend(this.compose("item",t)):e.prepend(B.jstmpl("fe_swipe_gallery_photos").render(t)),_r_()},s.prototype.preloadSiblings=function(e,t){var n,i;_i_("65cb:2fea8d8b"),n="prev"===(t="prev"===t?"prev":"next")?"next":"prev",i=this.data.current,"number"==typeof(e=e||this.options.preload||1)&&(e=[e,e]),this.preloadSibling(i,t,e[0]),this.preloadSibling(i,n,e[1]),_r_()},s.prototype.preloadSibling=function(e,t,n){_i_("65cb:bc517bd3");var i=this.items;if(!n||n<=0)return _r_();do{if(!((e=this._getSiblingIndex(t,e))in i))break;this.loadItem(e,!0)}while(--n);_r_()},s.prototype._getSiblingIndex=function(e,t){return _i_("65cb:9bc448f8"),t=0<=t?t:this.data.current,_r_(function(e,t,n,i){_i_("65cb:95755b44"),"prev"===t?t=-1:"next"===t&&(t=1);(e+=t)<0&&(e=i?n+e+1:0);n<e&&(e=i?e-n-1:n);return _r_(e)}(t,e,this.items.length-1,this.circular))},s.prototype.enterFullscreen=function(){},s.prototype.exitFullscreen=function(){},s.prototype.toggleSmallClickableButtonArea=function(e){_i_("65cb:1258d0a3"),this.$(".swpg__prev").toggleClass("swpg__prev--bare",e),this.$(".swpg__next").toggleClass("swpg__next--bare",e),_r_()},s.prototype._detachEvents=function(){_i_("65cb:ecae773a"),this.$el.off("click"),this.options.swipable&&(this.$el.off("click"),i.detachEvents(this.el),this.el.removeEventListener("touchstart"),this.el.removeEventListener("touchend"),this.el.removeEventListener("swipe-left"),this.el.removeEventListener("swipe-end")),this.options.autoResize&&_(window).off("resize.bmod.swpg orientationchange.bmod.swpg"),this.$el.off(o),_r_()},n.exports=s,_r_()}),B.define("utils",function(e,t,n){_i_("65cb:1ae1366f"),t.assertExists=function(e,t){if(_i_("65cb:9d42554a"),"object"!=typeof e||!(t in e))throw new Error("Property "+t+" is not found");_r_()},t.camelCaseKeys=function(e){_i_("65cb:dbbbdfa4");var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t.replace(/-([a-zA-Z])/g,function(e,t){return _i_("65cb:aefe3784"),_r_(t.toUpperCase())})]=e[t]);return _r_(n)},t.nodeData=function(e){_i_("65cb:c0d6317e"),e.jquery&&(e=e[0]),this.assertExists(e,"attributes");var t,n,i,r={};for(t=0,n=e.attributes.length;t<n;t++)(i=e.attributes[t])&&0==i.name.indexOf("data-")&&(r[i.name.replace(/^data-/,"")]=i.value);return _r_(this.camelCaseKeys(r))},_r_()}),B.define("utils/uuid4",[],function(){return _i_("65cb:8fea0e4e"),_r_(function(){_i_("65cb:ee22a2af");var n=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){_i_("65cb:8aa95324");var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),_r_(("x"==e?t:3&t|8).toString(16))});return _r_(e)})}),B.define("component/utils/jump-to",function(e,t,n){"use strict";_i_("65cb:35604af8");var i=e("component"),r=e("utils");n.exports=i.extend({init:function(){_i_("65cb:1b384fe7"),this.options=r.nodeData(this.el),this.$el.on("click",function(e){_i_("65cb:4aab25da");var t=$("html, body"),n=$(this.options.afterJump),i=$(this.options.jumpTo),r=this.options.afterJumpAction||"click";if(!i.length)return _r_();if(e.preventDefault(),i=i.eq(0),t.stop().animate({scrollTop:i.offset().top+"px"},this.options.jumpToDuration||"fast"),!n.length)return _r_();n.trigger(r),_r_()}.bind(this)),_r_()}}),_r_()}),B.define("utils/deepequal",function(e,t,n){_i_("65cb:2885b5f1"),n.exports=function e(t,n,i){if(_i_("65cb:b8431e73"),typeof t!=typeof n)return _r_(!1);var r;for(r in n){if(!n.hasOwnProperty(r))continue;if(!t.hasOwnProperty(r))return _r_(!1);if("object"==typeof t[r]){if(!e(t[r],n[r],i))return _r_(!1);continue}if(i){if(t[r]!=n[r])return _r_(!1)}else if(t[r]!==n[r])return _r_(!1)}for(r in t){if(!t.hasOwnProperty(r))continue;if(!n.hasOwnProperty(r))return _r_(!1)}return _r_(!0)},_r_()}),B.define("utils/request_animation_frame",function(e,t,n){_i_("65cb:1bbee521");for(var i=window.requestAnimationFrame,_=0,r=["ms","moz","webkit","o"],a=0;a<r.length&&!i;++a)i=window[r[a]+"RequestAnimationFrame"];i||(i=function(e,t){_i_("65cb:4f44c0db");var n=(new Date).getTime(),i=Math.max(0,16-(n-_)),r=window.setTimeout(function(){_i_("65cb:6ae76207"),e(n+i),_r_()},i);return _=n+i,_r_(r)}),n.exports=i,_r_()}),function(e){_i_("65cb:9dd79243");var s=e("jquery"),c=e("event-bus"),t=e("persistent-view");t.enabled&&(t.aliases("htInfo","main"),B.events.on(B.eventNames.TABNAV_OPENED,function(e){_i_("65cb:d4ae7173");var t={};"htMap"===e.target&&(e&&e.$trigger&&(t={$trigger:e.$trigger,data:e.$trigger.data()}),c.emit(c.EVENTS.HP_MAP_OPEN,t)),_r_()}));var l=b.env.b_max_rooms_in_reservation,d=Number(B.env.fe_exp_rsw_m_hp_rt_horizontal_scroll||0);s(function(){_i_("65cb:cc805bb9"),s(".expBlock form#form_search").click(function(e){_i_("65cb:875fad7e1"),e.stopPropagation(),_r_()}),s(document).on("click",".js-hp_rt_book_button",function(){_i_("65cb:e2ae4244"),B.et.customGoal("aaMRYBdQAJUPPLcYSYNJcHIaO",3),B.et.customGoal("aaMRYBdQAFcSLcYFPWe",3),B.events.emit(B.eventNames.RT_ROOM_SUBMIT_RT),_r_()}),s(document).on("click",".bigBlueSubmitHP",function(){_i_("65cb:755bba1e");var e,t=b.env.affiliate_ga_linker;t&&(t=t.substr(t.indexOf("=")+1),s("#bookForm").append('<input type="hidden" name="_ga" value="'+t+'" />'));var n=document.getElementById("bookForm");if(0<d){if(e=s(".js-rt-rate-horizontal .num_rooms_input"),!(_=n.querySelector(".num_rooms_input"))&&e.length){var i=e[0].cloneNode();i.classList.add("js-new-hidden-input"),n.append(i)}}else e=s(".m_hp_rooms_table_2 .num_rooms_input");var r=0;if(s(e).each(function(){_i_("65cb:a027dcd0"),r+=parseInt(s(this).val(),10),_r_()}),"undefined"!==l&&0<l&&l<r){var _;(_=n.querySelector(".js-new-hidden-input"))&&_.remove(),c.emit("GA_EVENT.frontend_error",{error:"Room table: You can book at most "+l+" rooms with this hotel"}),alert(booking.env.b_too_many_rooms_selected)}else{if(0==r){var a=s(".num_rooms_btn_more");return s("html, body").animate({scrollTop:s(".m_hp_rooms_table_2").offset().top},function(){_i_("65cb:0506c928"),a.fadeOut(function(){_i_("65cb:5231d272"),a.fadeIn(),_r_()}),_r_()}),_r_(!1)}s("#bookForm").submit();var o="room";s(this).is(".m_hp_cta_top")?o="top":s(this).is(".m_hp_cta_fixed")&&(o="fixed"),B.events.emit(B.eventNames.RT_ROOM_SUBMIT,{roomsNumber:r,buttonLocation:o})}return _r_(!1)}),_r_()}),_r_()}(B.require),B.define("hotel/gallery/ga-tracking",function(e,t,n){_i_("65cb:8c5e2436");var i=e("hotel/gallery/view-counter");t.init=function(r,_){_i_("65cb:3cd1e59a");var a=new i(r.data.b_gallery_items.length);r.on("switch",function e(t,n){_i_("65cb:cca17628");var i=B.require("ga-tracker");a.view(n);a.isViewedAll()&&(i.trackEvent(_,"Gallery - All Pictures Seen","Total: "+a.total),r.off("switch",e));_r_()}),_r_()},t.MAIN_HOTEL_GALLERY="Main Hotel Gallery",t.MAIN_FULLSCREEN_GALLERY="Fullscreen Hotel Gallery",t.M_ROOM_GALLERY="M.Room Table",_r_()}),B.define("hotel/gallery/view-counter",function(e,t,n){_i_("65cb:7e78c852");var i=e("event-emitter"),r="all-viewed";function _(e){_i_("65cb:01ddec1b"),this.total=e,this.viewed=[],this.events=new i,_r_()}_.VIEWED_ALL_EVENT_NAME=r,_.prototype.view=function(e){_i_("65cb:0be484f4"),this.isViewed(e)||(this.viewed.push(e),this.isViewedAll()&&this.events.emit(r)),_r_()},_.prototype.isViewedAll=function(){return _i_("65cb:5c80910c"),_r_(this.viewed.length===this.total)},_.prototype.isViewed=function(e){return _i_("65cb:dc763c67"),_r_(-1!==this.viewed.indexOf(e))},n.exports=_,_r_()}),booking.jstmpl("bmod_swipe_gallery_items",function(){_i_("65cb:50281b17");var a=["\n        ",'\n            <li class="',"swpg__item "," swpg__item--smartcrop"," swpg__item--portrait",'"\n                data-id="','"\n                data-height="','"\n                data-width="','"\n                data-src="','"\n                data-src-small="','"\n                data-caption="','"\n                ','\n                    data-tag-group-id="','\n                data-label="','"\n                \n                ','\n                    data-is-breakfast-photo="true"\n                ',"\n                \n\n                ",'\n                    data-action="enterFullscreen"\n                ',"\n            ></li>\n\n\n        ","\n\n"],o=["b_gallery_items","b_gallery_item_class","smartCrop","b_is_portrait","id","height","width","src","srcSmall","caption","tagGroupId","label","breakfastPhoto","b_show_enlarge_btn"];return _r_(function(e){_i_("65cb:ae4b7f1e");var t="",n=this.fn;t+=a[0];var i=n.MC(o[0])||[];e.unshift(null);for(var r=1,_=i.length;r<=_;r++)e[0]=i[r-1],t+=a[1],t+=[a[2],n.MC(o[1])].join(""),n.MJ(n.MB(o[2]))&&(t+=a[3]),n.MD(o[3])&&(t+=a[4]),t+=[a[5],n.MC(o[4]),a[6],n.MC(o[5]),a[7],n.MC(o[6]),a[8],n.MC(o[7]),a[9],n.MC(o[8]),a[10],n.MC(o[9]),a[11]].join(""),n.MD(o[10])&&(t+=[a[12],n.MC(o[10]),a[11]].join("")),t+=[a[13],n.MC(o[11]),a[14]].join(""),n.MD(o[12])&&(t+=a[15]),t+=a[16],n.MD(o[13])&&(t+=a[17]),t+=a[18];return e.shift(),t+=a[19],_r_(t)})}()),booking.jstmpl("bmod_swipe_gallery",function(){_i_("65cb:d3fce258");var t,a=['\n\t<div id="','" class="swpg ','" data-current="','">\n\t\t','\n\t\t\t<div class="swpg__heading">\n\t\t\t\t<h4>',"</h4>\n\t\t\t\t","\n\t\t\t\t<p>","</p>\n\t\t\t\t","\n\t\t\t</div>\n\t\t",'\n\n\t\t<div class="',"swpg__stage ","swpg-fullscreen-enabled ","swpg__stage-enlarge-mode ",'">\n\t\t\t<ul class="swpg__photolist">\n                ',"\n        ",'\n            <li class="',"swpg__item "," swpg__item--smartcrop"," swpg__item--portrait",'"\n                data-id="','"\n                data-height="','"\n                data-width="','"\n                data-src="','"\n                data-src-small="','"\n                data-caption="','"\n                ','\n                    data-tag-group-id="','\n                data-label="','"\n                \n                ','\n                    data-is-breakfast-photo="true"\n                ',"\n                \n\n                ",'\n                    data-action="enterFullscreen"\n                ',"\n            ></li>\n\n\n        ","\n\n","\n\t\t\t</ul>\n\t\t\t",'\n\t\t\t\t<div class="swpg__navbtns">\n                    <span data-action="switchTo" data-index="prev" class="swpg__prev swpg__svg">\n                        ',"36","iconset/navarrow_left",'\n                    </span>\n                    <span data-action="switchTo" data-index="next" class="swpg__next swpg__svg">\n                        ',"iconset/navarrow_right","\n                    </span>\n\t\t\t\t</div>\n\t\t\t",'\n\n\t\t\t<div class="'," swpg__footnote "," swpg__tag "," "," swpg-room-fullscreen clx ",'">\n\t\t\t\t','\n\t\t\t\t\t<div class="swpg__footnote-content">\n\t\t\t\t',"\n                ",'\n                    <span class="swpg__fsg_btn" data-action="enterFullscreen">\n                        <i class="bicon-maximize"></i>\n                    </span>\n                ',"\n\t\t\t\t\t</div>\n\t\t\t\t",'\n                    <span class="swpg__enlarge_btn js-swpg-full-screen">\n                        \n                        ',"iconset/expand","large",'\n                        <span class="swpg__enlarge_text">\n                            ',"/private/m_rc_rd_gallery_enlarge_cta/name","\n                        </span>\n                    </span>\n                ",'\n                <span class="swpg__counter">\n                    <span class="swpg__n">\n                        ','</span>/<span class="swpg__total">\n                        ',"\n                    </span>\n\t\t\t\t</span>\n                ",'\n                    <div class="swpg__footnote-cta">\n                        <button class="primary_cta medium" data-action="submitBookForm">\n                            ',"\n                        </button>\n                    </div>\n                ","\n\t\t\t</div>\n\t\t</div>\n\t</div>\n"],o=["b_gallery_id","b_gallery_class","current","b_room_name","b_room_desc","b_is_room_fullscreen","b_show_fullscreen_btn","b_show_enlarge_btn","b_gallery_items","b_gallery_item_class","smartCrop","b_is_portrait","id","height","width","src","srcSmall","caption","tagGroupId","label","breakfastPhoto","b_show_navbtns","minItemsForNav","b_is_room_gallery","b_room_fullscreen_cta_text"];return _r_(function(r){_i_("65cb:f211a4cb");var e="",_=this.fn;return e+=[a[0],_.F.entities(_.MC(o[0])),a[1],_.MC(o[1]),a[2],_.MC(o[2]),a[3]].join(""),_.MJ(_.MC(o[5]))&&_.MJ(_.MC(o[3]))&&(e+=[a[4],_.MC(o[3]),a[5]].join(""),_.MD(o[4])&&(e+=[a[6],_.MC(o[4]),a[7]].join("")),e+=a[8]),e+=a[9],e+=a[10],_.MD(o[6])&&(e+=a[11]),_.MD(o[7])&&(e+=a[12]),e+=a[13],r.unshift({b_gallery_items:_.MC(o[8])}),e=function(e){_i_("65cb:24184645"),e+=a[14];var t=_.MC(o[8])||[];r.unshift(null);for(var n=1,i=t.length;n<=i;n++)r[0]=t[n-1],e+=a[15],e+=[a[16],_.MC(o[9])].join(""),_.MJ(_.MB(o[10]))&&(e+=a[17]),_.MD(o[11])&&(e+=a[18]),e+=[a[19],_.MC(o[12]),a[20],_.MC(o[13]),a[21],_.MC(o[14]),a[22],_.MC(o[15]),a[23],_.MC(o[16]),a[24],_.MC(o[17]),a[25]].join(""),_.MD(o[18])&&(e+=[a[26],_.MC(o[18]),a[25]].join("")),e+=[a[27],_.MC(o[19]),a[28]].join(""),_.MD(o[20])&&(e+=a[29]),e+=a[30],_.MD(o[7])&&(e+=a[31]),e+=a[32];return r.shift(),e+=a[33],_r_(e)}(e),r.shift(),e+=a[34],_.MJ(_.MC(o[21]))&&_.MJ(_.MC(o[8]).length>_.MB(o[22]))&&(e+=[a[35],(r.unshift({height:a[36],name:a[37]}),t=_.HELPER("icon",r[0]),r.shift(),t),a[38],(r.unshift({height:a[36],name:a[39]}),t=_.HELPER("icon",r[0]),r.shift(),t),a[40]].join("")),e+=a[41],e+=a[42],_.MD(o[23])&&(e+=a[43]),e+=a[44],_.MJ(_.MC(o[5]))&&_.MJ(_.MC(o[24]))&&(e+=a[45]),e+=a[44],e+=a[46],_.MD(o[24])&&(e+=a[47]),e+=a[48],_.MD(o[6])&&(e+=a[49]),e+=a[48],_.MD(o[24])&&(e+=a[50]),e+=a[48],_.MD(o[7])&&(e+=[a[51],(r.unshift({color:"#FFFFFF",name:a[52],size:a[53]}),t=_.HELPER("icon",r[0]),r.shift(),t),a[54],_.ME(a[55],_.MB,_.MN,null),a[56]].join("")),e+=[a[57],_.F.entities(_.MI(_.MC(o[2]))+_.MI(1)),a[58],_.MC(o[8]).length,a[59]].join(""),_.MJ(_.MC(o[5]))&&_.MJ(_.MC(o[24]))&&(e+=[a[60],_.MC(o[24]),a[61]].join("")),e+=a[62],_r_(e)})}()),function(e){_i_("65cb:f31ae843");var i=e("jquery");if(!i("#hotel-photos").length)return _r_();var t,n,r,_,a=e("bmod/swipe_gallery"),o=e("hotel/gallery/view-counter"),s=e("hotel/gallery/ga-tracking"),c=e("events"),l=e("server-data"),d={el:"#hotel-photos",preload:2,circular:!0,containImages:null},u=0,f=[],b=!1,h=!1,p=function(){if(_i_("65cb:dc250274"),!h)return _r_();n.length?(b=!0,n.fadeIn(),n.on("click","a",function(e){_i_("65cb:4e12239e"),c.emit(c.EVENTS.LOCK_SCREEN_RESERVE_CLICKED);var t=(this.href||"").split("#")[1];if(t){e.preventDefault();var n=i("#"+t).offset();i("html,body").animate({scrollTop:n&&n.top-20},300)}_r_()}),t.toggleSmallClickableButtonArea(!0),setTimeout(function(){_i_("65cb:14e73fc9"),clearTimeout(u),n.on("click",function(e){_i_("65cb:194b562e"),e.stopPropagation(),m(),_r_()}),_r_()},800),setTimeout(m,15e3),p=function(){_i_("65cb:bdf49199");var e=n.data("viewed")||0;2<(e+=1)&&m(),n.data("viewed",e),_r_()}):p=function(){},_r_()},m=function(){_i_("65cb:333905ae"),n.fadeOut(600),b=!1,u=setTimeout(M,2e3),p=function(){},t.toggleSmallClickableButtonArea(!1),_r_()};function M(e){if(_i_("65cb:f4291cab"),b)return _r_();_.fadeIn(e||"fast"),_r_()}function v(){_i_("65cb:ee8f208e"),_.hide(),clearTimeout(u),_r_()}_i_("65cb:e99c6493"),t=new a(d),n=t.$(".swpg__last_item_cta"),r=new o(t.items.length),_=i("#bigPhotoOverlayNew"),r.view(0),setTimeout(function(){_i_("65cb:bc2f7f3c"),t.on("switch",function(e,t){_i_("65cb:f180aeb9"),r.view(t),p(),_r_()}),_r_()},10),t.on("panstart",function(){_i_("65cb:cc2839b0"),v(),_r_()}),t.on("action",function(e,t){_i_("65cb:457f8a1b"),"switchTo"===t&&(v(),B.et.goal("hp_gallery_arrows_clicked"),203===l.b_accommodationtype_id&&B.et.goal("hp_hostel_gallery_arrows_clicked")),_r_()}),t.on("switched",function(e,t,n,i){_i_("65cb:e9ff10b1"),u=setTimeout(M,3e3),i&&B.et.goal("hp_m_gallery_img_changes"),c.emit("hp_gallery_switched",{e:e,index:t,el:n}),_r_()}),t.on("switch",function(e,t,n){_i_("65cb:c27c9386"),c.emit("hp_gallery_switch",{e:e,index:t,el:n});var i={image_id:String(n.data("id")),image_position:t};f.push(i),_r_()}),r.events.on(o.VIEWED_ALL_EVENT_NAME,function(){_i_("65cb:96255680"),h=!0,B.et.goal("hp_gallery_photos_all_viewed"),203===l.b_accommodationtype_id&&B.et.goal("hp_hostel_gallery_photos_all_viewed"),c.emit(c.EVENTS.ALL_PHOTOS_IN_GALLERY_VIEWED,f),_r_()}),setTimeout(function(){_i_("65cb:aae0915c"),s.init(t,s.MAIN_HOTEL_GALLERY),_r_()},200),_r_(),_r_()}(B.require),B.define("reviews/reviews_core",function(e){_i_("65cb:036e9393");var t=e("jquery"),_=e("querystring"),a={encodeURIComponent:function(e){return _i_("65cb:dac2c21e"),_r_(e)}},n={currentRequest:null,cache:{},base:"/reviewlist",query:(B.env.fe_reviews_base_params||{}).query||"",state:{country:(B.env.fe_reviews_base_params||{}).country||"",dist:(B.env.fe_reviews_base_params||{}).dist||"",lang:(B.env.fe_reviews_base_params||{}).lang||[],offset:(B.env.fe_reviews_base_params||{}).offset||"",page:(B.env.fe_reviews_base_params||{}).page||"",rows:(B.env.fe_reviews_base_params||{}).rows||"",rurl:(B.env.fe_reviews_base_params||{}).rurl||"",score:(B.env.fe_reviews_base_params||{}).score||[],sort:(B.env.fe_reviews_base_params||{}).sort||"",topics:(B.env.fe_reviews_base_params||{}).topics||[],type:(B.env.fe_reviews_base_params||{}).type||[],text:(B.env.fe_reviews_base_params||{}).text||"",translate:(B.env.fe_reviews_base_params||{}).translate||"",time_of_year:(B.env.fe_reviews_base_params||{}).time_of_year||""},getState:function(){return _i_("65cb:a74e410b"),_r_(this.merge({},this.state))},getURL:function(e){_i_("65cb:7f2e739b");var t=this.merge({},this.state,e||{}),n=this.mapStateToParams(t),i=this.base;return i+=this.query,_r_((i+=";")+_.stringify(n,a)+"")},mapStateToParams:function(e){_i_("65cb:f9373292");var t={},n=this.stringifyObjectValues(e||{});return null!=n.country&&(t.cc1=n.country),delete n.country,null!=n.page&&(t.pagename=n.page),delete n.page,null!=n.lang&&(t.r_lang=this.join(n.lang)),delete n.lang,null!=n.topics&&(t.review_topic_category_id=this.join(n.topics)),delete n.topics,null!=n.type&&(t.type=this.join(n.type)),delete n.type,null!=n.score&&(t.score=this.join(n.score)),delete n.score,null!=n.sort&&(t.sort=n.sort),delete n.sort,null!=n.room_id&&(t.room_id=this.join(n.room_id)),delete n.room_id,null!=n.time_of_year&&(t.time_of_year=n.time_of_year),delete n.time_of_year,_r_(this.merge({},t,n))},mapParamsToState:function(e){_i_("65cb:525357c1");var t={},n=this.stringifyObjectValues(e);return null!=n.cc1&&(t.country=n.cc1),delete n.cc1,null!=n.pagename&&(t.page=n.pagename),delete n.pagename,null!=n.r_lang&&(t.lang=this.split(n.r_lang)),delete n.r_lang,null!=n.review_topic_category_id&&(t.topics=this.split(n.review_topic_category_id)),delete n.review_topic_category_id,null!=n.type&&(t.type=this.split(n.type)),delete n.type,null!=n.score&&(t.score=this.split(n.score)),delete n.score,null!=n.sort&&(t.sort=n.sort),delete n.sort,null!=n.room_id&&(t.room_id=this.split(n.room_id)),delete n.room_id,null!=n.time_of_year&&(t.time_of_year=n.time_of_year),delete n.time_of_year,_r_(this.merge({},t,n))},stringifyObjectValues:function(e){_i_("65cb:5cdbdaad");var t=new Object;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]instanceof Array?e[n]:String(e[n]||""));return _r_(this.merge({},t))},split:function(e){_i_("65cb:b2c7674b");var t=new Array;return(e||"").split(",").map(function(e){_i_("65cb:7acace89"),e&&t.push(e),_r_()}),_r_(t)},join:function(e){_i_("65cb:e1e3eda8");var t=new Array;return(e||[]).map(function(e){_i_("65cb:125f2ac6"),e&&t.push(e),_r_()}),_r_(t.join(","))},load:function(e){_i_("65cb:57233b63");var t=this.getURL(e)+"";return _r_(this.AJAXLoad(t))},loadUrl:function(e){_i_("65cb:9181172f");var t=this.removeDuplicateAttrs(e)+"";return _r_(this.AJAXLoad(t))},removeDuplicateAttrs:function(e){_i_("65cb:3a2c3bab");var t=(e||"")+"",n=_.parseUrl(t),i=this.merge({},n.query);for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&i[r]instanceof Array&&(i[r]=i[r][i[r].length-1]);return _r_(n.base+"?"+_.stringify(i,a))},AJAXLoad:function(e){return _i_("65cb:ace699d5"),this.currentRequest&&this.currentRequest.abort&&this.currentRequest.abort({duplicate:!0}),this.currentRequest=t.ajax({url:e,success:t.proxy(this.onLoadSuccess,this,e),error:t.proxy(this.onLoadError,this)}),_r_(this.currentRequest)},trimUrl:function(e){_i_("65cb:e446c435");var t=_.parseUrl(e||""),n=this.removeUnwantedParams(t.query);return _r_(_.stringify(n,a)+"")},onLoadSuccess:function(e,t){_i_("65cb:cb9648de"),this.cacheThis(e,t),this.setStateFromUrl(e),_r_()},onLoadError:function(){},cacheThis:function(e,t){_i_("65cb:1cf02a7d");var n=this.trimUrl(e)+"";n.length&&t.length&&!this.cache[n]&&(this.cache[n]=n),_r_()},merge:function(e){_i_("65cb:02d4f61e");e=Object(e);for(var t=1;t<arguments.length;t++){var n=Object(arguments[t]);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return _r_(e)},setState:function(e){_i_("65cb:df1a70f0");var t=this.removeUnwantedParams(e);this.state=this.merge({},this.state,t),_r_()},removeUnwantedParams:function(e){_i_("65cb:9345ca0b");var t=this.merge({},Object(e));return this.unwantedParams.map(function(e){_i_("65cb:e4c65278"),null!=t[e]&&delete t[e],_r_()}),_r_(this.merge({},t))},setStateFromUrl:function(e){_i_("65cb:e49df3c5");var t=this.trimUrl(e),n=_.parse(t),i=this.mapParamsToState(n);this.setState(i),_r_()},init:function(){_i_("65cb:3d5e42a8");var e=[this.base],t=_.parseUrl(this.base+this.query),n=this.merge({},t.query);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.push(i);this.unwantedParams=e,_r_()}};return n.init(),_r_(n)}),B.define("hotel/reviews",function(e,t,n){_i_("65cb:67cd23f0");var a,o=e("jquery"),i=e("reviews/reviews_core"),s=e("et"),c="mdot"==((B||{}).env||{}).b_site_type,l="www"==((B||{}).env||{}).b_site_type;function r(t,n){_i_("65cb:a95d9c7b");var i=this;return _r_(function(){_i_("65cb:e6bb168f");var e=Array.prototype.slice.call(arguments);e=e.concat(n),t.apply(i,e),_r_()}.bind(i))}l&&(a=e("events")),c&&(a=e("event-bus"));var _={core:i,$e:o({}),events:{LOAD_BEFORE:"load:before",LOAD_AFTER:"load:after",LOAD_SUCCESS:"load:success",LOAD_ERROR:"load:error",LOAD_CANCELED:"load:canceled"},loadError:function(e,t){_i_("65cb:caf78df4"),t&&t.duplicate?this.$e.trigger(this.events.LOAD_CANCELED):this.$e.trigger(this.events.LOAD_ERROR),this.loadAfter(),_r_()},loadSuccess:function(){_i_("65cb:9524a4c6");var e=Array.prototype.slice.call(arguments);e.splice(1,2);var t=e[0],n=e[1]||void 0;this.$e.trigger(this.events.LOAD_SUCCESS,[t,n]),this.loadAfter(n),s.goal("js_review_list"),l&&(a.trigger("hotel:reviewlist:success:tab",n),a.trigger("REVIEWS:fetched",n)),c&&a.trigger("REVIEWS:fetched",n);var i=(o("[data-reviewlist-req-info]").data("reviewlist-req-info")||"").split(","),r=o("#req_info"),_=r.html();i.map(function(e){_i_("65cb:66210960"),e.length&&_.indexOf(e)<0&&r.html(_+","+e),_r_()}),_r_()},loadAfter:function(e){_i_("65cb:68aa585d"),this.$e.trigger(this.events.LOAD_AFTER,e),_r_()},loadBefore:function(e){_i_("65cb:57d7b318"),this.$e.trigger(this.events.LOAD_BEFORE,e),l&&(a.trigger("hotel:reviewlist:request:tab"),a.trigger("REVIEWS:startfetch")),c&&a.trigger("REVIEWS:startfetch"),_r_()},on:function(e,t){if(_i_("65cb:8103c2ae"),!e||"string"!=typeof e||!t||"function"!=typeof t)return _r_(!1);this.$e.on(e,t),_r_()},load:function(e){_i_("65cb:b219c8b0");var t=Array.prototype.slice.call(arguments);t.shift(),this.loadBefore(t),this.core.load(e).done(r.call(this,this.loadSuccess,t)).fail(r.call(this,this.loadError,t)),_r_()},loadUrl:function(e){_i_("65cb:ca99e96c");var t=Array.prototype.slice.call(arguments);t.shift(),this.loadBefore(t),this.core.loadUrl(e).done(r.call(this,this.loadSuccess,t)).fail(r.call(this,this.loadError,t)),_r_()},getUrl:function(){return _i_("65cb:c8dc5a65"),_r_(this.core.getURL())},getState:function(){return _i_("65cb:18985e55"),_r_(this.core.getState())},setState:function(e){return _i_("65cb:35c6235c"),_r_(this.core.setState(e))}},d={events:_.events,load:_.load.bind(_),on:_.on.bind(_),getState:_.getState.bind(_),setState:_.setState.bind(_),loadUrl:_.loadUrl.bind(_),getUrl:_.getUrl.bind(_)};return B.Reviews=B.Reviews||d,_r_(B.Reviews)}),B.define("hotel/roomstable/reducers",function(e,t,n){_i_("65cb:ec545952");var b=e("hotel/roomstable/actions"),h=e("hotel/roomstable/extra-charges"),s=e("hotel/roomstable/total-strikethrough"),p=e("hotel/roomstable/nightly-price"),m=e("server-data"),M=m.b_room_blocks_json||{},v=0,g=B.utils?B.utils.accounting:{},w=Number(m.fe_exp_rsw_m_hp_rt_horizontal_scroll)||0,y={},k=!1;function E(){_i_("65cb:89851d00");var t,n={},i={};return Object.keys(M).forEach(function(e){_i_("65cb:e204572f"),t=M[e],!n[t.roomId]&&t.sharesAvailabilityOnRoomLevel&&(n[t.roomId]=t.maxRooms),0<w&&(i[t.roomId]||(i[t.roomId]=null)),_r_()}),_r_({roomTypeAvailability:n,roomPage:{isVisible:!1,selectedBlockId:null,selectedRoomPageId:null,selectedBlock:{}},selection:{blocks:{},blockIdOfRoomGroup:i,totalPrice:0,totalRooms:0,totalPriceFormatted:"",sameRoomType:!0,isGroupRecommendation:!1,roomTypeId:"",useNightlyPrice:!1,useNightlyPriceAsDominant:!1,beTranslations:{},nightlyPricePretty:"",roomsNightsText:""},isCartEnabled:!0,isLoading:!1,totalPriceFormattedBE:"",totalPriceChargesBE:"",roomFilter:{selectedFilters:[],displayedRooms:[]}})}function C(e){if(_i_("65cb:1a660f91"),"structuredClone"in window)return _r_(structuredClone(e));return _r_(JSON.parse(JSON.stringify(e)))}function N(t){_i_("65cb:85ef3cd9");var n,i,r,_=0,a=0,o=!0;Object.keys(t).forEach(function(e){_i_("65cb:1f0a069a"),i=M[e].price_for_js||M[e].price,o=Boolean(o&&(!r||r&&r===M[e].roomTypeId)),r=M[e].roomTypeId,n=t[e].count,M[e].sharesAvailabilityOnRoomLevel?_+=i*n:M[e].priceMultipleRooms?_+=parseFloat(M[e].priceMultipleRooms[n]):_+=i*n,a+=n,_r_()}),_=Math.round(_);var e={blocks:t,totalPrice:Math.round(parseFloat((_*Math.pow(10,2)).toFixed(2)))/Math.pow(10,2),totalRooms:a,sameRoomType:o};return o&&(e.roomTypeId=r),g&&(e.totalPriceFormatted=g.formatMoney(_),e.extraChargesText=h.getExtraChargesText(t),e.totalStrikethroughText=s.getTotalStrikethroughText(t,_)),_r_(e)}function T(e){_i_("65cb:1f879466");var t=Object.assign({},E().roomTypeAvailability);for(var n in e.blockIdOfRoomGroup){var i=e.blockIdOfRoomGroup[n],r=e.blocks[i];r&&(t[n]-=r.count,t[n]<0&&(t[n]=0))}return _r_(t)}function j(t,n,e,i){_i_("65cb:658250c1");var r,_,a=document.getElementById(n);if(a&&a.attributes["data-block-mealplan-id"]){var o=a.attributes["data-block-mealplan-id"].value;r=n,_=o,_i_("65cb:b962b334"),document.getElementById(r).id=_,_r_(),n=o}if(!(t&&t.blocks))return _r_({});return t.blocks[n]||(t.blocks[n]={roomName:M[n].roomName,count:0,latestSelectedPerRoom:0,lightbox:{isOpen:!1,isDirty:!1}}),i?t.blocks[n].count=e:t.blocks[n].count+=e,t.blocks[n].lightbox.isOpen&&(t.blocks[n].lightbox.isDirty=!0),0===t.blocks[n].count?(delete t.blocks[n],0<w&&(t=S(t,x(n),null))):(Object.assign(t.blocks[n],h.getExtraCharges(n,t.blocks[n].count)),Object.assign(t.blocks[n],s.getStrikethroughRaw(n,t.blocks[n].count))),Object.keys(t.blocks).filter(function(e){return _i_("65cb:09172e8e"),_r_(M[e].roomId===M[n].roomId)}).forEach(function(e){_i_("65cb:19bd8abd"),t.blocks[e].latestSelectedPerRoom=0,e===n&&(t.blocks[e].latestSelectedPerRoom=1),_r_()}),0<w&&Object.assign(t,p.getNightlyPrice(t)),_r_(t)}function S(e,t,n){return _i_("65cb:4af8635f"),e.blockIdOfRoomGroup[t]=n,_r_(e)}function x(e){if(_i_("65cb:fe1ef918"),M.hasOwnProperty(e))return _r_(M[e].roomId);return _r_(null)}n.exports=function(e,a){_i_("65cb:d1750de4");var t,n,i,r,o=e||E(),_=function(e,t){if(_i_("65cb:793a7af5"),!M.hasOwnProperty(a.blockId))return _r_(o);0<w&&S(o.selection,x(a.blockId),a.blockId);var n=j(o.selection,a.blockId,e,t);Object.assign(n,N(n.blocks)),n.isGroupRecommendation=function(e){_i_("65cb:786e4576");var t=!1;if(m.b_is_group_search&&m.b_room_group&&0<e.totalRooms&&Object.keys(e.blocks).length===m.b_room_group.length){t=!0;for(var n=0;n<m.b_room_group.length;n++){var i=m.b_room_group[n];if(!e.blocks[i.b_block_id]||e.blocks[i.b_block_id].count!==i.b_rooms_needed){t=!1;break}}}return _r_(t)}(n);var i=Object.assign({},o.roomTypeAvailability,function(e,t,n,i,r){_i_("65cb:119d661f");var _,a={},o=M[t].roomId,s=0;return e.hasOwnProperty(o)&&(i?(_=E().roomTypeAvailability[o],Object.keys(r.blocks).forEach(function(e){_i_("65cb:4839e273");var t=M[e].roomId;t===o&&(s+=r.blocks[e].count),_r_()}),a[o]=_-s,a[o]<0&&(r.blocks[t].count=r.blocks[t].count+a[o],a[o]=0)):a[o]=e[o]-n),_r_(a)}(o.roomTypeAvailability,a.blockId,e,t,n));Object.assign(n,p.getNightlyPrice(n));var r=window.B&&window.B.env&&window.B.env.b_checkin_checkout_interval?window.B.env.b_checkin_checkout_interval:1;n.roomsNightsText=function(e,t){var n;switch(_i_("65cb:e7eef2e0"),e.sameRoomType&&e.roomTypeId||"0"){case"29":n="vm_price_display_num_holiday_homes_child";break;case"31":n="vm_price_display_num_villas_child";break;case"1":n="vm_price_display_num_apartments_child";break;case"28":n="vm_price_display_num_chalets_child";break;case"27":n="vm_price_display_num_bungalows_child";break;case"26":n="vm_price_display_num_dorm_beds_child";break;case"33":n="vm_price_display_num_units_child";break;default:n="vm_price_display_num_rooms_child"}return _r_(B.jstmpl.translations("vm_price_display_units_nights_summary_parent",null,{num_units:B.jstmpl.translations(n,e.totalRooms,{num_units:e.totalRooms}),num_nights:B.jstmpl.translations("vm_price_display_num_nights_child",t,{num_units:t,num_nights:t})}))}(n,r);var _=1===n.totalRooms||"bbasic_"===a.blockId;return _r_(Object.assign(o,{selection:n,roomTypeAvailability:i,totalPriceFormattedBE:_?n.totalPriceFormatted:o.totalPriceFormattedBE,totalPriceChargesBE:_?n.extraChargesText:o.totalPriceChargesBE}))};switch(a.type){case b.TYPES.SET_TOTAL_PRICE:return _r_(Object.assign(o,{totalPriceFormattedBE:g.formatMoney(Math.round(a.payload.total_price)),totalPriceChargesBE:h.getExtraChargesText(o.selection.blocks,!1,a.payload.total_charges)}));case b.TYPES.ADD_SELECTION:return _r_(_(1));case b.TYPES.SET_LOADING:return _r_(Object.assign(o,{isLoading:a.isLoading}));case b.TYPES.REMOVE_SELECTION:return _r_(_(-1));case b.TYPES.CHANGE_SELECTION:return _r_(_(a.count,!0));case b.TYPES.TOGGLE_ROOM_PAGE:return a.isVisible?(v=o.selection,o=Object.assign(o,{selection:E().selection}),_(1)):o=Object.assign(o,_(0,!0),{selection:v}),_r_(Object.assign(o,{roomPage:Object.assign(o.roomPage,{isVisible:a.isVisible}),selection:Object.assign(o.selection,N(o.selection.blocks))}));case b.TYPES.OPEN_ROOM_DETAILS:return _r_(function(e,t){_i_("65cb:71f8eabf");var n=t.blockId.split("_")[0],i=C(e.selection);for(var r in y=C(e.selection),k=e.isCartEnabled,i.blockIdOfRoomGroup){var _=i.blockIdOfRoomGroup[r],a=null!==_,o=r===n;a&&!o&&(i=j(i,_,0,!0))}if(Object.assign(i,N(i.blocks)),0===i.totalRooms&&0<w){var s=e.roomFilter.displayedRooms.find(function(e){return _i_("65cb:3c95c3ed"),_r_(Number(e.b_room_id)===Number(n))});if(s){var c=s.b_blocks[0],l=c.b_block_id;i.blockIdOfRoomGroup[n]=l,i=j(i,l,1,!0),Object.assign(i,N(i.blocks));try{"sessionStorage"in window&&sessionStorage.setItem("isAutoSelected",1)}catch(e){}}}var d={isVisible:!0,selectedBlockId:t.blockId,selectedRoomPageId:t.roomPageId,selectedBlock:M[t.blockId]},u=T(i);return _r_(Object.assign(e,{isCartEnabled:!1,roomPage:Object.assign({},e.roomPage,d),selection:Object.assign({},e.selection,i),roomTypeAvailability:Object.assign({},e.roomTypeAvailability,u)}))}(o,a));case b.TYPES.CLOSE_ROOM_DETAILS:return _r_(function(e,t){_i_("65cb:d4282255");var n=Object.assign({},y);for(var i in n.blockIdOfRoomGroup){var r=n.blockIdOfRoomGroup[i],_=null!==r;if(_){var a=n.blocks[r].count;n=j(n,r,a,!0)}}Object.assign(n,N(n.blocks));var o=T(n);return y={},_r_(Object.assign(e,{isCartEnabled:k,roomPage:Object.assign({},e.roomPage,{isVisible:!1}),selection:Object.assign({},n),roomTypeAvailability:Object.assign({},e.roomTypeAvailability,o)}))}(o));case b.TYPES.OPEN_ROOM_PAGE:var s=1;return o.selection.blocks&&a.blockId in o.selection.blocks&&(s=o.selection.blocks[a.blockId].count,o.selection.blocks[a.blockId].lightbox.isDirty=!0),v=o.selection,o=Object.assign(o,{selection:E().selection}),_(s,!0),o.selection.blocks[a.blockId].lightbox.isOpen=!0,_r_(Object.assign(o,{roomPage:Object.assign(o.roomPage,{isVisible:!0,selectedBlockId:a.blockId,selectedRoomPageId:a.roomPageId,selectedBlock:M[a.blockId]}),selection:Object.assign(o.selection,N(o.selection.blocks))}));case b.TYPES.DISABLE_SELECTION_VISIBILTY:case b.TYPES.ENABLE_SELECTION_VISIBILTY:return _r_(Object.assign(o,{isCartEnabled:a.isCartEnabled}));case b.TYPES.CLOSE_ROOM_PAGE:s=0;var c=o.selection.blocks[a.blockId];return c&&c.lightbox.isDirty?s=c.count:c&&v.blocks[a.blockId]&&(s=v.blocks[a.blockId].count),c&&(o=Object.assign(o,{selection:v}),_(s,!0)),0<s&&(o.selection.blocks[a.blockId].lightbox={isOpen:!1,isDirty:!1}),_r_(Object.assign(o,{roomPage:Object.assign(o.roomPage,{isVisible:!1,selectedBlockId:null,selectedRoomPageId:null,selectedBlock:{}}),selection:Object.assign(o.selection,N(o.selection.blocks))}));case b.TYPES.REPLACE_BLOCKS_IN_SELECTION:var l=E().selection;if(!a.blocks||!a.blocks.length)return _r_(o);return a.blocks.forEach(function(e){_i_("65cb:8a7f16d3"),l=j(l,e.blockId,e.count),_r_()}),_r_(Object.assign(o,{selection:Object.assign(l,N(l.blocks))}));case b.TYPES.SET_RATE_PLAN:var d;if(l=e.selection,null!==a.blockId&&(i=l,r=a.roomId,_i_("65cb:c6159004"),d=i.blockIdOfRoomGroup?_r_(i.blockIdOfRoomGroup[r]):_r_(null)),d&&d!==a.blockId){var u=(t=l,n=d,_i_("65cb:3fbb8aff"),_r_(t.blocks[n].count)),f=a.blockId;l=j(l,d,0,!0),l=M[f]&&M[d]&&M[f].maxRooms<M[d].maxRooms?j(l,f,M[f].maxRooms):j(l,f,u),a.isInRoomDetail&&(l.blocks[f].lightbox.isDirty=!0)}return l=S(l,a.roomId,a.blockId),_r_(Object.assign(o,{selection:Object.assign(l,N(l.blocks))}));case b.TYPES.SET_ROOM_FILTER_CRITERIA:return _r_(Object.assign(o,{roomFilter:{selectedFilters:a.selectedFilters,displayedRooms:a.displayedRooms}}));case b.TYPES.RESET_SELECTION:return _r_(Object.assign({},E(),{roomFilter:o.roomFilter}));case b.TYPES.SET_FORM_ACTION:return _r_(Object.assign(o,{formAction:a.formAction}));default:return _r_(o)}_r_()},_r_()}),B.define("hotel/roomstable/actions",function(e,t,n){_i_("65cb:a391a451");var c={},i=e("search-config"),r=e("server-data"),a=Number(r.fe_exp_rsw_m_hp_rt_horizontal_scroll);function _(_){return _i_("65cb:caca4924"),_r_(function(){_i_("65cb:307b8788");var r=arguments;return _r_(function(e,t){if(_i_("65cb:50b3cc45"),0<a){var n=r[0].split("_")[0],i=t().roomsTable.selection.blockIdOfRoomGroup[n];r[0]=i||r[0],e(_.apply(null,r))}else e(_.apply(null,r));_r_()})})}c.TYPES={TOGGLE_ROOM_PAGE:"TOGGLE_ROOM_PAGE",OPEN_ROOM_PAGE:"OPEN_ROOM_PAGE",CLOSE_ROOM_PAGE:"CLOSE_ROOM_PAGE",OPEN_ROOM_DETAILS:"OPEN_ROOM_DETAILS",CLOSE_ROOM_DETAILS:"CLOSE_ROOM_DETAILS",SET_LOADING:"SET_LOADING",ADD_SELECTION:"ADD_SELECTION",REMOVE_SELECTION:"REMOVE_SELECTION",CHANGE_SELECTION:"CHANGE_SELECTION",RESET_SELECTION:"CLEAR_SELECTION",SET_RATE_PLAN:"SET_RATE_PLAN",ENABLE_SELECTION_VISIBILTY:"ENABLE_SELECTION_VISIBILTY",DISABLE_SELECTION_VISIBILTY:"DISABLE_SELECTION_VISIBILTY",REPLACE_BLOCKS_IN_SELECTION:"REPLACE_BLOCKS_IN_SELECTION",SET_TOTAL_PRICE:"SET_TOTAL_PRICE",SET_ROOM_FILTER_CRITERIA:"SET_ROOM_FILTER_CRITERIA",SET_FORM_ACTION:"SET_FORM_ACTION"},c.addSelection=_(function(e){return _i_("65cb:8709d8d7"),_r_({type:c.TYPES.ADD_SELECTION,blockId:e})}),c.removeSelection=_(function(e){return _i_("65cb:3b4e9962"),_r_({type:c.TYPES.REMOVE_SELECTION,blockId:e})}),c.changeSelection=_(function(e,t){return _i_("65cb:5d4a6d8a"),_r_({type:c.TYPES.CHANGE_SELECTION,blockId:e,count:t})}),c.replaceSelection=function(e){return _i_("65cb:a3a74676"),_r_({type:c.TYPES.REPLACE_SELECTION,blocks:e})},c.resetSelection=function(){return _i_("65cb:12b43c5f"),_r_({type:c.TYPES.RESET_SELECTION})},c.setLoading=function(e){return _i_("65cb:26605f31"),_r_({type:c.TYPES.SET_LOADING,isLoading:e})},c.calculateTotalPrice=function(e,n){return _i_("65cb:9cebb1c9"),_r_(function(t){_i_("65cb:66b5686c"),t(c.setLoading(!0)),B.require("fragment").call("hotel.total_price",{hotel_id:r.b_hotel_id,search_config:i.getRawValue(),checkin:r.b_checkin_date,checkout:r.b_checkout_date,selected:n,selected_blocks:e}).then(function(e){_i_("65cb:f8517563"),t(c.setTotalPrice(e)),t(c.setLoading(!1)),_r_()},function(e){_i_("65cb:c5b86fc4"),t(c.setLoading(!1)),_r_()}),_r_()})},c.toggleRoomPage=function(e,t){return _i_("65cb:098c9a95"),_r_({type:c.TYPES.TOGGLE_ROOM_PAGE,blockId:e,isVisible:t})},c.openRoomDetailsModal=_(function(e,t){return _i_("65cb:10fbbfc1"),_r_({type:c.TYPES.OPEN_ROOM_DETAILS,blockId:e,roomPageId:t})}),c.closeRoomDetailsModal=_(function(e){return _i_("65cb:da0aa23d"),_r_({blockId:e,type:c.TYPES.CLOSE_ROOM_DETAILS})}),c.openRoomPage=_(function(e,t){return _i_("65cb:8881fca4"),_r_({type:c.TYPES.OPEN_ROOM_PAGE,blockId:e,roomPageId:t})}),c.closeRoomPage=_(function(e){return _i_("65cb:3ab247e5"),_r_({type:c.TYPES.CLOSE_ROOM_PAGE,blockId:e})}),c.disableSelection=function(){return _i_("65cb:6f2b90fe"),_r_({type:c.TYPES.DISABLE_SELECTION_VISIBILTY,isCartEnabled:!1})},c.enableSelection=function(){return _i_("65cb:a2eb62c9"),_r_({type:c.TYPES.ENABLE_SELECTION_VISIBILTY,isCartEnabled:!0})},c.setRoomFilterCriteria=function(e,t){return _i_("65cb:0e23bebc"),_r_({type:c.TYPES.SET_ROOM_FILTER_CRITERIA,selectedFilters:e,displayedRooms:t})},c.setRatePlan=function(a,o,s){return _i_("65cb:b9a4120d"),_r_(function(e,t){_i_("65cb:0977da96"),e({type:c.TYPES.SET_RATE_PLAN,roomId:a,blockId:o,isInRoomDetail:s});var n=t().roomsTable.selection.blocks,i=Object.keys(n),r={};for(var _ in n)r[_]=n[_].count;e(c.calculateTotalPrice(i,r)),_r_()})},c.setTotalPrice=function(e){return _i_("65cb:1adbc74e"),_r_({type:c.TYPES.SET_TOTAL_PRICE,payload:e})},c.setFormAction=function(e){return _i_("65cb:a3956dd9"),_r_({type:c.TYPES.SET_FORM_ACTION,formAction:e})},n.exports=c,_r_()}),B.define("hotel/roomsfilter/reducers",function(e,t,n){_i_("65cb:fb3d8cd8");var r=e("hotel/roomsfilter/actions");n.exports=function(e,t){_i_("65cb:e09b70f9");var n=e||(_i_("65cb:bb6b8860"),_r_({activeFilterList:[]}));switch(t.type){case r.TYPES.TOGGLE_FILTER:var i=function(e,n){_i_("65cb:1aa044c4");var t=e.activeFilterList,i=!1;if(t=t.filter(function(e,t){return _i_("65cb:14fb6b40"),e.key===n.key&&e.id===n.id&&e.value===n.value&&(i=!0),_r_(e.key!==n.key)}),i)return _r_(t);return _r_([n].concat(t))}(n,t.payload);return _r_(Object.assign({},n,{activeFilterList:i}));default:return _r_(n)}_r_()},_r_()}),B.define("hotel/roomsfilter/actions",function(e,t,n){_i_("65cb:cd30d611");var i={TYPES:{TOGGLE_FILTER:"TOGGLE_FILTER"},toggleFilter:function(e){return _i_("65cb:3d011292"),_r_({type:i.TYPES.TOGGLE_FILTER,payload:e})}};n.exports=i,_r_()}),B.define("component/hotel/selection_stepper",function(e,t,n){_i_("65cb:f56c1676");var i=e("component/reactive"),s=e("hotel/roomstable/actions"),c=e("hotel/roomstable").RT,l=e("events"),r=e("server-data"),d=e("et"),u=r.b_room_blocks_json||{},f=window.BUI.createInstance("Toast"),_=document.querySelectorAll(".js-group_recommendation"),b=e("jquery"),h=e("hotel/roomstable/bundles/actions"),p=e("hotel/roomstable/bundles/helpers"),a=e("hotel/room_preferences/horizontal_rate_preference/utils"),m=Number(r.fe_exp_rsw_m_hp_rt_horizontal_scroll);n.exports=i.extend({template:"selection_stepper_template",store:e("hotel/store"),getSelection:function(e){_i_("65cb:8750f40c");var t=this.getStoreState().store.roomsTable.selection.blocks,n={};(t.hasOwnProperty(e)&&t[e]&&(n=t[e]),0<m)&&(n=t[a.getProxyBlockId(e)]);return _r_(n)},initialize:function(){_i_("65cb:d934c16b");var e=this.$el.data("blockId");this.setState({blockId:e,group_recommendation_available:Boolean(_.length)}),u[e]&&this.setState({isHotelRoom:u[e].isHotelRoom,roomTypeId:u[e].roomTypeId,maxRooms:u[e].maxRooms,fe_exp_rsw_m_hp_rt_horizontal_scroll:m}),_r_()},handlePlusClick:function(e){if(_i_("65cb:371548dc"),this.getStoreState().store.roomsTable.isLoading)return _r_();var t=this.getInnerState().blockId,n=this.getStoreState().store.roomsTable,i=n.selection.blocks,r=n.roomTypeAvailability,_=this.getStoreState().store.bundles,a=p.getGroupIdFromBlockId(t);if(_&&_.isBundleRatesExperimentOn&&_.groups&&_.groups[a]&&(t=_.groups[a].currentSelection||t),t in i&&i[t].count>=u[t].maxRooms)return f.show({text:B.jstmpl.translations("m_rt_selected_growl_room_type",null,{room_type:i[t].roomName})}),_r_(!1);if(t in i&&u[t].sharesAvailabilityOnRoomLevel&&r[u[t].roomId]<=0)return f.show({text:B.jstmpl.translations("m_rt_selected_growl_room_type",null,{room_type:i[t].roomName})}),_r_(!1);if(_&&_.isBundleRatesExperimentOn&&_.groups&&_.groups[a]){var o=_.groups[a].currentSelection||t;this.dispatch(h.updateRoomCount(o,!0)),this.dispatch(s.addSelection(o)),l.emit(l.EVENTS.RT_ROOM_ADD),_.groups[a].selection&&1<_.groups[a].selection.length&&b("#"+o).find(".rt-mealplan-bundle-container").hide()}else this.dispatch(s.addSelection(t)),l.emit(l.EVENTS.RT_ROOM_ADD);return _r_(!1)},handleMinusClick:function(e){if(_i_("65cb:959a1430"),this.getStoreState().store.roomsTable.isLoading)return _r_();var t=this.getInnerState().blockId,n=this.getStoreState().store.bundles,i=p.getGroupIdFromBlockId(t),r=n&&n.isBundleRatesExperimentOn&&n.groups&&n.groups[i]&&n.groups[i].selection&&n.groups[i].selection.length||0;r&&(t=n.groups[i].selection[r-1]);var _=this.getSelection(t);if(_&&_.count){this.dispatch(s.removeSelection(t));var a=c.room(t);l.emit(l.EVENTS.RT_ROOM_REMOVE,{$room:a.$room});var o=this.getSelection(t);(0==_.count||o&&0===o.count)&&(d.goalWithValue("js_rsweb_deselect_rate_from_stepper",1),l.emit(l.EVENTS.RT_ROOM_UNSELECT,{$room:a.$room}))}return n&&n.isBundleRatesExperimentOn&&n.groups&&n.groups[i]&&n.groups[i].selection&&(this.dispatch(h.updateRoomCount(t,!1)),n.groups[i].selection.length<2&&(b("#"+t).find(".rt-mealplan-bundle-container").show(),b("#opt_"+n.groups[i].selection[0]).find(".rt-selection-mealplan").trigger("click"))),m&&e.preventDefault(),_r_(!1)},handleClickRemove:function(e){_i_("65cb:96d3f7d0"),e.preventDefault();var t=this.getInnerState().blockId,n=c.room(t);l.emit(l.EVENTS.RT_ROOM_UNSELECT,{$room:n.$room}),this.dispatch(s.changeSelection(t,0)),_r_()}}),_r_()}),booking.jstmpl("selection_stepper_template",function(){_i_("65cb:b4f606e3");var s,c=["\n    ","\n\n\n\n\n\n\n\n\n\n","\n\n<div>\n","\n","\n\n","\n\n\n","\n        ","\n            ",'\n            <input\n                type="hidden"\n                class="num_rooms_input"\n                size="2"\n                value="','"\n                name="nr_rooms_','"\n            >\n        ',"\n\n\n\n\n",'\n    <div\n        class="',"js-hotel-selection-stepper-container ","rt-rates-stepper","hotel-selection-stepper-container ",'"\n    >\n        ',"\n            \n            ",'\n                <input\n                    type="hidden"\n                    class="num_rooms_input"\n                    size="2"\n                    value="','"\n                    name="nr_rooms_','"\n                >\n            ',"\n                \n                ",'\n                    <input\n                        type="hidden"\n                        class="num_rooms_input"\n                        size="2"\n                        value="','"\n                        name="nr_rooms_','"\n                    >\n                ',"\n                \n            ","\n\n\n            \n            ",'\n\n                <div class="rt-rates-stepper__main">\n                    <button\n                        type="button"\n                        class="bui-button bui-button--tertiary num_rooms_btn num_rooms_btn_less button"\n                        tabindex="-1"\n                        on:click="handleMinusClick"\n                    >\n                        <span class="bui-icon bui-icon--medium">\n                            ',"streamline/minus","medium","14",'\n                        </span>\n                    </button>\n\n                    <span class="num_rooms_text rt_plus_minus_together__num_room_type" aria-hidden="true">\n                        ',"\n                            ","/private/m_hp_rt_num_rooms/name","\n                        ","/private/m_hp_rt_num_accomodations/name",'\n                    </span>\n\n                    <button\n                        type="button"\n                        class="bui-button bui-button--tertiary num_rooms_btn num_rooms_btn_more button"\n                        tabindex="-1"\n                        on:click="handlePlusClick"\n                    >\n                        <span class="bui-icon bui-icon--medium">\n                            ',"streamline/plus",'\n                        </span>\n                    </button>\n                </div>\n\n                <div class="rt-rates-stepper__remove">\n                    <button\n                        type="button"\n                        class="bui-button bui-button--tertiary num_rooms_btn num_rooms_btn_remove"\n                        on:click="handleClickRemove"\n                        tabindex="-1"\n                        aria-label="',"/private/m_rt_cta_remove/name",'"\n                    >\n                        <span class="bui-icon bui-icon--medium">\n                            ',"streamline/trash","\n                        </span>\n                    </button>\n                </div>\n\n            ",'\n\n                <button\n                    type="button"\n                    class="num_rooms_btn num_rooms_btn_less button"\n                    on:click="handleMinusClick"\n                >\n                    -\n                </button>\n\n                <span class="num_rooms_text rt_plus_minus_together__num_room_type">\n                    ',"\n                    ","/private/m_hp_rt_num_apartments/name","/private/m_hp_rt_num_beds/name","/private/m_hp_rt_num_bungalows/name","/private/m_hp_rt_num_chalets/name","/private/m_hp_rt_num_holidayhomes/name","/private/m_hp_rt_num_villas/name","\n                            \n                            ",'\n                </span>\n\n                <button\n                    type="button"\n                    class="num_rooms_btn num_rooms_btn_more button"\n                    on:click="handlePlusClick"\n                >\n                    +\n                </button>\n\n            ',"\n\n        ","\n    </div>\n","\n\n</div>\n"],l=["store","fe_store_selection","fe_selected_blocks","blockId","options_for_base_block","fe_count","fe_mealplan_count","fe_in_bundles_exp","fe_exp_rsw_m_hp_rt_horizontal_scroll","isHotelRoom","roomTypeId","b_accommodationtype_id"];return _r_(function(a){_i_("65cb:7a1e0e6c");var e="",o=this.fn;return e=function(e){if(_i_("65cb:c72fd19f"),e+=[c[1],"",c[2]].join(""),o.MN("fe_store_selection",o.MG(((o.MC(l[0])||{}).roomsTable||{}).selection)),e+=c[3],o.MN("fe_selected_blocks",o.MG((o.MC(l[1])||{}).blocks)),e+=c[3],o.MN("fe_count","0"),e+=c[4],o.MJ(o.MB(l[2]))&&o.MJ(o.MB(l[3]))&&o.MJ(o.MC(l[2])[o.MB(l[3])])&&(e+=c[0],o.MN("fe_count",o.MC(l[2])[o.MC(l[3])].count),e+=c[3]),e+=c[5],o.MN("fe_in_bundles_exp",0),e+=c[3],o.MJ(o.MG((o.MC(l[0])||{}).bundles))&&(e+=c[0],o.MN("fe_in_bundles_exp",o.MG(((o.MC(l[0])||{}).bundles||{}).isBundleRatesExperimentOn)),e+=c[3]),e+=c[4],o.MJ(o.MB(l[7]))&&o.MJ(o.MB(l[2]))&&o.MJ(o.MB(l[3]))&&o.MJ(o.MC(l[0]).bundles.baseBlocksToBlockHash[o.MB(l[3])])&&o.MK(o.MB(l[8]))){e+=c[0],o.MN("options_for_base_block",o.MC(l[0]).bundles.baseBlocksToBlockHash[o.MB(l[3])]),e+=c[0],o.MN("fe_count",0),e+=c[0];var t=o.MC(l[4])||[];a.unshift({option:null});for(var n,i=1,r=t.length;i<=r;i++)a[0].option=n=t[i-1],e+=c[6],o.MJ(o.MC(l[2])[n])&&(e+=c[7],o.MN("fe_mealplan_count",o.MC(l[2])[n].count),e+=c[7],o.MN("fe_count",o.MI(o.MB(l[5]))+o.MI(o.MC(l[2])[n].count)),e+=[c[8],o.F.entities(o.MC(l[6])),c[9],o.F.entities(n),c[10]].join("")),e+=c[0];a.shift(),e+=c[3]}var _;return e+=c[11],e+=c[4],_=e,_i_("65cb:516fd5d9"),_+=c[12],_+=c[13],o.MD(l[8])?_+=c[14]:_+=c[15],_+=c[16],o.MD(l[5])&&(_+=c[17],o.MD(l[8])?_+=[c[18],o.F.entities(o.MC(l[5])),c[19],o.F.entities(o.MC(l[3])),c[20]].join(""):(_+=c[21],(o.MK(o.MB(l[7]))||o.MJ(o.MB(l[7]))&&o.MK(o.MC(l[0]).bundles.baseBlocksToBlockHash[o.MB(l[3])])&&o.MK(o.MC(l[0]).bundles.blocksToBaseBlockHash[o.MB(l[3])]))&&(_+=[c[22],o.F.entities(o.MC(l[5])),c[23],o.F.entities(o.MC(l[3])),c[24]].join("")),_+=c[25]),_+=c[26],o.MD(l[8])?(_+=[c[27],(a.unshift({name:c[28],size:c[29],width:c[30]}),s=o.HELPER("icon",a[0]),a.shift(),s),c[31]].join(""),o.MD(l[9])?_+=[c[32],(a.unshift({num_rooms:o.MB(l[5])}),s=o.ME(c[33],o.MB,o.MN,o.MO(o.MC(l[5]),null,c[33])),a.shift(),s),c[34]].join(""):_+=[c[32],(a.unshift({num_rooms:o.MB(l[5])}),s=o.ME(c[35],o.MB,o.MN,o.MO(o.MC(l[5]),null,c[35])),a.shift(),s),c[34]].join(""),_+=[c[36],(a.unshift({name:c[37],size:c[29],width:c[30]}),s=o.HELPER("icon",a[0]),a.shift(),s),c[38],o.ME(c[39],o.MB,o.MN,null),c[40],(a.unshift({name:c[41],size:c[29],width:c[30]}),s=o.HELPER("icon",a[0]),a.shift(),s),c[42]].join("")):(_+=c[43],o.MD(l[9])?_+=[c[34],(a.unshift({num_rooms:o.MB(l[5])}),s=o.ME(c[33],o.MB,o.MN,o.MO(o.MC(l[5]),null,c[33])),a.shift(),s),c[44]].join(""):(_+=c[34],o.MJ(1==o.MB(l[10]))?_+=[c[32],(a.unshift({num_apt:o.MB(l[5])}),s=o.ME(c[45],o.MB,o.MN,o.MO(o.MC(l[5]),null,c[45])),a.shift(),s),c[34]].join(""):o.MJ(26==o.MB(l[10]))?_+=[c[32],(a.unshift({num_properties:o.MB(l[5])}),s=o.ME(c[46],o.MB,o.MN,o.MO(o.MC(l[5]),null,c[46])),a.shift(),s),c[34]].join(""):o.MJ(27==o.MB(l[10]))?_+=[c[32],(a.unshift({num_properties:o.MB(l[5])}),s=o.ME(c[47],o.MB,o.MN,o.MO(o.MC(l[5]),null,c[47])),a.shift(),s),c[34]].join(""):o.MJ(28==o.MB(l[10]))?_+=[c[32],(a.unshift({num_properties:o.MB(l[5])}),s=o.ME(c[48],o.MB,o.MN,o.MO(o.MC(l[5]),null,c[48])),a.shift(),s),c[34]].join(""):o.MJ(29==o.MB(l[10]))?_+=[c[32],(a.unshift({num_hh:o.MB(l[5])}),s=o.ME(c[49],o.MB,o.MN,o.MO(o.MC(l[5]),null,c[49])),a.shift(),s),c[34]].join(""):o.MJ(31==o.MB(l[10]))?_+=[c[32],(a.unshift({num_properties:o.MB(l[5])}),s=o.ME(c[50],o.MB,o.MN,o.MO(o.MC(l[5]),null,c[50])),a.shift(),s),c[34]].join(""):o.MJ(33==o.MB(l[10]))||o.MJ(o.defined(o.MC(l[11])))&&o.MJ(!/^(204|205)$/.test(o.MC(l[11])))?_+=[c[51],(a.unshift({num_rooms:o.MB(l[5])}),s=o.ME(c[35],o.MB,o.MN,o.MO(o.MC(l[5]),null,c[35])),a.shift(),s),c[34]].join(""):_+=[c[32],(a.unshift({num_rooms:o.MB(l[5])}),s=o.ME(c[33],o.MB,o.MN,o.MO(o.MC(l[5]),null,c[33])),a.shift(),s),c[34]].join(""),_+=c[44]),_+=c[52]),_+=c[53]),_+=c[54],e=_r_(_),e+=[c[55],"",c[3]].join(""),_r_(e)}(e+=c[0]),e+=c[3],_r_(e)})}()),B.define("component/hotel/room_reserve",function(e,t,n){_i_("65cb:2ff853a1");var i=e("component/reactive"),l=e("hotel/roomstable/actions"),d=e("events"),r=e("event-bus"),u=e("hotel/roomstable").RT,f=e("hotel/store"),b=e("hotel/roomstable/bundles/actions"),h=e("hotel/roomstable/bundles/helpers"),_=e("server-data"),a=e("genius/room-upgrade/drawer"),o=document.querySelectorAll(".js-group_recommendation"),s=function(e){_i_("65cb:acded7d4");var t=u.room(e);d.emit(d.EVENTS.RT_ROOM_SELECT,{$room:t.$room}),f.dispatch(l.addSelection(e)),r.emit(d.EVENTS.RT_ROOM_SELECT_DONE),_r_()},c=!1;if(_&&_.b_hotel_chains)for(var p=0;p<_.b_hotel_chains.length;p+=1)0<_.b_hotel_chains[p].b_adf_id&&(c=!0);n.exports=i.extend({template:"room_reserve",store:f,initialize:function(){_i_("65cb:bbf59772"),this.setState({blockId:this.$el.data("blockId"),group_recommendation_available:Boolean(o.length),hasRoomUpgradePromotion:this.$el.data("hasRoomUpgradePromotion"),language:_.b_lang,hotelHasOnlineCheckIn:this.$el.data("hotelHasOnlineCheckIn"),fe_is_an_rtb_property:_.fe_is_an_rtb_property||0}),_r_()},getInnerState:function(){_i_("65cb:36e52bf4");var e=this.__state;return _r_(e)},handleClickReserve:function(e){_i_("65cb:7adf8c3a");var t=this.getInnerState().blockId;this.getInnerState().hasRoomUpgradePromotion?(e.preventDefault(),a.open(t,s)):s(t),c&&B.et.customGoal("MCIAFKKHYYfPNQAFNSbeZVaPdLYXLO",2),_r_()},handleClickRemove:function(e){_i_("65cb:fd3ebfce"),e.preventDefault();var t=this.getInnerState().blockId,n=u.room(t),i=f.getState().bundles,r=i.groups,_=f.getState().roomsTable.selection.blocks,a=h.getGroupIdFromBlockId(t);if(d.emit(d.EVENTS.RT_ROOM_UNSELECT,{$room:n.$room}),this.dispatch(l.changeSelection(t,0)),i&&i.isBundleRatesExperimentOn&&i.groupsArray&&0<i.groupsArray.length){for(var o=r[a].selection&&r[a].selection.length||0,s=0;s<o;s+=1){var c=r[a].selection[s];_[c]&&0<_[c].count&&f.dispatch(l.removeSelection(c))}f.dispatch(b.removeGroupSelection(t)),$("#"+t).find(".rt-mealplan-bundle-container").show()}_r_()}}),_r_()}),booking.jstmpl("room_reserve",function(){_i_("65cb:8bc4e4f8");var o,s=["\n    ","\n\n\n    ","\n        ","\n\n    \n    ","\n            ","\n                ","\n    \n\n    ","\n\n    ",'\n\n    <div class="c-room_reserve ','">\n        ','\n            <button type="button"\n                    class="'," bui-button bui-button--secondary bui-button--large bui-button--wide js-rt_select_btn "," rt_select_btn_ru "," ",'"\n                    on:click="handleClickReserve"\n                    ','\n                        aria-describedby="m_hp_rt_room_card_title_','"\n                    ','\n            >\n                <span class="bui-button__text">\n                    ',"\n                        ","/private/apps_guest_rtb_rt_request_cta/name","\n                    ","/private/m_reserve/name","\n                </span>\n            </button>\n        ",'\n            <span\n                class="rt_plus_minus_secondary__undo_btn numRoomsInfo"\n                on:click="handleClickRemove"\n            >\n                ',"iconset/close_circle","small","/private/m_rt_cta_remove/name","\n            </span>\n        ","\n    </div>\n\n","\n"],c=["store","blocks","blockId","base_block_id","options_for_base_block","count","fe_in_bundles_exp","container_class","language","fe_no_id","fe_is_an_rtb_property"];return _r_(function(_){_i_("65cb:e884f4dd");var e="",a=this.fn;return e=function(e){if(_i_("65cb:a5b5d215"),e+=["",s[1]].join(""),a.MN("blocks",a.MC(c[0]).roomsTable.selection.blocks),e+=s[0],a.MN("count",0),e+=s[0],a.MJ(a.MB(c[2]))&&a.MJ(a.MB(c[1]))&&a.MJ(a.MC(c[1])[a.MB(c[2])])&&(e+=s[2],a.MN("count",a.MC(c[1])[a.MC(c[2])].count),e+=s[0]),e+=s[3],a.MN("fe_in_bundles_exp",0),e+=s[0],a.MJ(a.MG((a.MC(c[0])||{}).bundles))&&(e+=s[2],a.MN("fe_in_bundles_exp",a.MG(((a.MC(c[0])||{}).bundles||{}).isBundleRatesExperimentOn)),e+=s[0]),e+=s[0],a.MJ(a.MB(c[6]))&&a.MJ(a.MB(c[1]))&&a.MJ(a.MB(c[2]))&&a.MJ(a.MC(c[0]).bundles.blocksToBaseBlockHash[a.MB(c[2])])){e+=s[2],a.MN("base_block_id",a.MC(c[0]).bundles.blocksToBaseBlockHash[a.MB(c[2])]),e+=s[2],a.MN("options_for_base_block",a.MC(c[0]).bundles.baseBlocksToBlockHash[a.MB(c[3])]),e+=s[2],a.MN("count",0),e+=s[2];var t=a.MC(c[4])||[];_.unshift({option:null});for(var n,i=1,r=t.length;i<=r;i++)_[0].option=n=t[i-1],e+=s[4],a.MJ(a.MC(c[1])[n])&&(e+=s[5],a.MN("count",a.MI(a.MB(c[5]))+a.MI(a.MC(c[1])[n].count)),e+=s[4]),e+=s[2];_.shift(),e+=s[0]}return e+=s[6],a.MN("container_class","roomInfo select_btn_container"),e+=s[7],a.MD(c[5])&&(e+=s[2],a.MN("container_class","rt_plus_minus_secondary__undo"),e+=s[0]),e+=[s[8],a.F.entities(a.MC(c[7])),s[9]].join(""),a.MJ(0==a.MB(c[5]))?(e+=s[10],e+=s[11],(a.MJ(a.MB(c[8])+""=="ru")||a.MJ(a.MB(c[8])+""=="uk"))&&(e+=s[12]),e+=s[13],e+=s[14],a.MD(c[9])||(e+=[s[15],a.F.entities(a.MB(c[2])),s[16]].join("")),e+=s[17],a.MD(c[10])?e+=[s[18],a.ME(s[19],a.MB,a.MN,null),s[20]].join(""):e+=[s[18],a.ME(s[21],a.MB,a.MN,null),s[20]].join(""),e+=s[22]):e+=[s[23],(_.unshift({color:"#0071C2",name:s[24],size:s[25]}),o=a.HELPER("icon",_[0]),_.shift(),o),s[5],a.ME(s[26],a.MB,a.MN,null),s[27]].join(""),e+=[s[28],"",s[29]].join(""),_r_(e)}(e+=s[0]),e+=s[29],_r_(e)})}()),B.define("component/hotel/selection_summary",function(e,t,n){_i_("65cb:8245d054");var i=e("component/reactive"),r=e("server-data"),o=e("hotel/store"),_=e("server-data"),s=e("hotel/roomstable/bundles/actions"),a=e("hotel/roomstable/bundles/helpers"),c=e("hotel/roomstable/actions"),l=e("jquery");n.exports=i.extend({template:"selection_summary_template",store:e("hotel/store"),afterRender:function(){_i_("65cb:b6e9a36c"),this.BUI=window.BUI,this.BUI&&this.BUI.initComponents&&this.BUI.initComponents(this.$el[0]),_r_()},initialize:function(){_i_("65cb:dbc5d289");var e,t=this.$el.closest(".room").attr("id");t&&(e=a.getGroupIdFromBlockId(t)),this.setState({b_checkin_checkout_interval_in_weeks:r.b_checkin_checkout_interval_in_weeks||0,b_checkin_checkout_interval:r.b_checkin_checkout_interval,b_checkin_date_selection:r.b_checkin_date_selection,b_checkout_date_selection:r.b_checkout_date_selection,b_checkin_date:r.b_checkin_date,b_checkout_date:r.b_checkout_date,block_id:t,group_id:e,fe_exp_rsw_m_hp_rt_horizontal_scroll:Number(_.fe_exp_rsw_m_hp_rt_horizontal_scroll),fe_rsw_m_rt_hs_blackout_cart_summary_single_unit:_.fe_rsw_m_rt_hs_blackout_cart_summary_single_unit?Number(_.fe_rsw_m_rt_hs_blackout_cart_summary_single_unit):0}),_r_()},handleMultiroomPlanChange:function(e){_i_("65cb:f5809594");var t=l(e.currentTarget),i=t.attr("data-group-id"),n=parseInt(t.attr("data-multiroom-index"))-1,r=t.attr("data-value"),_=t.closest(".mealplan-select__dropdown_list").attr("data-val");_||(_=t.closest(".room").attr("id")),o.dispatch(s.changeMultiroomPlan({blockId:r,groupId:i,index:n}));var a=this.getStoreState().store.bundles;a&&a.isBundleRatesExperimentOn&&a.groups&&a.groups[i]&&a.groups[i].selection&&(setTimeout(function(){_i_("65cb:28d60c4d");for(var e,t={},n=0;n<a.groups[i].selection.length;n+=1)t[e=a.groups[i].selection[n]]=t[e]?t[e]+1:1;o.dispatch(c.changeSelection(_,t[_]||0)),o.dispatch(c.changeSelection(r,t[r]||0)),_r_()},0),t.closest(".mealplan-select__dropdown_list").attr("data-val",r)),_r_()},handleMultiroomPlanRemove:function(e){_i_("65cb:a79163a2");var t=l(e.currentTarget),n=t.siblings(".mealplan-select__dropdown_btn")[0],i=t.attr("data-group-id"),r=t.attr("data-multiroom-index"),_=l(n).attr("data-val"),a=o.getState().bundles.groups[i].selection;a&&2===a.length&&(t.closest(".room").find(".rt-mealplan-bundle-container").show(),setTimeout(function(){_i_("65cb:f017483e"),l("#opt_"+a[0]).find(".rt-selection-mealplan").trigger("click"),_r_()},0)),o.dispatch(s.removeMultiroomUnit(i,r)),o.dispatch(c.removeSelection(_)),_r_()}}),_r_()}),booking.jstmpl("selection_summary_template",function(){_i_("65cb:6afce25b");var v,g=["\n    ","\n\n\n\n\n\n\n\n\n\n","\n\n    ","\n    \n    \n    ",'\n\n    <div class="rt-selection-summary\n                ',"\n                    rt-selection-summary_hide-summary-margin\n                ",'\n                ">\n        \n        ','\n            <div class="c-hotel_selection_summary secondary_info rt_item_selected rt_more_obvious_item_selected__rp rt_clear_selection__content'," prco-m-hp-rt-total-price-fix",'">\n                \n                ',"\n                    ","\n                        ",'\n                        <div class="bui-form__group mealplan-select__container">\n                            ','\n                                <div class="mealplan-select__dropdown_container">\n                                    <label class="bui-form__label" for="mealplan-select">\n                                        ',"/private/chains_bundled_rates_multiroom_sub_selection/name","/private/loc_character_colon/name",'\n                                    </label>\n                                    <div class="bui-dropdown mealplan-select__dropdown" data-bui-component="Dropdown" data-active-button-classname="bui-button--active">\n                                        ',"\n                                            ",'\n                                                <button data-bui-ref="dropdown-button" class="bui-button bui-button--secondary mealplan-select__dropdown_btn" type="button" data-val="','">\n                                                    <span class="bui-button__text">\n                                                        '," &bull;\n                                                        ",'\n                                                            <span class="mealplan-select__price--strike">',"</span>\n                                                        ",'\n                                                        <span class="mealplan-select__price">','</span>\n                                                    </span>\n                                                    <span class="bui-button__icon bui-button__icon--end">\n                                                    ',"","streamline/arrow_menu","16","\n                                                    </span>\n                                                </button>\n                                            ","\n                                        ",'\n                                        <div class="bui-dropdown__content mealplan-select__dropdown_list" data-val="','" data-bui-ref="dropdown-slot">\n                                            <div role="menu" class="bui-dropdown-menu">\n                                            <ul class="bui-dropdown-menu__items">\n                                                ',"\n                                                ",'\n                                                    <li class="bui-dropdown-menu__item">\n                                                        <button\n                                                            data-bui-ref="dropdown-item"\n                                                            class="bui-dropdown-menu__button mealplan-select__dropdown_list_btn"\n                                                            type="button"\n                                                            role="link"\n                                                            tabindex="0"\n                                                            data-value="','"\n                                                            data-group-id="','"\n                                                            data-multiroom-index="','"\n                                                            on:click="handleMultiroomPlanChange"\n                                                        >\n                                                            <span class="bui-dropdown-menu__text">\n                                                                '," &bull;\n                                                                ",'\n                                                                    <span class="mealplan-select__price--strike">',"</span>\n                                                                ",'\n                                                                <span class="mealplan-select__price">',"</span>\n                                                            </span>\n                                                        </button>\n                                                    </li>\n                                                ",'\n                                            </ul>\n                                            </div>\n                                        </div>\n                                        <div class="mealplan-select__remove" data-group-id="','" data-multiroom-index="','" on:click="handleMultiroomPlanRemove">\n                                            <span class="mealplan-select__remove_icon">',"iconset/close","large","</span>\n                                        </div>\n                                    </div>\n                                    ","\n                                    ","\n                                </div>\n                            ","\n                        </div>\n                    ","\n                ","\n                \n\n                ",'\n\n\n<div class="mpc-ltr-left-align-helper">\n    ','\n        <div aria-label="Label" class="bui-spinner bui-spinner--size-small selection_summary_cart-summary_loading prco-m-hp-rt-loading-spinner" role="alert" aria-busy="true">\n            <div class="bui-spinner__inner"></div>\n        </div>\n    ','\n\n    <div>\n        <span class="prco-f-font-display_one">\n            ','\n        </span>\n        <span class="bui-price-display__label">\n            ','\n        </span>\n    </div>\n\n    <div class="mpc-inline-block-maker-helper">\n        <div class="mpc-inline-block-maker-helper prco-f-font-caption">\n            ',"\n        </div>\n\n        ",'\n            <div class="bui-price-display__original mpc-inline-block-maker-helper bui-price-display__original mpc-color_dark-red-helper" aria-hidden="true">\n                ',"\n            </div>\n        ",'\n\n        <div class="mpc-inline-block-maker-helper prco-f-font-caption bui-price-display__value">\n            ',"\n            ","\n        </div>\n    </div>\n\n    <div>\n        ",'\n            <div class="mpc-inline-block-maker-helper prco-f-font-caption mpc-color_grayscale-helper">\n                ',"\n            </div>\n            &nbsp;&#x2022;&nbsp;\n        ",'\n        <div class="mpc-inline-block-maker-helper prco-f-font-caption mpc-color_grayscale-helper">\n            ',"\n        </div>\n    </div>\n</div>\n","\n\n\n","\n\n",'\n\n<div class="mpc-ltr-left-align-helper">\n    ','\n\n    <div>\n        <span class="prco-f-font-caption">\n            ','\n        </span>\n        <span class="prco-f-font-caption">\n            ','\n        </span>\n    </div>\n\n    <div class="mpc-inline-block-maker-helper">\n        <div class="mpc-inline-block-maker-helper bui-price-display__label">\n            ','\n\n        <div class="mpc-inline-block-maker-helper prco-f-font-display_one bui-price-display__value">\n            ',"\n",'\n\n\n<p class="more_specific_selection_message js-room-selection-message more_specific_selection_message--goes_bui">\n    <div class="selection_summary_cart-summary">\n        <span class="m_hp_rt_selection_message--total-selected">\n            ',"\n        ","/private/m_rt_selection_made/name","\n            \n            ","/private/m_rt_selection_apts/name","/private/m_rt_selection_beds/name","\n            \n            \n            \n            \n            \n            \n            \n            ","/private/m_rt_selection_rooms/name","\n        </span>\n\n        ",'\n\n            <span class="','">',"</span>\n            &nbsp;\n        ","\n\n        ",'\n            <span class="m_hp_rt_selection_message--total-price">\n                ',"\n            </span>\n        ",'\n            <div style="margin-left:5px" aria-label="Label" class="bui-spinner bui-spinner--size-small selection_summary_cart-summary_loading" role="alert" aria-busy="true">\n                <div class="bui-spinner__inner"></div>\n            </div>\n        ','\n            <span class="prd-taxes-and-fees-under-price-hp-room-total">\n                ','\n    </div>\n\n    <span class="rt_selection_with_dates">\n        '," \n            ","/private/m_rt_num_week_selection_and_dates/name","/private/m_rt_num_night_selection_and_dates/name","\n    </span>\n</p>\n","\n\n        \n        \n        ",'\n            <div class="rt-reservation-summary">\n                <div class="rt-reservation-summary__left">\n                    <b>','</b>\n\n                    <div class="bui-text bui-text--variant-small_1">\n                        ',"/private/m_search_num_nights/name",'\n                    </div>\n\n                    <div class="bui-text bui-text--variant-small_1">\n                        ',"\n                        \n                        ",'\n                    </div>\n                </div>\n\n                <div class="rt-reservation-summary__right">\n                    ','\n\n<div class="mpc-ltr-right-align-helper">\n    ','\n        <div aria-label="',"/private/a11y_bp_spinner_generic/name",'" class="bui-spinner bui-spinner--size-small selection_summary_cart-summary_loading prco-m-hp-rt-loading-spinner" role="alert" aria-busy="true">\n            <div class="bui-spinner__inner"></div>\n        </div>\n    ','\n\n    <div aria-hidden="true">\n        <span class="prco-f-font-display_one">\n            ','\n        </span>\n    </div>\n\n    <div class="mpc-inline-block-maker-helper" aria-hidden="true">\n        <div class="mpc-inline-block-maker-helper prco-f-font-caption">\n            ','\n            <div class="bui-price-display__original mpc-inline-block-maker-helper bui-price-display__original mpc-color_dark-red-helper">\n                ','\n\n        <div class="mpc-inline-block-maker-helper prco-f-font-caption">\n            ',"\n        </div>\n    </div>\n\n    ",'\n        <div aria-hidden="true">\n            <div class="mpc-inline-block-maker-helper prco-f-font-caption mpc-color_grayscale-helper">\n                ',"\n            </div>\n        </div>\n    ",'\n\n    <span class="bui-u-sr-only">\n        '," ",".\n\n        ","/private/a11y_pd_rt_price_original/name",".\n            \n            ","/private/a11y_pd_rt_price_current/name","/private/a11y_pd_rt_price_generic/name","\n\n        \n        ",".\n\n        \n        ",".","\n    </span>\n</div>\n",'\n\n    <div aria-hidden="true">\n        <span class="prco-f-font-caption">\n            ','\n        </span>\n    </div>\n\n    <div class="mpc-inline-block-maker-helper" aria-hidden="true">\n        <div class="mpc-inline-block-maker-helper bui-price-display__label">\n            ','\n\n<div class="mpc-ltr-right-align-helper">\n    \n    <div class="hp-cart-summary-price" aria-hidden="true">\n        ','\n            <div class="bui-spinner bui-spinner--size-small" role="alert" aria-busy="true">\n                <div class="bui-spinner__inner"></div>\n            </div>\n        ','\n            <span class="bui-text bui-text--variant-emphasized_2 hp-cart-summary-price__discount">\n                ','\n\n        <span class="bui-text bui-text--variant-headline_3">\n            ',"\n        </span>\n    </div>\n\n    \n    ",'\n        <div class="prd-taxes-and-fees-under-price-hp-room-total" aria-hidden="true">\n            ',"\n        </div>\n    ",".\n        ","\n                </div>\n            </div>\n        ","\n    </div>\n\n\n    "],w=["store","fe_rsw_m_rt_hs_blackout_cart_summary_single_unit","fe_total_rooms","fe_hs_hide_reservation_summary","fe_use_nightly_price","group_id","fe_group_selection_count","room_index","block_id","fe_is_loading","fe_nightly_price_pretty","fe_be_translations","fe_total_strikethrough","fe_total_price_be","fe_total_price","fe_extracharges_text","fe_rooms_nights_text","fe_use_nightly_price_as_dominant","fe_total_price_charges_be","fe_charges_and_fees_text","fe_same_room_type","fe_room_type_id","fe_css_class_strikethrough","b_checkin_checkout_interval_in_weeks","b_checkin_date_selection","b_checkout_date_selection","num_nights","b_checkin_checkout_interval","fe_exp_rsw_m_hp_rt_horizontal_scroll","b_checkin_date","b_checkout_date","fe_total_price_text"];return _r_(function(p){_i_("65cb:5914db00");var e="",m=this.fn;function M(e){return _i_("65cb:b1b9b983"),e=function(e){_i_("65cb:f88238b2"),e+=g[77],m.MK(m.MB(w[20]))?e+=[g[62],(p.unshift({num_selected:m.MB(w[2])}),v=m.ME(g[78],m.MB,m.MN,m.MO(m.MC(w[2]),null,g[78])),p.shift(),v),m.ME(g[15],m.MB,m.MN,null),g[77]].join(""):(e+=g[79],m.MJ(1==m.MB(w[21]))?e+=[g[51],(p.unshift({num_selected:m.MB(w[2])}),v=m.ME(g[80],m.MB,m.MN,m.MO(m.MC(w[2]),null,g[80])),p.shift(),v),m.ME(g[15],m.MB,m.MN,null),g[79]].join(""):m.MJ(26==m.MB(w[21]))?e+=[g[51],(p.unshift({num_selected:m.MB(w[2])}),v=m.ME(g[81],m.MB,m.MN,m.MO(m.MC(w[2]),null,g[81])),p.shift(),v),m.ME(g[15],m.MB,m.MN,null),g[82]].join(""):m.MJ(12==m.MB(w[21]))||m.MJ(27==m.MB(w[21]))||m.MJ(28==m.MB(w[21]))||m.MJ(29==m.MB(w[21]))||m.MJ(31==m.MB(w[21]))||m.MJ(32==m.MB(w[21]))||m.MJ(33==m.MB(w[21]))?e+=[g[51],(p.unshift({num_selected:m.MB(w[2])}),v=m.ME(g[78],m.MB,m.MN,m.MO(m.MC(w[2]),null,g[78])),p.shift(),v),m.ME(g[15],m.MB,m.MN,null),g[79]].join(""):e+=[g[51],(p.unshift({num_selected:m.MB(w[2])}),v=m.ME(g[83],m.MB,m.MN,m.MO(m.MC(w[2]),null,g[83])),p.shift(),v),m.ME(g[15],m.MB,m.MN,null),g[62]].join(""),e+=g[77]);return e+=g[0],_r_(e)}(e+=g[76]),e+=g[84],m.MD(w[12])&&(e+=g[62],m.MN("fe_css_class_strikethrough","m_hp_rt_selection_message--strikethrough-price-red bui-f-font-body"),e+=[g[85],m.MC(w[22]),g[86],m.MC(w[12]),g[87]].join("")),e+=g[88],m.MJ(1<m.MB(w[2]))&&m.MJ(m.MB(w[13]))?e+=[g[89],m.MC(w[13]),g[90]].join(""):e+=[g[89],m.MC(w[14]),g[90]].join(""),e+=g[88],m.MJ(1<m.MB(w[2]))&&m.MJ(m.MB(w[9]))&&(e+=g[91]),e+=g[88],m.MJ(1<m.MB(w[2]))&&m.MJ(m.MB(w[18]))?e+=[g[92],m.MC(w[18]),g[90]].join(""):m.MJ(m.MB(w[15]))&&(e+=[g[92],m.MC(w[15]),g[90]].join("")),e+=g[93],m.MD(w[23])?e+=[g[94],(p.unshift({check_in_date:m.MC(w[24]),check_out_date:m.MC(w[25]),num_weeks:m.MC(w[23])}),v=m.ME(g[95],m.MB,m.MN,m.MO(m.MC(w[23]),null,g[95])),p.shift(),v),g[77]].join(""):e+=[g[62],(p.unshift({check_in_date:m.MC(w[24]),check_out_date:m.MC(w[25]),num_nights:m.MC(w[27])}),v=m.ME(g[96],m.MB,m.MN,m.MO(m.MC(w[26]),null,g[96])),p.shift(),v),g[77]].join(""),e+=g[97],_r_(e)}return e=function(e){if(_i_("65cb:d5435a4a"),e+=[g[1],"",g[2]].join(""),m.MN("fe_total_rooms",m.MG((((m.MC(w[0])||{}).roomsTable||{}).selection||{}).totalRooms)),e+=g[0],m.MN("fe_total_price",m.MG((((m.MC(w[0])||{}).roomsTable||{}).selection||{}).totalPriceFormatted)),e+=g[0],m.MN("fe_total_price_be",m.MG(((m.MC(w[0])||{}).roomsTable||{}).totalPriceFormattedBE)),e+=g[0],m.MN("fe_total_price_charges_be",m.MG(((m.MC(w[0])||{}).roomsTable||{}).totalPriceChargesBE)),e+=g[0],m.MN("fe_extracharges_text",m.MG((((m.MC(w[0])||{}).roomsTable||{}).selection||{}).extraChargesText)),e+=g[0],m.MN("fe_same_room_type",m.MG((((m.MC(w[0])||{}).roomsTable||{}).selection||{}).sameRoomType)),e+=g[0],m.MN("fe_room_type_id",m.MG((((m.MC(w[0])||{}).roomsTable||{}).selection||{}).roomTypeId)),e+=g[0],m.MN("fe_total_strikethrough",m.MG((((m.MC(w[0])||{}).roomsTable||{}).selection||{}).totalStrikethroughText)),e+=g[0],m.MN("fe_use_nightly_price",m.MG((((m.MC(w[0])||{}).roomsTable||{}).selection||{}).useNightlyPrice)),e+=g[0],m.MN("fe_use_nightly_price_as_dominant",m.MG((((m.MC(w[0])||{}).roomsTable||{}).selection||{}).useNightlyPriceAsDominant)),e+=g[0],m.MN("fe_nightly_price_pretty",m.MG((((m.MC(w[0])||{}).roomsTable||{}).selection||{}).nightlyPricePretty)),e+=g[0],m.MN("fe_be_translations",m.MG((((m.MC(w[0])||{}).roomsTable||{}).selection||{}).beTranslations)),e+=g[0],m.MN("fe_rooms_nights_text",m.MG((((m.MC(w[0])||{}).roomsTable||{}).selection||{}).roomsNightsText)),e+=g[0],m.MN("fe_is_loading",m.MG(((m.MC(w[0])||{}).roomsTable||{}).isLoading)),e+=g[3],m.MN("fe_hs_hide_reservation_summary",m.MB(w[1])&&m.MJ(m.MB(w[2])<2)),e+=g[4],m.MD(w[3])&&(e+=g[5]),e+=g[6],m.MK(m.MB(w[28]))){if(e+=g[7],m.MD(w[4])&&(e+=g[8]),e+=g[9],m.MJ(m.MB(w[0]))&&m.MJ(m.MC(w[0]).bundles)&&m.MJ(m.MC(w[0]).bundles.isBundleRatesExperimentOn)&&m.MJ(m.MC(w[0]).bundles.groups)&&m.MJ(m.MC(w[0]).bundles.groups[m.MB(w[5])])&&m.MJ(m.MC(w[0]).bundles.groups[m.MC(w[5])].selection)&&m.MJ(m.MB(w[8]))&&m.MJ(m.MC(w[0]).bundles.blocksToBaseBlockHash)&&m.MJ(m.MC(w[0]).bundles.blocksToBaseBlockHash[m.MB(w[8])])){e+=g[10],m.MN("fe_group_selection_count",0),e+=g[10];var t=m.MC(w[0]).bundles.groups[m.MC(w[5])].selection||[];p.unshift({selection:null});for(var n=1,i=t.length;n<=i;n++)p[0].selection=r=t[n-1],e+=g[11],m.MN("fe_group_selection_count",m.MI(m.MB(w[6]))+m.MI(1)),e+=g[10];if(p.shift(),e+=g[10],m.MJ(1<m.MB(w[6]))){var r;for(e+=g[12],t=m.MC(w[0]).bundles.groups[m.MC(w[5])].selection||[],p.unshift({selection:null}),n=1,i=t.length;n<=i;n++){p[0].selection=r=t[n-1],e+=[g[13],(p.unshift({num_unit:n}),v=m.ME(g[14],m.MB,m.MN,null),p.shift(),v),m.ME(g[15],m.MB,m.MN,null),g[16]].join("");var _,a=n,o=t,s=i,c=_;for(t=m.MC(w[0]).bundles.groups[m.MC(w[5])].options||[],p.unshift({option:null}),n=1,i=t.length;n<=i;n++)p[0].option=_=t[n-1],e+=g[17],m.MJ(_.id==r)&&(e+=[g[18],m.F.entities(m.MG((_||{}).id)),g[19],m.F.entities(m.MG((_||{}).text)),g[20]].join(""),m.MJ(m.MG((_||{}).hasDiscount))&&(e+=[g[21],m.F.entities(m.MG((_||{}).originalPriceHtml)),g[22]].join("")),e+=[g[23],m.F.entities(m.MG((_||{}).price)),g[24],(p.unshift({class:g[25],name:g[26],width:g[27]}),v=m.HELPER("icon",p[0]),p.shift(),v),g[28]].join("")),e+=g[29];for(p.shift(),n=a,t=o,i=s,_=c,e+=[g[30],m.F.entities(r),g[31]].join(""),m.MN("room_index",n),e+=g[32],a=n,o=t,s=i,c=_,t=m.MC(w[0]).bundles.groups[m.MC(w[5])].options||[],p.unshift({option:null}),n=1,i=t.length;n<=i;n++)p[0].option=_=t[n-1],e+=[g[33],m.F.entities(m.MG((_||{}).id)),g[34],m.F.entities(m.MB(w[5])),g[35],m.F.entities(m.MB(w[7])),g[36],m.F.entities(m.MG((_||{}).text)),g[37]].join(""),m.MJ(m.MG((_||{}).hasDiscount))&&(e+=[g[38],m.F.entities(m.MG((_||{}).originalPriceHtml)),g[39]].join("")),e+=[g[40],m.F.entities(m.MG((_||{}).price)),g[41]].join("");for(p.shift(),n=a,t=o,i=s,_=c,e+=[g[42],m.F.entities(m.MB(w[5])),g[43],m.F.entities(m.MB(w[7])),g[44],(p.unshift({color:"#6B6B6B",name:g[45],size:g[46]}),v=m.HELPER("icon",p[0]),p.shift(),v),g[47]].join(""),a=n,o=t,s=i,c=_,t=m.MC(w[0]).bundles.groups[m.MC(w[5])].options||[],p.unshift({option:null}),n=1,i=t.length;n<=i;n++)p[0].option=_=t[n-1],e+=g[29],m.MJ(_.id==r)&&(e+=[g[17],m.MG((_||{}).bedOptionsHtml),g[29]].join("")),e+=g[48];p.shift(),n=a,t=o,i=s,_=c,e+=g[49]}p.shift(),e+=g[50]}e+=g[51]}e+=g[52],m.MJ(m.MB(w[4]))&&m.MJ(m.MB(w[17]))?(e+=g[10],d=e,_i_("65cb:eece9507"),d+=g[53],m.MJ(1<m.MB(w[2]))&&m.MJ(m.MB(w[9]))&&(d+=g[54]),d+=[g[55],m.MC(w[10]),g[56],m.F.entities((m.MC(w[11])||{}).b_amount_per_night_suffix),g[57],m.F.entities((m.MC(w[11])||{}).b_total_text),g[58]].join(""),m.MD(w[12])&&(d+=[g[59],m.MC(w[12]),g[60]].join("")),d+=g[61],m.MJ(1<m.MB(w[2]))&&m.MJ(m.MB(w[13]))?d+=[g[51],m.MC(w[13]),g[62]].join(""):d+=[g[51],m.MC(w[14]),g[62]].join(""),d+=g[63],m.MD(w[15])&&(d+=[g[64],m.F.entities(m.MC(w[15])),g[65]].join("")),d+=[g[66],m.F.entities(m.MC(w[16])),g[67]].join(""),e=_r_(d)):e=m.MD(w[4])?(l=e+=g[10],_i_("65cb:5cd90216"),l+=[g[68],"",g[69]].join(""),m.MN("fe_charges_and_fees_text",m.MB(w[15])||m.MB(w[18])),l+=g[70],m.MJ(1<m.MB(w[2]))&&m.MJ(m.MB(w[9]))&&(l+=g[54]),l+=[g[71],m.MC(w[10]),g[72],m.F.entities((m.MC(w[11])||{}).b_amount_per_night_suffix),g[73],m.F.entities((m.MC(w[11])||{}).b_total_text),g[58]].join(""),m.MD(w[12])&&(l+=[g[59],m.MC(w[12]),g[60]].join("")),l+=g[74],m.MJ(1<m.MB(w[2]))&&m.MJ(m.MB(w[13]))?l+=[g[51],m.MC(w[13]),g[62]].join(""):l+=[g[51],m.MC(w[14]),g[62]].join(""),l+=g[63],m.MD(w[19])&&(l+=[g[64],m.F.entities(m.MC(w[19])),g[65]].join("")),l+=[g[66],m.F.entities(m.MC(w[16])),g[67],"",g[75]].join(""),_r_(l)):M(e+=g[10]),e+=g[51],e+=g[60]}var l;var d,u;return e+=g[98],m.MJ(m.MB(w[28]))&&m.MK(m.MB(w[3]))&&(e+=g[99],u=e,_i_("65cb:73e82a88"),u+=g[77],m.MK(m.MB(w[20]))?u+=[g[62],(p.unshift({num_selected:m.MB(w[2])}),v=m.ME(g[78],m.MB,m.MN,m.MO(m.MC(w[2]),null,g[78])),p.shift(),v),m.ME(g[15],m.MB,m.MN,null),g[77]].join(""):(u+=g[79],m.MJ(1==m.MB(w[21]))?u+=[g[51],(p.unshift({num_selected:m.MB(w[2])}),v=m.ME(g[80],m.MB,m.MN,m.MO(m.MC(w[2]),null,g[80])),p.shift(),v),m.ME(g[15],m.MB,m.MN,null),g[79]].join(""):m.MJ(26==m.MB(w[21]))?u+=[g[51],(p.unshift({num_selected:m.MB(w[2])}),v=m.ME(g[81],m.MB,m.MN,m.MO(m.MC(w[2]),null,g[81])),p.shift(),v),m.ME(g[15],m.MB,m.MN,null),g[82]].join(""):m.MJ(12==m.MB(w[21]))||m.MJ(27==m.MB(w[21]))||m.MJ(28==m.MB(w[21]))||m.MJ(29==m.MB(w[21]))||m.MJ(31==m.MB(w[21]))||m.MJ(32==m.MB(w[21]))||m.MJ(33==m.MB(w[21]))?u+=[g[51],(p.unshift({num_selected:m.MB(w[2])}),v=m.ME(g[78],m.MB,m.MN,m.MO(m.MC(w[2]),null,g[78])),p.shift(),v),m.ME(g[15],m.MB,m.MN,null),g[79]].join(""):u+=[g[51],(p.unshift({num_selected:m.MB(w[2])}),v=m.ME(g[83],m.MB,m.MN,m.MO(m.MC(w[2]),null,g[83])),p.shift(),v),m.ME(g[15],m.MB,m.MN,null),g[62]].join(""),u+=g[77]),u+=g[0],e=_r_(u),e+=[g[100],(p.unshift({num_nights:m.MC(w[27])}),v=m.ME(g[101],m.MB,m.MN,m.MO(m.MC(w[26]),null,g[101])),p.shift(),v),g[102],m.DATE(m.MC(w[29]),"short_date_with_weekday_without_year","","",""),g[103],m.DATE(m.MC(w[30]),"short_date_with_weekday_without_year","","",""),g[104]].join(""),e=m.MJ(m.MB(w[4]))&&m.MJ(m.MB(w[17]))?(h=e+=g[11],_i_("65cb:659a304e"),h+=[g[68],"",g[75]].join(""),m.MN("fe_total_price_text",m.MJ(1<m.MB(w[2]))&&m.MB(w[13])?m.MB(w[13]):m.MB(w[14])),h+=g[105],m.MJ(1<m.MB(w[2]))&&m.MJ(m.MB(w[9]))&&(h+=[g[106],m.ME(g[107],m.MB,m.MN,null),g[108]].join("")),h+=[g[109],m.MC(w[10]),g[72],m.F.entities((m.MC(w[11])||{}).b_amount_per_night_suffix),g[110],m.F.entities((m.MC(w[11])||{}).b_total_text),g[58]].join(""),m.MD(w[12])&&(h+=[g[111],m.MC(w[12]),g[60]].join("")),h+=[g[112],m.MC(w[31]),g[113]].join(""),m.MD(w[15])&&(h+=[g[114],m.F.entities(m.MC(w[15])),g[115]].join("")),h+=[g[116],m.MC(w[10]),g[117],m.F.entities((m.MC(w[11])||{}).b_amount_per_night_suffix),g[118]].join(""),m.MD(w[12])?h+=[g[79],m.ME(g[119],m.MB,m.MN,null),g[79],m.MB(w[12]),g[120],m.ME(g[121],m.MB,m.MN,null),g[77]].join(""):h+=[g[79],m.ME(g[122],m.MB,m.MN,null),g[77]].join(""),h+=[g[123],m.MB(w[31]),g[124]].join(""),m.MD(w[15])&&(h+=[m.F.entities(m.MC(w[15])),g[125]].join("")),h+=[g[126],"",g[75]].join(""),_r_(h)):m.MD(w[4])?(b=e+=g[11],_i_("65cb:fc4aa308"),b+=[g[68],"",g[75]].join(""),m.MN("fe_total_price_text",m.MJ(1<m.MB(w[2]))&&m.MB(w[13])?m.MB(w[13]):m.MB(w[14])),b+=g[105],m.MJ(1<m.MB(w[2]))&&m.MJ(m.MB(w[9]))&&(b+=[g[106],m.ME(g[107],m.MB,m.MN,null),g[108]].join("")),b+=[g[127],m.MC(w[10]),g[72],m.F.entities((m.MC(w[11])||{}).b_amount_per_night_suffix),g[128],m.F.entities((m.MC(w[11])||{}).b_total_text),g[58]].join(""),m.MD(w[12])&&(b+=[g[111],m.MC(w[12]),g[60]].join("")),b+=[g[74],m.MC(w[31]),g[113]].join(""),m.MD(w[15])&&(b+=[g[114],m.F.entities(m.MC(w[15])),g[115]].join("")),b+=[g[116],m.MC(w[10]),g[117],m.F.entities((m.MC(w[11])||{}).b_amount_per_night_suffix),g[118]].join(""),m.MD(w[12])?b+=[g[79],m.ME(g[119],m.MB,m.MN,null),g[79],m.MB(w[12]),g[120],m.ME(g[121],m.MB,m.MN,null),g[77]].join(""):b+=[g[79],m.ME(g[122],m.MB,m.MN,null),g[77]].join(""),b+=[g[123],m.MB(w[31]),g[124]].join(""),m.MD(w[15])&&(b+=[m.F.entities(m.MC(w[15])),g[125]].join("")),b+=[g[126],"",g[75]].join(""),_r_(b)):(f=e+=g[11],_i_("65cb:e4668b18"),f+=[g[68],"",g[75]].join(""),m.MN("fe_total_price_text",m.MJ(1<m.MB(w[2]))&&m.MB(w[13])?m.MB(w[13]):m.MB(w[14])),f+=g[129],m.MJ(1<m.MB(w[2]))&&m.MJ(m.MB(w[9]))&&(f+=g[130]),f+=g[88],m.MD(w[12])&&(f+=[g[131],m.MC(w[12]),g[90]].join("")),f+=[g[132],m.MC(w[31]),g[133]].join(""),m.MJ(1<m.MB(w[2]))&&m.MJ(m.MB(w[18]))?f+=[g[134],m.MC(w[18]),g[135]].join(""):m.MJ(m.MB(w[15]))&&(f+=[g[134],m.MC(w[15]),g[135]].join("")),f+=g[116],m.MD(w[12])?f+=[g[79],m.ME(g[119],m.MB,m.MN,null),g[79],m.MB(w[12]),g[120],m.ME(g[121],m.MB,m.MN,null),g[77]].join(""):f+=[g[79],m.ME(g[122],m.MB,m.MN,null),g[77]].join(""),f+=[g[123],m.MB(w[31]),g[124]].join(""),m.MJ(1<m.MB(w[2]))&&m.MJ(m.MB(w[18]))?f+=[g[62],m.MC(w[18]),g[136]].join(""):m.MJ(m.MB(w[15]))&&(f+=[g[62],m.MC(w[15]),g[136]].join("")),f+=[g[126],"",g[75]].join(""),_r_(f)),e+=g[10],e+=g[137]),e+=g[138],e+=[g[69],"",g[75]].join(""),_r_(e);var f;var b;var h}(e+=g[0]),e+=g[75],_r_(e)})}()),B.define("component/hotel/selection_cart",function(e,t,n){_i_("65cb:c52ec7c9");var i=e("server-data"),l=e("jquery"),d=e("events"),u=e("hotel/roomstable/actions"),f=e("hotel/roomstable").RT,b=e("hotel/store"),h=e("hotel/roomstable/bundles/actions"),p=e("hotel/roomstable/bundles/helpers"),r=e("component/reactive"),s=i.b_room_blocks_json||{},o=e("hotel/room_preferences/horizontal_rate_preference/utils"),c=Number(i.fe_exp_rsw_m_hp_rt_horizontal_scroll);n.exports=r.extend({template:"selection_cart",store:e("hotel/store"),initialState:{blocksAsArray:[],language:B.env.b_lang,message:B.jstmpl.translations("m_rt_selected_growl_generic"),fe_exp_rsw_m_hp_rt_horizontal_scroll:c,b_adults_total:0,b_children_total:0},getInnerState:function(){_i_("65cb:cecfd5a1");var e,t="",n=this.__state,i=this.getStoreState(),r=i.store.roomsTable.selection,_=i.store.roomsTable.selection.blocks,a=Object.keys(_),o=a.length?s[a[0]].roomTypeId:null;return a.every(function(e){return _i_("65cb:f032c7d5"),_r_(Boolean(s[e].roomTypeId===o))})&&(t=B.jstmpl.translations("m_rt_selected_growl_"+(e=o,_i_("65cb:77f33786"),_r_(B.jstmpl("trans_roomtype").render({b_roomtype_id:e}).trim())),r.totalRooms,{num_selected:r.totalRooms})),t||(t=B.jstmpl.translations("m_rt_selected_growl_generic",r.totalRooms,{num_selected:r.totalRooms})),n=Object.assign(n,{blocksAsArray:a,message:t}),_r_(n)},handleClickRoomName:function(e){_i_("65cb:1f605aa0");var t=e.currentTarget.getAttribute("data-block-id"),n=this.$el.outerHeight(),i=f.room(t);if(0<c){var r=o.getPrimaryBlockId(t);i=f.room(r);for(var _=l(".js-rt-rate-id-"+t),a=0;a<_.length;a++)_[a].scrollIntoView({behavior:"smooth",inline:"nearest",block:"center"})}else!function(e,t){_i_("65cb:1a58f57e");var n=e.offset();if(n){var i=n.top-(t||0);0<i&&l("html, body").animate({scrollTop:i})}_r_()}(i.$room,n+10);_r_()},handleClickRemove:function(e){_i_("65cb:35dc6b7a");var t=e.currentTarget.getAttribute("data-block-id"),n=f.room(t),i=b.getState().bundles,r=i.groups,_=b.getState().roomsTable.selection.blocks,a=p.getGroupIdFromBlockId(t);if(d.emit(d.EVENTS.RT_ROOM_UNSELECT,{$room:n.$room}),this.dispatch(u.changeSelection(t,0)),i&&i.isBundleRatesExperimentOn&&i.groupsArray&&0<i.groupsArray.length){for(var o=r[a].selection&&r[a].selection.length||0,s=0;s<o;s+=1){var c=r[a].selection[s];_[c]&&0<_[c].count&&b.dispatch(u.removeSelection(c))}b.dispatch(h.removeGroupSelection(t)),l("#"+t).find(".rt-mealplan-bundle-container").show()}_r_()},handleClickNextStep:function(){_i_("65cb:bbbe5b7b"),l("form[name=bookForm]").submit(),_r_()}}),booking.jstmpl("trans_roomtype",function(){_i_("65cb:52336067");var i=["\n        ","","apartments","studio","beds","bungalow","chalets","holidayhomes","villas","mobilehome","tent","rooms","\n    "],r=["b_roomtype_id"];return _r_(function(e){_i_("65cb:e0ea4f0a");var t="",n=this.fn;return t=function(e){_i_("65cb:07be0963"),e+=i[1],e+=i[1];var t=n.MC(r[0]);return n.MJ(t+""=="1")?e+=i[2]:n.MJ(t+""=="12")?e+=i[3]:n.MJ(t+""=="26")?e+=i[4]:n.MJ(t+""=="27")?e+=i[5]:n.MJ(t+""=="28")?e+=i[6]:n.MJ(t+""=="29")?e+=i[7]:n.MJ(t+""=="31")?e+=i[8]:n.MJ(t+""=="32")?e+=i[9]:n.MJ(t+""=="33")?e+=i[10]:e+=i[11],_r_(e+=i[1])}(t+=i[0]),_r_(t+=i[12])})}()),_r_()}),booking.jstmpl("selection_cart",function(){_i_("65cb:8e9c3044");var c,l=["\n\n    ","\n\n    \n    \n    \n    \n    \n    \n    \n    \n\n    \n    \n\n    ","\n    ","\n\n\n    \n    \n\n    ",'\n\n\n    \n    \n    <div\n        data-component="hotel/selection_cart"\n        class="',"c-selection_cart js-c-selection_cart top-fixed ","active",'"\n    >\n        ',"\n\n        ",'\n            <ul class="hp_cart_selection__rooms m_hp_cart_selection_list__container">\n                ','\n                    <li>\n                        <div class="m_hp_cart_selection_list__option_container">\n                            <div class="m_hp_cart_selection_list__name_container">\n                                ',' x\n                                <span class="m_hp_cart_selection_list__option_name" on:click="handleClickRoomName" data-block-id="','">\n                                    ','\n                                </span>\n                            </div>\n                            <button class="bui-link bui-link--primary m_hp_cart_selection_list__remove"\n                                    on:click="handleClickRemove"\n                                    data-block-id="','"\n                                    aria-label="',"/private/m_rt_cta_remove/name",'">\n                                ',"iconset/close_circle","large","\n                            </button>\n                        </div>\n                    </li>\n                ",'\n            </ul>\n\n            <div class="hp_cart_selection__summary">\n                <span class="hp_cart_selection__summary--message">\n                    ',"\n                </span>\n                ",'\n                    <div aria-label="Label" class="bui-spinner bui-spinner--size-small" role="alert" aria-busy="true">\n                            <div class="bui-spinner__inner"></div>\n                    </div>\n                ',"\n\n                ","\n                    ",'\n\n\n<div class="mpc-ltr-right-align-helper">\n    <div>\n        <span class="bui-price-display__label">\n            ','\n        </span>\n        <span class="prco-f-font-display_one">\n            ','\n        </span>\n    </div>\n\n    <div class="mpc-inline-block-maker-helper">\n        <div class="mpc-inline-block-maker-helper prco-f-font-caption">\n            ',"\n        </div>\n\n        ",'\n            <div class="bui-price-display__original mpc-inline-block-maker-helper bui-price-display__original mpc-color_dark-red-helper" aria-hidden="true">\n                ',"\n            </div>\n        ",'\n\n        <div class="mpc-inline-block-maker-helper prco-f-font-caption bui-price-display__value">\n            ',"\n                ","\n            ","\n        </div>\n    </div>\n</div>\n","\n\n\n",'\n\n<div class="mpc-ltr-right-align-helper">\n    <div>\n        <span class="prco-f-font-caption">\n            ','\n        </span>\n        <span class="prco-f-font-caption">\n            ','\n        </span>\n    </div>\n\n    <div class="mpc-inline-block-maker-helper">\n        <div class="mpc-inline-block-maker-helper bui-price-display__label">\n            ','\n\n        <div class="mpc-inline-block-maker-helper prco-f-font-display_one bui-price-display__value">\n            ',"\n        </div>\n    </div>\n\n    <div>\n        ",'\n            <div class="mpc-inline-block-maker-helper prco-f-font-caption mpc-color_grayscale-helper">\n                ',"\n            </div>\n            &nbsp;&#x2022;&nbsp;\n        ",'\n        <div class="mpc-inline-block-maker-helper prco-f-font-caption mpc-color_grayscale-helper">\n            ','\n\n    <span class="','">',"</span>\n","\n",'\n    <span class="hp_cart_selection__summary--price">',"\n            </div>\n\n            ",'\n                <small class="hp_cart_selection__charges">\n                    ','\n                        &nbsp;&#x2022;&nbsp;\n                        <div class="mpc-inline-block-maker-helper prco-f-font-caption mpc-color_grayscale-helper">\n                            ',"\n                        </div>\n                    ","\n                </small>\n            ","\n        ","\n    </div>\n\n"],d=["store","rtState","selection","fe_exp_rsw_m_hp_rt_horizontal_scroll","blocksAsArray","message","fe_be_translations","fe_nightly_price_pretty","fe_total_strikethrough","fe_total_price_be","fe_total_rooms","fe_total_price","fe_use_nightly_price","fe_use_nightly_price_as_dominant","fe_extracharges_text","fe_total_price_charges_be","fe_charges_and_fees_text","fe_rooms_nights_text","fe_css_class_strikethrough_cart","selection_cart"];return _r_(function(o){_i_("65cb:9f6d16cd");var e,t="",s=this.fn;function n(e){if(_i_("65cb:998bbfb3"),e+=l[8],s.MJ(s.MG((s.MC(d[2])||{}).totalRooms))){e+=l[9];var t=s.MC(d[4])||[];o.unshift({blockId:null});for(var n,i=1,r=t.length;i<=r;i++)o[0].blockId=n=t[i-1],e+=[l[10],s.F.entities(s.MC(d[2]).blocks[n].count),l[11],s.F.entities(n),l[12],s.F.entities(s.MC(d[2]).blocks[n].roomName),l[13],s.F.entities(n),l[14],s.ME(l[15],s.MB,s.MN,null),l[16],(o.unshift({color:"#0071C2",name:l[17],size:l[18]}),c=s.HELPER("icon",o[0]),o.shift(),c),l[19]].join("");o.shift(),e+=[l[20],s.F.entities(s.MC(d[5])),l[21]].join(""),s.MJ(1<s.MC(d[2]).totalRooms)&&s.MJ(s.MC(d[1]).isLoading)&&(e+=l[22]),e+=l[23],s.MJ(s.MB(d[12]))&&s.MJ(s.MB(d[13]))?e=function(e){_i_("65cb:ee5c6b76"),e+=[l[25],s.F.entities((s.MC(d[6])||{}).b_per_night_amount_prefix),l[26],s.MC(d[7]),l[27],s.F.entities((s.MC(d[6])||{}).b_total_text),l[28]].join(""),s.MD(d[8])&&(e+=[l[29],s.MC(d[8]),l[30]].join(""));e+=l[31],s.MJ(1<s.MB(d[10]))&&s.MJ(s.MB(d[9]))?e+=[l[32],s.MC(d[9]),l[33]].join(""):e+=[l[32],s.MC(d[11]),l[33]].join("");return e+=l[34],_r_(e)}(e+=l[24]):s.MD(d[12])?(e+=l[24],a=e,_i_("65cb:04948c19"),a+=l[35],s.MN("fe_charges_and_fees_text",s.MB(d[14])||s.MB(d[15])),a+=[l[36],s.F.entities((s.MC(d[6])||{}).b_per_night_amount_prefix),l[37],s.MC(d[7]),l[38],s.F.entities((s.MC(d[6])||{}).b_total_text),l[28]].join(""),s.MD(d[8])&&(a+=[l[29],s.MC(d[8]),l[30]].join("")),a+=l[39],s.MJ(1<s.MB(d[10]))&&s.MJ(s.MB(d[9]))?a+=[l[32],s.MC(d[9]),l[33]].join(""):a+=[l[32],s.MC(d[11]),l[33]].join(""),a+=l[40],s.MD(d[16])&&(a+=[l[41],s.F.entities(s.MC(d[16])),l[42]].join("")),a+=[l[43],s.F.entities(s.MC(d[17])),l[34]].join(""),e=_r_(a)):(e+=l[24],_=e,_i_("65cb:5648a876"),_+=l[35],s.MD(d[8])&&(_+=l[2],s.MN("fe_css_class_strikethrough_cart","hp_cart_selection__summary--discount-red"),_+=[l[44],s.MC(d[18]),l[45],s.MC(d[8]),l[46]].join("")),_+=l[47],s.MJ(1<s.MC(d[2]).totalRooms)&&s.MJ(s.MC(d[1]).totalPriceFormattedBE)?_+=[l[48],(s.MC(d[1])||{}).totalPriceFormattedBE,l[46]].join(""):_+=[l[48],(s.MC(d[2])||{}).totalPriceFormatted,l[46]].join(""),_+=l[47],e=_r_(_)),e+=l[32],e+=l[49],s.MJ(1<s.MC(d[2]).totalRooms)&&s.MJ(s.MC(d[1]).totalPriceChargesBE)?(e+=[l[50],(s.MC(d[1])||{}).totalPriceChargesBE,l[24]].join(""),s.MD(d[12])&&(e+=[l[51],s.F.entities(s.MC(d[17])),l[52]].join("")),e+=l[53]):s.MJ(s.MB(d[14]))&&(e+=[l[50],s.MC(d[14]),l[24]].join(""),s.MD(d[12])&&(e+=[l[51],s.F.entities(s.MC(d[17])),l[52]].join("")),e+=l[53]),e+=l[54]}var _,a;return e+=l[0],_r_(e)}return t+=l[0],o.unshift({selection_cart:s.MB(d[19])}),e=t,_i_("65cb:ad3c9eb2"),e+=["",l[1]].join(""),s.MN("rtState",s.MC(d[0]).roomsTable),e+=l[2],s.MN("selection",s.MC(d[1]).selection),e+=l[2],s.MN("fe_extracharges_text",s.MG((s.MC(d[2])||{}).extraChargesText)),e+=l[2],s.MN("fe_total_strikethrough",s.MG((s.MC(d[2])||{}).totalStrikethroughText)),e+=l[2],s.MN("fe_total_rooms",s.MG((s.MC(d[2])||{}).totalRooms)),e+=l[2],s.MN("fe_total_price",s.MG((s.MC(d[2])||{}).totalPriceFormatted)),e+=l[2],s.MN("fe_total_price_be",s.MG((s.MC(d[1])||{}).totalPriceFormattedBE)),e+=l[2],s.MN("fe_use_nightly_price",s.MG((s.MC(d[2])||{}).useNightlyPrice)),e+=l[2],s.MN("fe_use_nightly_price_as_dominant",s.MG((s.MC(d[2])||{}).useNightlyPriceAsDominant)),e+=l[2],s.MN("fe_nightly_price_pretty",s.MG((s.MC(d[2])||{}).nightlyPricePretty)),e+=l[2],s.MN("fe_be_translations",s.MG((s.MC(d[2])||{}).beTranslations)),e+=l[2],s.MN("fe_rooms_nights_text",s.MG((s.MC(d[2])||{}).roomsNightsText)),e+=l[3],e+=l[4],e+=l[5],s.MJ(s.MC(d[2]).totalRooms)&&(s.MK(s.MC(d[1]).roomPage.isVisible)||s.MJ(0<s.MB(d[3])))&&s.MJ(s.MC(d[1]).isCartEnabled)&&(e+=l[6]),e=n(e+=l[7]),e+=[l[55],"",l[47]].join(""),t=_r_(e),o.shift(),t+=l[47],_r_(t)})}()),B.define("component/hotel/abandoned_cart",function(e,t,n){_i_("65cb:defeb4bf");var i,_=e("jquery"),r=e("server-data"),a=e("persistent-view"),o=e("event-bus"),s=e("utils/inviewport"),c=e("component/reactive"),l=e("hotel/roomstable/actions"),d=r.b_room_blocks_json||{},u=_(window),f=_("#new_rooms_table_2"),b=null;n.exports=c.extend({template:"abandoned_cart",store:e("hotel/store"),shouldShow:!1,initialState:{b_lang_is_rtl:r.b_lang_is_rtl,message:B.jstmpl.translations("m_rt_selected_growl_generic")},initialize:function(){_i_("65cb:533e7e2e");var n=this.$el;o.on(o.EVENTS.TABNAV_OPEN,function(e,t){_i_("65cb:64bb8c01"),t!==a.defaultView&&b&&(n.removeClass("active"),b=null),_r_()}),_r_()},handleScroll:function(){_i_("65cb:91074a12");var e=this.$el,t=this;i&&clearTimeout(i),i=setTimeout(function(){_i_("65cb:929b3177"),a.getCurrent()!==a.defaultView||s(f)?b&&(e.removeClass("active"),t.dispatch(l.enableSelection()),b=null):b||(b=1,t.dispatch(l.disableSelection()),e.addClass("active")),_r_()},100),_r_()},scrollToElement:function(){_i_("65cb:3e0aa82c");var e=_(".c-selection_cart").outerHeight(),t=this.getStoreState().store.roomsTable.selection,n=Object.keys(t.blocks)[0],i=_("#"+n).offset();if(i){var r=i.top-(e+10);0<r&&_("html, body").animate({scrollTop:r})}_r_()},closeGrowl:function(e){_i_("65cb:02320dac"),e.stopPropagation(),this.$el.removeClass("active"),_r_()},getInnerState:function(){_i_("65cb:9c5bc33c");var e,t=this.__state,n=this.getStoreState().store.roomsTable.selection,i=n.blocks,r=Object.keys(i),_=r.length?d[r[0]].roomTypeId:null;return t=Object.assign(t,{selected_room_type:(e=_,_i_("65cb:77f337861"),_r_(B.jstmpl("trans_roomtype").render({b_roomtype_id:e}).trim()))}),n.totalRooms?u.off("scroll.reactiveAbandonedGrowl").on("scroll.reactiveAbandonedGrowl",this.handleScroll):u.off("scroll.reactiveAbandonedGrowl"),_r_(t)}}),_r_()}),booking.jstmpl("abandoned_cart",function(){_i_("65cb:8d6807ce");var _,a=["\n\n    ","\n","\n\n","\n\n\n",'\n\n\n<div\n    data-component="hotel/abandoned_cart"\n    class="c-abandoned_cart" \n    on:click="scrollToElement"\n>\n    ','\n\n     <div class="c-abandoned_cart-icon">\n         ',"iconset/alarm","large",'\n     </div>\n\n    <div class="c-abandoned_cart-content">\n\n        <p>',"/private/m_rt_cart_abandonment_cta/name",'</p>\n\n        <div class="c-abandoned_cart-summary">\n            ',"\n                ","\n                    ","/private/hp_book_now_summary_room/name","\n            ","/private/m_rt_cart_abandonment_num_selection_price/name",'\n                <div aria-label="Label" class="bui-spinner bui-spinner--size-small c-abandoned_cart-summary_loading" role="alert" aria-busy="true">\n                        <div class="bui-spinner__inner"></div>\n                </div>\n            ',"\n        </div>\n\n        ","\n            <small>\n                ","\n            </small>\n        ",'\n    </div>\n\n     <div class="c-abandoned_cart-icon">\n         ',"iconset/navarrow_left","largest","\n         ","iconset/navarrow_right","\n     </div>\n\n",'\n\n    <div class="ac-close_btn" on:click="closeGrowl">\n        ',"iconset/close_circle","larger","\n    </div>\n</div>\n\n"],o=["store","rtState","selection","fe_total_price_be","fe_total_rooms","selected_room_type","fe_extracharges_text","b_lang_is_rtl","abandoned_cart"];return _r_(function(e){_i_("65cb:96843b0a");var t,n,i="",r=this.fn;return i+=a[0],e.unshift({abandoned_cart:r.MB(o[8])}),t=i,_i_("65cb:c71673bb"),t+=[a[1],"",a[2]].join(""),r.MN("rtState",r.MC(o[0]).roomsTable),t+=a[1],r.MN("selection",r.MC(o[1]).selection),t+=a[1],r.MN("fe_total_rooms",r.MG((r.MC(o[2])||{}).totalRooms)),t+=a[1],r.MN("fe_total_price_be",r.MG((r.MC(o[1])||{}).totalPriceFormattedBE)),t+=a[1],r.MN("fe_extracharges_text",r.MG((r.MC(o[2])||{}).extraChargesText)),t+=a[3],n=t+=a[4],_i_("65cb:e7a480bd"),n+=[a[5],(e.unshift({color:"#F5F5F5",name:a[6],size:a[7]}),_=r.HELPER("icon",e[0]),e.shift(),_),a[8],r.ME(a[9],r.MB,r.MN,null),a[10]].join(""),r.MJ(r.MC(o[2]).sameRoomType)&&r.MJ(r.MB(o[5])+""=="rooms")?(n+=a[11],r.MJ(1<r.MB(o[4]))&&r.MJ(r.MB(o[3]))?n+=[a[12],(e.unshift({number_rooms:r.MG((r.MC(o[2])||{}).totalRooms),total_cost_booking:r.MB(o[3])}),_=r.ME(a[13],r.MB,r.MN,r.MO((r.MC(o[2])||{}).totalRooms,null,a[13])),e.shift(),_),a[11]].join(""):n+=[a[12],(e.unshift({number_rooms:r.MG((r.MC(o[2])||{}).totalRooms),total_cost_booking:r.MG((r.MC(o[2])||{}).totalPriceFormatted)}),_=r.ME(a[13],r.MB,r.MN,r.MO((r.MC(o[2])||{}).totalRooms,null,a[13])),e.shift(),_),a[11]].join("")):(n+=a[11],r.MJ(1<r.MB(o[4]))&&r.MJ(r.MB(o[3]))?n+=[a[12],(e.unshift({number_rooms:r.MG((r.MC(o[2])||{}).totalRooms),total_cost_booking:r.MB(o[3])}),_=r.ME(a[15],r.MB,r.MN,r.MO((r.MC(o[2])||{}).totalRooms,null,a[15])),e.shift(),_),a[11]].join(""):n+=[a[12],(e.unshift({number_rooms:r.MG((r.MC(o[2])||{}).totalRooms),total_cost_booking:r.MG((r.MC(o[2])||{}).totalPriceFormatted)}),_=r.ME(a[15],r.MB,r.MN,r.MO((r.MC(o[2])||{}).totalRooms,null,a[15])),e.shift(),_),a[11]].join("")),n+=a[14],n+=a[14],r.MJ(1<r.MC(o[2]).totalRooms)&&r.MJ(r.MC(o[1]).isLoading)&&r.MJ(r.MC(o[1]).totalPriceFormattedBE)&&(n+=a[16]),n+=a[17],r.MJ(1<r.MC(o[2]).totalRooms)&&r.MJ(r.MC(o[1]).totalPriceChargesBE)?n+=[a[18],(r.MC(o[1])||{}).totalPriceChargesBE,a[19]].join(""):r.MJ(r.MB(o[6]))&&(n+=[a[18],r.MC(o[6]),a[19]].join("")),n+=a[20],r.MD(o[7])?n+=[a[14],(e.unshift({color:"#F5F5F5",name:a[21],size:a[22]}),_=r.HELPER("icon",e[0]),e.shift(),_),a[23]].join(""):n+=[a[14],(e.unshift({color:"#F5F5F5",name:a[24],size:a[22]}),_=r.HELPER("icon",e[0]),e.shift(),_),a[23]].join(""),n+=a[25],t=_r_(n),t+=[a[26],(e.unshift({color:"#CC0000",name:a[27],size:a[28]}),_=r.HELPER("icon",e[0]),e.shift(),_),a[29],"",a[1]].join(""),i=_r_(t),e.shift(),i+=a[1],_r_(i)})}()),B.define("component/hotel/room-cover",function(e,t,n){_i_("65cb:0dda93c9");var i=e("server-data"),u=i.b_room_blocks_json||{},r=e("component/reactive"),f=e("hotel/room_preferences/horizontal_rate_preference/utils"),b=Number(i.fe_exp_rsw_m_hp_rt_horizontal_scroll||0);n.exports=r.extend({template:"room_cover_template",store:e("hotel/store"),initialState:{disableSelection:0},initialize:function(e){_i_("65cb:264e3a1f");var t=this.$el.data("blockId");u[t]&&this.setState({blockId:t}),_r_()},getInnerState:function(){_i_("65cb:0d70a536");var e=this.__state,t=e.blockId;0<b&&(t=f.getProxyBlockId(t));var n=u[t],i=this.initialState.disableSelection,r=this.getStoreState().store.roomsTable.selection,_=this.getStoreState().store.roomsTable.roomTypeAvailability,a=this.getStoreState().store.bundles,o=n.blockId;if(!(n.sharesAvailabilityOnRoomLevel&&_[n.roomId]<=0)||r.blocks[n.blockId]&&r.blocks[n.blockId].latestSelectedPerRoom||(i=1),a.blocksToBaseBlockHash)for(var s=a.blocksToBaseBlockHash[o],c=a.baseBlocksToBlockHash[s]||[],l=0;l<c.length;l+=1){var d=c[l];r.blocks[d]&&r.blocks[d].latestSelectedPerRoom&&(i=0)}return e=Object.assign(e,{disableSelection:i}),_r_(e)}}),_r_()}),booking.jstmpl("room_cover_template",function(){_i_("65cb:dc48cbce");var r=["\n    ","\n<div>\n    ",'\n        <div class="m_hp_rt_room_card__cover"></div>\n    ',"\n</div>\n","\n"],_=["disableSelection"];return _r_(function(e){_i_("65cb:e89c06df");var t,n="",i=this.fn;return n+=r[0],t=n,_i_("65cb:fc231c6e"),t+=["",r[1]].join(""),i.MD(_[0])&&(t+=r[2]),t+=[r[3],"",r[4]].join(""),n=_r_(t),n+=r[4],_r_(n)})}()),B.define("component/hotel/persuasion/scarcity",function(e,t,n){_i_("65cb:249c5e26");var a=e("server-data"),h=a.b_room_blocks_json||{},i=e("component/reactive"),p=e("hotel/room_preferences/horizontal_rate_preference/utils"),o=e("et"),s=e("core/utils/onview"),c="ZOVVCaBOMcJZSIIQNNDREKNdHT",r=Boolean(Number(o.track(c))),l=a.b_is_legal_exception_applied,d=Boolean(Number(a.fe_exp_rsw_m_hp_rt_horizontal_scroll)),m=Boolean(Number(a.fe_rsw_hp_m_fix_only_x_left_inventory));n.exports=i.extend({template:"scarcity_template",store:e("hotel/store"),initialState:{showIcon:1,scarcityCount:0,inHighDemand:0,roomTypeIsBed:0,legalCompliant:l,legalCompliantExp:r,limitedUrgencyLocation:a.limited_urgency_location,useNeutralPersuasion:0,isSharedCounter:!1},initialize:function(e){_i_("65cb:a9372c8b");var t=this.$el.data("blockId"),n=this.$el.data("neutralizePersuasion"),i=Boolean(Number(this.$el.data("isSharedScarcityCounter"))),r=function(e){_i_("65cb:22e32d21");var t=a.b_rooms_available_and_soldout;if(!t||!t.length)return _r_(0);for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.b_blocks.length;r++){var _=i.b_blocks[r];if(_&&_.b_block_id===e)return _r_(_.b_total_nr_inventory||0)}return _r_(0)}(t),_=h[t].maxRooms;m&&(_=r),h[t]&&this.setState({blockId:t,scarcityCount:_,inHighDemand:0,roomTypeIsBed:26==h[t].roomTypeId,useNeutralPersuasion:n,isSharedCounter:i,blockInventory:r}),function(){_i_("65cb:fe5169f0");var e=document.querySelector(".js-rt_copy_fix_only_x_left_experiment_tracker");e.dataset.tracked||(s.run(".js-rt_copy_fix_only_x_left_experiment_tracker",function(){_i_("65cb:bfab3240"),o.stage(c,1),l?o.stage(c,2):o.stage(c,3),d?o.stage(c,4):o.stage(c,5),_r_()}),e.dataset.tracked="1");_r_()}(),_r_()},getInnerState:function(){if(_i_("65cb:20949e9a"),!("blockId"in this.__state))return _r_(this.__state);var e=this.__state;if(e.isSharedCounter){var t=p.getProxyBlockId(e.blockId),n=h[t],i=this.getStoreState().store.roomsTable.roomTypeAvailability,r=n.maxRooms;if(m&&(r=e.blockInventory),n.sharesAvailabilityOnRoomLevel&&i.hasOwnProperty(n.roomId))if(m)r-=n.maxRooms-i[n.roomId];else r=i[n.roomId];return e=Object.assign(e,{scarcityCount:r}),_r_(e)}n=h[e.blockId],t=e.blockId;var _=n.maxRooms;m&&(_=e.blockInventory);var a=this.getStoreState().store.roomsTable.selection,o=(i=this.getStoreState().store.roomsTable.roomTypeAvailability,a&&a.blocks.hasOwnProperty(n.blockId)&&a.blocks[n.blockId].count),s=this.getStoreState().store.bundles,c=_;if(s&&s.isBundleRatesExperimentOn&&s.groupsArray){for(var l=s.blocksToBaseBlockHash[t],d=s.baseBlocksToBlockHash[l]||[],u=0,f=0;f<d.length;f+=1){var b=d[f];a.blocks[b]&&(u+=a.blocks[b].count)}c=_-u}else{if(n.sharesAvailabilityOnRoomLevel&&i.hasOwnProperty(n.roomId))if(m)c-=n.maxRooms-i[n.roomId];else c=i[n.roomId];else o&&(c=_-a.blocks[n.blockId].count)}return(e=Object.assign(e,{scarcityCount:c})).scarcityCount||(e.limitedUrgencyLocation?B.squeak("YZRAHNFaYfHIMUGTdeAZSGIIGGKASGDJFZLOAAHcXRT"):B.squeak("YZRAHNFaYfHIMUGTdeAZSGIIGGKBRbWIcQYAIRaNfLae")),_r_(e)}}),_r_()}),booking.jstmpl("scarcity_template",function(){_i_("65cb:88c3ba23");var r,_=["\n    ",'\n<div class="m_hp_rt_room_card__scarcity ',"legal-neutral-urgency",' js-scarcity">\n    ',"\n\n        \n        ","\n            ","true","js-room-scarcity-indicator","11","\n        ","/private/rs_rl_we_have_x_left_generic/name","\n                ","/private/m_hstl_hp_rt_scarcity_beds_compliant/name","/private/m_pss_scarcity_compliant/name","/private/m_hstl_hp_rt_scarcity_beds/name","/private/m_pss_scarcity_nonlegal/name","/private/m_you_selected_the_last_one_message/name","/private/m_last_one_generic_message/name","\n</div>\n","\n"],a=["useNeutralPersuasion","lcl_icon_base_path","scarcityCount","showIcon","legalCompliantExp","roomTypeIsBed","legalCompliant","limitedUrgencyLocation"];return _r_(function(e){_i_("65cb:7cb2871b");var t,n="",i=this.fn;return n+=_[0],t=n,_i_("65cb:19a77b19"),t+=["",_[1]].join(""),i.MD(a[0])&&(t+=_[2]),t+=_[3],i.MJ(0<i.MB(a[2]))?(t+=_[4],i.MD(a[3])&&(t+=_[5],i.MN("lcl_icon_base_path",i.MB(a[0])?"scarcity_indicator/scarcity_indicator_neutral_black":"scarcity_indicator"),t+=[_[5],(e.unshift({"aria-hidden":_[6],class:_[7],height:_[8],name:[i.MB(a[1]),"/pss_scarcity_",i.MB(a[2]),"_left"].join(""),width:_[8]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[9]].join("")),t+=_[4],i.MD(a[4])?t+=[_[5],(e.unshift({num_rooms:i.MB(a[2])}),r=i.ME(_[10],i.MB,i.MN,i.MO(i.MC(a[2]),null,_[10])),e.shift(),r),_[9]].join(""):(i.MD(a[6])?(t+=_[5],i.MD(a[5])?t+=[_[11],(e.unshift({num_left:i.MB(a[2])}),r=i.ME(_[12],i.MB,i.MN,i.MO(i.MC(a[2]),null,_[12])),e.shift(),r),_[5]].join(""):t+=[_[11],(e.unshift({num_left:i.MB(a[2])}),r=i.ME(_[13],i.MB,i.MN,i.MO(i.MC(a[2]),null,_[13])),e.shift(),r),_[5]].join("")):(t+=_[5],i.MD(a[5])?t+=[_[11],(e.unshift({num_left:i.MB(a[2])}),r=i.ME(_[14],i.MB,i.MN,i.MO(i.MC(a[2]),null,_[14])),e.shift(),r),_[5]].join(""):t+=[_[11],(e.unshift({num_left:i.MB(a[2])}),r=i.ME(_[15],i.MB,i.MN,i.MO(i.MC(a[2]),null,_[15])),e.shift(),r),_[5]].join("")),t+=_[9]),t+=_[0]):i.MJ(i.MB(a[7]))||i.MJ(i.MB(a[4]))?t+=[_[9],i.ME(_[16],i.MB,i.MN,null),_[0]].join(""):t+=[_[9],i.ME(_[17],i.MB,i.MN,null),_[0]].join(""),t+=[_[18],"",_[19]].join(""),n=_r_(t),n+=_[19],_r_(n)})}()),B.define("component/product_block_reserve_cta",function(e,t,n){_i_("65cb:291179b2");var i=e("component/reactive"),d=e("hotel/roomstable/actions"),u=e("events"),r=e("event-bus"),f=e("hotel/roomstable").RT,b=e("hotel/store"),_=e("server-data"),h=e("hotel/roomstable/bundles/actions"),p=e("hotel/roomstable/bundles/helpers");n.exports=i.extend({template:"product_block_reserve_cta",store:b,initialize:function(){_i_("65cb:9a4581fd"),this.setState({blockId:this.$el.data("blockId"),lang:this.$el.data("lang"),ariaDescribedBy:this.$el.data("ariaDescribedBy"),hotelHasOnlineCheckIn:this.$el.data("hotelHasOnlineCheckIn"),disableSelection:Boolean(Number(_.fe_has_rt_on_sub_page)),fe_is_an_rtb_property:_.fe_is_an_rtb_property||0}),_r_()},getInnerState:function(){_i_("65cb:36e52bf41");var e=this.__state;return _r_(e)},handleClickReserve:function(){_i_("65cb:cd3b3b5d"),function(e){_i_("65cb:84cf5dd1");var t=f.room(e);u.emit(u.EVENTS.RT_ROOM_SELECT,{$room:t.$room}),b.dispatch(d.addSelection(e)),r.emit(u.EVENTS.RT_ROOM_SELECT_DONE),t.$room&&t.$room.find(".js-strikethrough-price").length&&B.et.goal("mdot_room_list_block_with_strikethrough_selected"),t.$room&&t.$room.find(".c-deals-container").length&&B.et.goal("mdot_room_list_block_with_badge_selected"),_r_()}(this.getInnerState().blockId),this.getInnerState().disableSelection&&(b.dispatch(d.disableSelection()),$(".js-hp_rt_book_button").trigger("click")),_r_()},handleClickRemove:function(e){_i_("65cb:1418f7e5"),e.preventDefault();var t=this.getInnerState().blockId,n=f.room(t);u.emit(u.EVENTS.RT_ROOM_UNSELECT,{$room:n.$room}),this.dispatch(d.changeSelection(t,0));var i=b.getState(),r=i.bundles;if(r&&r.isBundleRatesExperimentOn&&r.groupsArray&&0<r.groupsArray.length){for(var _=r.groups,a=i.roomsTable.selection.blocks,o=p.getGroupIdFromBlockId(t),s=_[o].selection&&_[o].selection.length||0,c=0;c<s;c+=1){var l=_[o].selection[c];a[l]&&0<a[l].count&&b.dispatch(d.removeSelection(l))}b.dispatch(h.removeGroupSelection(t)),$("#"+t).find(".rt-mealplan-bundle-container").show()}_r_()}}),_r_()}),booking.jstmpl("product_block_reserve_cta",function(){_i_("65cb:9cebc317");var l,d=["\n    ","\n\n    \n    ","\n        ","\n            ","\n                ","\n    \n\n","\n\n\n","\n",'\n    <div class="plb-reserve-container ','">\n        ','\n            <button type="button"\n                class="'," bui-button bui-button--secondary bui-button--large bui-button--wide js-rt_select_btn "," rt_select_btn_ru "," ",'"\n                    on:click="handleClickReserve"\n                    aria-describedby="','"\n            >\n              <span class="bui-button__text">\n                \n                ',"\n                    ","/private/apps_guest_rtb_rt_request_cta/name","/private/m_reserve/name","\n              </span>\n            </button>\n        ",'\n            <span\n                class="rt_plus_minus_secondary__undo_btn numRoomsInfo"\n                on:click="handleClickRemove"\n            >\n                ',"iconset/close_circle","small","/private/m_rt_cta_remove/name","\n            </span>\n        ","\n    </div>\n","\n\n"],u=["store","blockId","base_block_id","options_for_base_block","fe_count","fe_blocks","fe_in_bundles_exp","lcl_blocks","lcl_count","lcl_block_count","lcl_container_class","c_lang","c_aria_described_by","fe_is_an_rtb_property","c_disable_selection","hotelHasOnlineCheckIn","ariaDescribedBy","disableSelection","hideRemove","lang"];return _r_(function(s){_i_("65cb:6a055a42");var e="",c=this.fn;return e=function(e){if(_i_("65cb:6c13a618"),e+=["",d[1]].join(""),c.MN("fe_blocks",c.MC(u[0]).roomsTable.selection.blocks),e+=d[0],c.MN("fe_count",0),e+=d[0],c.MN("fe_in_bundles_exp",0),e+=d[0],c.MJ(c.MG((c.MC(u[0])||{}).bundles))&&(e+=d[2],c.MN("fe_in_bundles_exp",c.MG(((c.MC(u[0])||{}).bundles||{}).exp)),e+=d[0]),e+=d[0],c.MJ(c.MB(u[6]))&&c.MJ(c.MB(u[5]))&&c.MJ(c.MB(u[1]))){e+=d[2],c.MN("base_block_id",c.MC(u[0]).bundles.blocksToBaseBlockHash[c.MB(u[1])]),e+=d[2],c.MN("options_for_base_block",c.MC(u[0]).bundles.baseBlocksToBlockHash[c.MB(u[2])]),e+=d[2],c.MN("fe_count",0),e+=d[2];var t=c.MC(u[3])||[];s.unshift({option:null});for(var n,i=1,r=t.length;i<=r;i++)s[0].option=n=t[i-1],e+=d[3],c.MJ(c.MC(u[5])[n])&&(e+=d[4],c.MN("fe_count",c.MI(c.MB(u[4]))+c.MI(c.MC(u[5])[n].count)),e+=d[3]),e+=d[2];s.shift(),e+=d[0]}e+=d[5],e+=d[6],c.MN("lcl_blocks",c.MC(u[0]).roomsTable.selection.blocks),e+=d[7],c.MN("lcl_count",0),e+=d[7],c.MJ(c.MB(u[1]))&&c.MJ(c.MB(u[7]))&&c.MJ(c.MC(u[7])[c.MB(u[1])])&&(e+=d[0],c.MN("lcl_count",c.MC(u[7])[c.MC(u[1])].count),e+=d[7]),e+=d[6],c.MJ(c.MB(u[6]))&&c.MJ(c.MB(u[4])>c.MB(u[8]))&&(e+=d[0],c.MN("lcl_count",c.MB(u[4])),e+=d[7]),e+=d[6];var _,a={b_hotel_has_online_check_in:c.MB(u[15]),c_aria_described_by:c.MB(u[16]),c_block_id:c.MB(u[1]),c_disable_selection:c.MB(u[17]),c_hide_remove:c.MB(u[18]),c_lang:c.MB(u[19]),fe_is_an_rtb_property:c.MB(u[13]),lcl_block_count:c.MB(u[8])},o=s;return(s=c.SV([{},{}])).unshift(a),_=e,_i_("65cb:92fcce90"),_+=d[0],c.MN("lcl_container_class","roomInfo select_btn_container"),_+=d[0],c.MD(u[9])&&(_+=d[2],c.MN("lcl_container_class","rt_plus_minus_secondary__undo"),_+=d[0]),_+=[d[8],c.F.entities(c.MC(u[10])),d[9]].join(""),c.MJ(0==c.MB(u[9]))||c.MJ(c.MB(u[14]))?(_+=d[10],_+=d[11],(c.MJ(c.MB(u[11])+""=="ru")||c.MJ(c.MB(u[11])+""=="uk"))&&(_+=d[12]),_+=d[13],_+=[d[14],c.F.entities(c.MB(u[12])),d[15]].join(""),c.MD(u[13])?_+=[d[16],c.ME(d[17],c.MB,c.MN,null),d[4]].join(""):_+=[d[16],c.ME(d[18],c.MB,c.MN,null),d[4]].join(""),_+=d[19]):_+=[d[20],(s.unshift({color:"#0071C2",name:d[21],size:d[22]}),l=c.HELPER("icon",s[0]),s.shift(),l),d[4],c.ME(d[23],c.MB,c.MN,null),d[24]].join(""),_+=d[25],e=_r_(_),s=c.SV(o),e+=[d[26],"",d[7]].join(""),_r_(e)}(e+=d[0]),e+=d[7],_r_(e)})}()),B.define("component/product-list/block/remove",function(e,t,n){_i_("65cb:ea42c8d6");var i=e("component/reactive"),d=e("hotel/roomstable/actions"),u=e("events"),f=e("hotel/roomstable").RT,b=e("hotel/store"),h=e("hotel/roomstable/bundles/actions"),p=e("hotel/roomstable/bundles/helpers");n.exports=i.extend({template:"pl_block_remove",store:b,initialize:function(){_i_("65cb:ff631102"),this.setState({blockId:this.$el.data("blockId")}),_r_()},getInnerState:function(){_i_("65cb:642f3fa6");var e=this.__state,t=this.getStoreState().store.roomsTable.selection.blocks,n=e.blockId,i=0;return n in t&&(i=t[n].count),e=Object.assign(e,{count:i}),_r_(e)},handleClickRemove:function(e){_i_("65cb:5a4b55eb"),e.preventDefault();var t=this.getInnerState().blockId,n=f.room(t);u.emit(u.EVENTS.RT_ROOM_UNSELECT,{$room:n.$room}),this.dispatch(d.changeSelection(t,0));var i=b.getState(),r=i.bundles;if(r&&r.exp&&r.groupsArray&&0<r.groupsArray.length){for(var _=r.groups,a=i.roomsTable.selection.blocks,o=p.getGroupIdFromBlockId(t),s=_[o].selection&&_[o].selection.length||0,c=0;c<s;c+=1){var l=_[o].selection[c];a[l]&&0<a[l].count&&b.dispatch(d.removeSelection(l))}b.dispatch(h.removeGroupSelection(t)),$("#"+t).find(".rt-mealplan-bundle-container").show()}_r_()}}),_r_()}),booking.jstmpl("pl_block_remove",function(){_i_("65cb:1b877f3c");var r,_=["\n    ",'\n\n\n<div\n    data-component="product-list/block/remove"\n    class="plb-remove"\n>\n    ','\n        <span\n            class="rt_plus_minus_secondary__undo_btn numRoomsInfo"\n            on:click="handleClickRemove"\n        >\n            ',"iconset/close_circle","small","\n            ","/private/m_rt_cta_remove/name","\n        </span>\n    ","\n</div>\n\n","\n"],a=["count"];return _r_(function(e){_i_("65cb:87266fe5");var t,n="",i=this.fn;return n+=_[0],t=n,_i_("65cb:2afa7b06"),t+=["",_[1]].join(""),i.MJ(0!=i.MB(a[0]))&&(t+=[_[2],(e.unshift({color:"#0071C2",name:_[3],size:_[4]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[5],i.ME(_[6],i.MB,i.MN,null),_[7]].join("")),t+=[_[8],"",_[9]].join(""),n=_r_(t),n+=_[9],_r_(n)})}()),B.define("hotel/room-table/c360",function(e,t,n){_i_("65cb:0c9fcc45");var i=e("c360Tracker"),r=e("server-data"),_={GROUP_RECOMMENDATION_ON_VIEW:"GROUP_RECOMMENDATION_ON_VIEW",ROOM_TABLE_ON_VIEW:"ROOM_TABLE_ON_VIEW",ROOM_NAME_CLICK:"ROOM_NAME_CLICK",ROOM_THUMBNAIL_CLICK:"ROOM_THUMBNAIL_CLICK",ROOM_DETAILS_PAGE_MODAL_OPEN_COUNTER_1:"ROOM_DETAILS_PAGE_MODAL_OPEN_COUNTER_1",ROOM_DETAILS_PAGE_MODAL_OPEN_COUNTER_2_OR_MORE:"ROOM_DETAILS_PAGE_MODAL_OPEN_COUNTER_2_OR_MORE",ROOM_DETAILS_PAGE_MODAL_CLOSE_COUNTER_1:"ROOM_DETAILS_PAGE_MODAL_CLOSE_COUNTER_1",ROOM_DETAILS_PAGE_MODAL_CLOSE_COUNTER_2_OR_MORE:"ROOM_DETAILS_PAGE_MODAL_CLOSE_COUNTER_2_OR_MORE",ROOM_DETAILS_PAGE_MODAL_GALLERY_INTERACTION:"ROOM_DETAILS_PAGE_MODAL_GALLERY_INTERACTION",ROOM_DETAILS_PAGE_MODAL_ACCORDION_INTERACTION:"ROOM_DETAILS_PAGE_MODAL_ACCORDION_INTERACTION",ROOM_RATE_SELECT_COUNTER_1:"ROOM_RATE_SELECT_COUNTER_1",ROOM_RATE_SELECT_COUNTER_2_OR_MORE:"ROOM_RATE_SELECT_COUNTER_2_OR_MORE",ROOM_RATE_SELECT_FROM_RDP_COUNTER_1:"ROOM_RATE_SELECT_FROM_RDP_COUNTER_1",ROOM_RATE_SELECT_FROM_RDP_COUNTER_2_OR_MORE:"ROOM_RATE_SELECT_FROM_RDP_COUNTER_2_OR_MORE",NEXT_STEP_CTA_CLICK:"NEXT_STEP_CTA_CLICK",NEXT_STEP_CTA_CLICK_FROM_RDP:"NEXT_STEP_CTA_CLICK_FROM_RDP",ROOM_TABLE_PAGEHIDE:"ROOM_TABLE_PAGEHIDE",ROOM_TABLE_VISIBILITYCHANGE:"ROOM_TABLE_VISIBILITYCHANGE",PRICE_INFO_CLICK:"PRICE_INFO_CLICK",GENIUS_BADGE_CLICK:"GENIUS_BADGE_CLICK",DEAL_BADGE_CLICK:"DEAL_BADGE_CLICK",VALUE_ADD_CLICK:"VALUE_ADD_CLICK"};n.exports={eventsMap:_,track:function(e){if(_i_("65cb:13bf9fb8"),!(e in _))return console.warn("event - ",e," - is not registered!"),_r_();!function(e){_i_("65cb:a81ccdc8");var t={action_name:e,action_version:"1.0",content:{platform:function(){_i_("65cb:be5582a1");var e=r.b_site_type;return"www"!==e&&"mdot"!==e&&"tdot"!==e&&(e="www"),_r_(e)}()}};i.track(t),_r_()}("room_selection."+e.toLowerCase()),_r_()}},_r_()}),B.when({events:"ready",condition:B&&B.env&&B.env.b_feature_running_KILLSWITCH_RSWEB_VITALS}).run(function(e){_i_("65cb:f5667daa");var t=e("core/utils/onview"),n=e("hotel/room-table/c360"),i=e("events"),r="[data-group-recommendation]";document.querySelector(r)&&t.run(r,function(){_i_("65cb:15533fef"),n.track(n.eventsMap.GROUP_RECOMMENDATION_ON_VIEW),_r_()});var _="[data-room-table]";document.querySelector(_)&&t.run(_,function(){_i_("65cb:d2fde995"),n.track(n.eventsMap.ROOM_TABLE_ON_VIEW),_r_()}),document.addEventListener("click",function e(t){_i_("65cb:d845c387");t.target.closest(".js-rt-room-title")&&(n.track(n.eventsMap.ROOM_NAME_CLICK),document.removeEventListener("click",e));_r_()}),document.addEventListener("click",function e(t){_i_("65cb:fe3b7f2d");t.target.closest(".js-rt-room-icon, .rt-rate-horizontal__header-thumbnail")&&(n.track(n.eventsMap.ROOM_THUMBNAIL_CLICK),document.removeEventListener("click",e));_r_()}),i.on(B.eventNames.RT_ROOM_SUBMIT_RT,function(){_i_("65cb:7e9b0718"),Boolean(document.querySelector(".js-m_rt_fullpage__container.tab-active"))?n.track(n.eventsMap.NEXT_STEP_CTA_CLICK_FROM_RDP):n.track(n.eventsMap.NEXT_STEP_CTA_CLICK),_r_()}),i.on(B.eventNames.RT_ROOM_SUBMIT_FPD,function(){_i_("65cb:05d9f059"),n.track(n.eventsMap.NEXT_STEP_CTA_CLICK_FROM_RDP),_r_()}),document.addEventListener("click",function e(t){_i_("65cb:72cdbfe7");t.target.closest(".mpc-inline-block-maker-helper[data-drawer-id]")&&(n.track(n.eventsMap.PRICE_INFO_CLICK),document.removeEventListener("click",e));_r_()}),document.addEventListener("click",function e(t){_i_("65cb:a293df7d");t.target.closest(".js-deals-badge--genius")&&(n.track(n.eventsMap.GENIUS_BADGE_CLICK),document.removeEventListener("click",e));_r_()}),document.addEventListener("click",function e(t){_i_("65cb:d7c7658f");t.target.closest(".js-deals-badge")&&(n.track(n.eventsMap.DEAL_BADGE_CLICK),document.removeEventListener("click",e));_r_()}),document.addEventListener("click",function e(t){_i_("65cb:c6c898b8");t.target.closest(".bui-hp_subtitle > li[data-modal-id]")&&(n.track(n.eventsMap.VALUE_ADD_CLICK),document.removeEventListener("click",e));_r_()}),_r_()}),B.define("hotel/roomstable/extra-charges",function(e,t,n){_i_("65cb:3931da20");var s=e("jquery"),i=e("server-data");function c(){return _i_("65cb:2649af1a"),_r_(Boolean(i.b_guest_country&&!/gb|id|us/gim.test(B.env.b_guest_country)))}n.exports={getExtraCharges:function(e,t,n){_i_("65cb:53028d2a");var i,r,_,a,o={};return(c()||n)&&(i=s(".room .prd-taxes-and-fees-under-price.blockuid-"+e+":first")).length&&(r=parseInt(i.data("cur-stage")),_=i.data("charge-name")||"",~[1,2,3,4,5].indexOf(r)&&2===r&&(a=i.data("excl-charges-raw")||0,!(a=parseFloat(a))||isNaN(a)?r=5:(o.chargeCase=a,o.totalRoomCharges=a*t)),o.chargeCase=r,o.chargeName=_),_r_(o)},getExtraChargesText:function(e,t,n){if(_i_("65cb:cdb264b7"),c()||t)return _r_(Boolean(n)?function(e,t){_i_("65cb:65f53eb2");var n="",i=0,r=0;for(var _ in e)if(e.hasOwnProperty(_)){var a=e[_];i=Math.max(i,a.chargeCase||0)}switch(0<t&&(r=(r=Math.round(t))||1),i){case 1:n=B.jstmpl.translations("sr_search_card_includes_taxes_charges");break;case 2:n=B.jstmpl.translations("sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:B.utils.accounting.formatMoney(r)});break;case 3:case 4:case 5:n=B.env.b_charges_has_tax_exceptions&&B.env.b_charges_excluded_charges_detail?B.env.b_charges_excluded_charges_detail:B.jstmpl.translations("sr_hp_taxes_and_charges_exception");break;default:n=""}return _r_(n)}(e,n):function(e){_i_("65cb:87e6f0a5");var t="",n=0,i=0;for(var r in e)if(e.hasOwnProperty(r)){var _=e[r];if(!_.chargeCase)continue;2===_.chargeCase&&(i+=_.totalRoomCharges),n!==_.chargeCase&&_.chargeCase>n&&(n=_.chargeCase)}switch(0<i&&(i=(i=Math.round(i))||1),n){case 1:t=B.jstmpl.translations("sr_search_card_includes_taxes_charges");break;case 2:t=B.jstmpl.translations("sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:B.utils.accounting.formatMoney(i)});break;case 3:case 4:case 5:t=B.env.b_charges_has_tax_exceptions&&B.env.b_charges_excluded_charges_detail?B.env.b_charges_excluded_charges_detail:B.jstmpl.translations("sr_hp_taxes_and_charges_exception");break;default:t=""}return _r_(t)}(e));_r_()}},_r_()}),B.define("hotel/roomstable/extra-charges",function(e,t,n){_i_("65cb:3931da201");var s=e("jquery"),i=e("server-data");function c(){return _i_("65cb:2649af1a1"),_r_(Boolean(i.b_guest_country&&!/gb|id|us/gim.test(B.env.b_guest_country)))}n.exports={getExtraCharges:function(e,t,n){_i_("65cb:53028d2a1");var i,r,_,a,o={};return(c()||n)&&(i=s(".room .prd-taxes-and-fees-under-price.blockuid-"+e+":first")).length&&(r=parseInt(i.data("cur-stage")),_=i.data("charge-name")||"",~[1,2,3,4,5].indexOf(r)&&2===r&&(a=i.data("excl-charges-raw")||0,!(a=parseFloat(a))||isNaN(a)?r=5:(o.chargeCase=a,o.totalRoomCharges=a*t)),o.chargeCase=r,o.chargeName=_),_r_(o)},getExtraChargesText:function(e,t,n){if(_i_("65cb:cdb264b71"),c()||t)return _r_(Boolean(n)?function(e,t){_i_("65cb:65f53eb21");var n="",i=0,r=0;for(var _ in e)if(e.hasOwnProperty(_)){var a=e[_];i=Math.max(i,a.chargeCase||0)}switch(0<t&&(r=(r=Math.round(t))||1),i){case 1:n=B.jstmpl.translations("sr_search_card_includes_taxes_charges");break;case 2:n=B.jstmpl.translations("sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:B.utils.accounting.formatMoney(r)});break;case 3:case 4:case 5:n=B.env.b_charges_has_tax_exceptions&&B.env.b_charges_excluded_charges_detail?B.env.b_charges_excluded_charges_detail:B.jstmpl.translations("sr_hp_taxes_and_charges_exception");break;default:n=""}return _r_(n)}(e,n):function(e){_i_("65cb:87e6f0a51");var t="",n=0,i=0;for(var r in e)if(e.hasOwnProperty(r)){var _=e[r];if(!_.chargeCase)continue;2===_.chargeCase&&(i+=_.totalRoomCharges),n!==_.chargeCase&&_.chargeCase>n&&(n=_.chargeCase)}switch(0<i&&(i=(i=Math.round(i))||1),n){case 1:t=B.jstmpl.translations("sr_search_card_includes_taxes_charges");break;case 2:t=B.jstmpl.translations("sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:B.utils.accounting.formatMoney(i)});break;case 3:case 4:case 5:t=B.env.b_charges_has_tax_exceptions&&B.env.b_charges_excluded_charges_detail?B.env.b_charges_excluded_charges_detail:B.jstmpl.translations("sr_hp_taxes_and_charges_exception");break;default:t=""}return _r_(t)}(e));_r_()}},_r_()}),B.define("hotel/roomstable/total-strikethrough",function(e,t,n){_i_("65cb:2ddbf31c");var a=e("jquery"),i=e("server-data"),s=i.b_room_blocks_json||{},o=Number(i.fe_exp_rsw_m_hp_rt_horizontal_scroll)||0;n.exports={getStrikethroughRaw:function(e,t){_i_("65cb:a65512c4");var n,i,r={},_="#"+e+" .js-strikethrough-price";return o&&(_=".js-rt-rate-horizontal "+_),(n=a(_)).length&&(i=parseFloat(n.data("strikethrough-value")))&&!isNaN(i)&&(r.strikethroughRaw=i*t),_r_(r)},getTotalStrikethroughText:function(e,t){_i_("65cb:163e994c");var n="",i=0;for(var r in e)if(e.hasOwnProperty(r)){var _=e[r];if(_.strikethroughRaw)i+=_.strikethroughRaw;else{var a=s[r].price_for_js||s[r].price,o=e[r].count;s[r].sharesAvailabilityOnRoomLevel?i+=a*o:s[r].priceMultipleRooms?i+=s[r].priceMultipleRooms[o]:i+=a*o}}return i&&.01<(i-t)/i&&(i=Math.round(i),n=B.utils.accounting.formatMoney(i)),_r_(n)}},_r_()}),B.define("hotel/roomstable/nightly-price",function(e,t,n){_i_("65cb:011f177f");var u=e("jquery"),i=e("server-data"),f=Number(i.fe_exp_rsw_m_hp_rt_horizontal_scroll)||0;n.exports={getNightlyPrice:function(e){_i_("65cb:ff8e6a52");var t,n,i,r,_,a={useNightlyPrice:!1,useNightlyPriceAsDominant:!1,nightlyPricePretty:"",beTranslations:{}},o=0,s=e.blocks;for(var c in s)if(s.hasOwnProperty(c)){var l="#"+c+" .js-price-display-component";if(f&&(l=".js-rt-rate-horizontal "+l),!(t=u(l)).length)break;if(!(i=t.data("price-config")))break;for(var d=0;d<i.length;d++)"use_nightly_prices"===i[d].key&&(a.useNightlyPrice=!!i[d].value),"use_nightly_as_dominant"===i[d].key&&(a.useNightlyPriceAsDominant=!!i[d].value);if(a.useNightlyPrice){if(!(r=t.data("be-translations")))break;if(a.beTranslations=r,!(n=t.find(".js-average-per-night-price")).length)break;if(!(_=parseFloat(n.data("price-per-night-raw")))||isNaN(_))break;o+=_*s[c].count}}return a.useNightlyPrice&&o&&(a.nightlyPricePretty=B.utils.accounting.formatMoney(Math.round(o))),_r_(a)}},_r_()}),B.define("hotel/roomstable/roomstable",function(e,t,n){_i_("65cb:b04aa5e2"),n.exports=function(){_i_("65cb:bcce0ca4"),this.selected={},this.totalPrice=0,this.totalRooms=0,this.totalOccupancy=0,this.totalChildren=0,_r_()},_r_()}),B.define("hotel/roomstable/room",function(a,e,t){_i_("65cb:19d5d597"),t.exports=r;var n=a("jquery"),o=a("event-bus"),s=a("events"),c=a("tabbed-nav"),l=a("hotel/store"),d=a("hotel/roomstable/actions"),i=a("server-data"),u=B.env.b_room_blocks_json||{},f=a("hotel/room-page/capla"),b=a("et"),h=Number(i.fe_exp_rsw_m_hp_rt_horizontal_scroll);function r(e,t){_i_("65cb:7ea9b872"),this.$el=e,this.blockId=e.find(".room").data("block-id")||e.data("block-id"),t&&t.roomElement?this.$room=n(t.roomElement):this.$room=n("#"+this.blockId),_r_()}r.prototype.isExpanded=function(){return _i_("65cb:79122a61"),_r_(!1)},r.prototype.toggle=function(){_i_("65cb:2942d240"),this.isExpanded()?this.fold():this.expand(),_r_()},r.prototype.expand=function(e){if(_i_("65cb:0ee90d76"),this.$room&&this.$room.length){if(b.stage("aaOYWPDSFLFGIXaQOJDfebBGRTdZSGEBYJO",4),0<h?b.stage("aaOYWPDSFLFGIXaQOJDfebBGRTdZSGEBYJO",6):b.stage("aaOYWPDSFLFGIXaQOJDfebBGRTdZSGEBYJO",5),f&&f.meetPreconditionsCaplaRpNoPrice())if(f.trackRpTriggeredNoPrice(),f.shouldUseCaplaRp())return(t=this.$room?this.$room.data("roomId"):0)||f.reportExperimentError("RoomPageMobile: RoomPageId is invalid. Got: "+t),f.openRoomPage(t),_r_();if(f&&(f.meetPreconditionsCaplaRpWithPrice()||f.meetPreconditionsCaplaRpWithPriceDebug())&&f.shouldUseCaplaRp()){var t=this.$room?this.$room.data("roomId"):0,n=this.blockId;return t||f.reportExperimentError("RoomPageMobile: RoomPageId is invalid. Got: "+t),n||f.reportExperimentError("RoomPageMobile: BlockId is invalid. Got: "+n),f.openRoomPage(t,this.blockId),_r_()}var i=this.$room.data("fullpageId"),r=a("hotel/room-page")(i);this.isSoldout()||e.data("blockId",this.blockId),e.data("tabExtras","blockId:selected_rate"),e.data("tabRetainScroll",!0),c.activateTab(i,e),!(this.blockId in u)||this.blockId.startsWith&&this.blockId.startsWith("tpi_room_block")||this.isSoldout()||(0<h?l.dispatch(d.openRoomDetailsModal(this.blockId,i)):l.dispatch(d.openRoomPage(this.blockId,i)));var _=this;r.load(this.blockId).then(function(){_i_("65cb:dfee82a0"),r.expandRoom(_),o.emit(B.eventNames.RT_ROOM_EXPAND),s.emit(B.eventNames.RT_ROOM_EXPAND,{$elemClicked:e,roomInstance:_,fullpage:r}),_r_()})}else B.env.b_dev_server&&console.error("[DEV] Error while expanding room page: `$room` element is missing!");_r_()},r.prototype.fold=function(){_i_("65cb:a2f1eb04");var e=this.$room.data("fullpageId");a("hotel/room-page")(e).foldRoom(),o.emit(o.EVENTS.RT_ROOM_FOLD,[this]),s.emit(o.EVENTS.RT_ROOM_FOLD,{roomInstance:this}),!(this.blockId in u)||this.blockId.startsWith&&this.blockId.startsWith("tpi_room_block")||this.isSoldout()||(0<h?l.dispatch(d.closeRoomDetailsModal(this.blockId)):l.dispatch(d.closeRoomPage(this.blockId))),_r_()},r.prototype.isSoldout=function(){return _i_("65cb:14f445ae"),_r_(this.$room.hasClass("js-soldout-room-rate"))},r.prototype.isSelected=function(){return _i_("65cb:8d4772b9"),_r_(this.$el.hasClass("selected_room"))},_r_()}),B.define("hotel/roomstable/filter-strategies",function(e,t,n){_i_("65cb:acc14009");var i={binaryFilter:function(e,t){_i_("65cb:67a6751e");var n=e&&e[0]&&e[0].dataset.fltrs&&JSON.parse(e[0].dataset.fltrs);if(t.multiple&&2===t.multiple)return _r_(Object.keys(n).some(function(e){return _i_("65cb:6b0e55aa"),_r_(t.value.includes(e))}));return _r_(n&&t.id in n)},bed_count:function(e,t){_i_("65cb:ca4254ef");var n=Number(t.value),i=e.data("fltrs")||{},r=t.key in i?i[t.key]:[];return _r_(-1<r.indexOf(n))},occupancy_count:function(e,t){var n,i,r;_i_("65cb:456a86a0");var _=e.data("fltrs")||{},a=t.key in _?_[t.key]:{};if("fit"===t.value)return _r_(e.data("fits-all-group"));return n=(r=JSON.parse(t.value)).maxAdults,i=r.maxChildren,a=Object.assign({max_children:0},a),_r_(Number(a.max_adults)===Number(n)&&Number(a.max_children)===Number(i))}};n.exports=i,_r_()}),B.define("hotel/roomstable/filter",function(e,t,n){"use strict";_i_("65cb:59922090");var i=e("server-data"),a=e("et"),r=Number(i.fe_exp_rsw_m_hp_rt_horizontal_scroll||0),o=Number(i.fe_exp_rsw_m_hp_rt_disable_greyed_card||0);if(0<r)return _r_();var c=e("jquery"),s=e("event-bus"),_=e("hotel/roomstable/filter-strategies"),l=e("hotel/roomstable/upsort-matched"),d=e("core/utils/onview");l.init();var u=B.debug("rt:filter"),f=c(".wholesalers_block_wrapper"),b=c(".js-rt-filters--tag"),h=c(".js-rt-filters--counter"),p=c("#bookForm .room").not(".rt_block_header"),m=c(".rt__no-match--banner"),M=c("#bookForm  .db-card__room-sold-out .room");0<M.length&&0<b.length&&(p=p.not(M));var v=c('.js-rt-filters--tag[data-filter-value="free-cancellation"]'),g=p;0<f.length&&0<b.length&&(p=p.not(f));var w="rt-filters__card-not-on-filter",y="rt-filters__card-match-filter",k="rt-filters--tag__selected",E="db-card__room-minimised",C="MCIAFKKHYYfPNQAFNSbeZVaPdLYXLO",N=!1;if(i&&i.b_hotel_chains)for(var T=0;T<i.b_hotel_chains.length;T+=1)0<i.b_hotel_chains[T].b_adf_id&&(N=!0);var j={};function S(e){_i_("65cb:801c0090");var t=c(e).data("roomId");p.filter("[data-room-id="+t+"]").length===p.filter("[data-room-id="+t+"]."+w).length?(u.log("Dimming whole group"),p.filter("[data-room-id="+t+"]").closest("li").find("> div:not(.room)").addClass(w)):(u.log("Not dimming whole group"),p.filter("[data-room-id="+t+"]").closest("li").find("> div:not(.room)").removeClass(w)),_r_()}function x(e,t){_i_("65cb:de84f846");var n=e.closest(".db-card__room");if(n.hasClass("db-card__room-sold-out"))return _r_();t?n.removeClass(E):n.addClass(E),_r_()}function I(e){_i_("65cb:3e74f8db");var t=c(e);t.data("filter-multiple")||t.closest(".js-rt-filters--group").find(".js-rt-filters--tag").not(e).removeClass(k);t.toggleClass(k),function(e){_i_("65cb:e13bb265");var t=c(".js-rt-filters--tag").not("."+k);if(t.attr("aria-pressed",!1).find(".js-rt-filters--a11y").remove(),e.hasClass(k)){var n=B.jstmpl.translations("acc_filter_room_type_selected"),i=c("<span />",{class:"bui-u-sr-only js-rt-filters--a11y",text:n});t.attr("aria-pressed",!0),e.append(i)}_r_()}(t),_r_()}function O(e){return _i_("65cb:af756ff0"),_r_(R(e,p))}function R(n,e){return _i_("65cb:2f80d30a"),_r_(e.filter(function(e,t){_i_("65cb:49b681cc");var r=c(t);return _r_(n.reduce(function(e,t){_i_("65cb:295746f8");var n=t.key;n in _||(n="binaryFilter");var i=_[n];return _r_(e&&i(r,t))},!0))}))}function A(){_i_("65cb:9cbeef56");var e=c("."+k);return _r_(D(e))}function D(e){_i_("65cb:b916c0b0");var o=[],s={};return e.each(function(e,t){_i_("65cb:74562091");var n=c(t).attr("data-filter-key"),i=c(t).attr("data-filter-id"),r=c(t).attr("data-filter-value"),_=Number(c(t).attr("data-filter-multiple"));if(_){if(s[n])s[n].value.push(i);else{var a={id:i,key:n,value:[i],multiple:_};s[n]=a,o.push(a)}return _r_()}o.push({id:i,key:n,value:r,multiple:_}),_r_()}),u.log("selected filters:",o),_r_(o)}function P(){_i_("65cb:9f491185");var e=arguments.length&&arguments[0],t=A();if(!b.length)return _r_();p.each(function(e,t){_i_("65cb:dcfa1372"),function(e){_i_("65cb:806a8bdf");var t=c(e);t.addClass(w),S(e),x(t),S(e),_r_()}(t),_r_()}),function(){if(_i_("65cb:a8dfbe5b"),"IntersectionObserver"in window){var e=new IntersectionObserver(function(e,t){_i_("65cb:767fd821"),e.forEach(function(e){_i_("65cb:5cdb9686"),e.isIntersecting&&(a.stage("aaMRYBENNQAWTHNMPZMIPPbdbRe",2),t.unobserve(e.target)),_r_()}),_r_()},{threshold:1});c("."+w).each(function(){_i_("65cb:6f9c9474"),e.observe(this),_r_()})}_r_()}();var n,i=O(t),r=i.length;i.each(function(e,t){_i_("65cb:baba43d9"),function(e){_i_("65cb:62d71d79");var t=c(e);t.removeClass(w),S(e),x(t,!0),S(e),_r_()}(t),_r_()}),c(".db-card__room").removeClass(y),t.length&&(n=i,_i_("65cb:bb76f638"),n.each(function(){_i_("65cb:8e06852e");var e=c(this).closest(".db-card__room");e.is(".db-card__room-sold-out")||e.is(".wholesalers_card_wrapper")||e.addClass(y),_r_()}),_r_()),0===r&&B.events.emit(B.eventNames.RT_FILTER_NO_MATCHES);var _=0===r?B.jstmpl.translations("m_rt_design_sprint"):B.jstmpl.translations("m_rl_hp_filter_status_bar_default",r,{num_results_shown:r});h.text(_),M.length&&!e&&M.toggleClass(w,!!t.length),J(),s.emit(B.eventNames.RT_FILTER_APPLY,{selectedFilters:t,displayedRoomsCount:r,$displayedRooms:i}),m.addClass("bui-u-hidden"),0===r&&m.removeClass("bui-u-hidden"),_i_("65cb:f5d14578"),c(".c-deals-container__inner-box").each(function(){_i_("65cb:a45e0714");var e=c(this).data("block-id");if(e){var t=window.BUI.getInstance(this);o&&(t.overlayInstance.open=j[e].bind(t.overlayInstance))}_r_()}),_r_(),_i_("65cb:1ca1b939"),c("."+w+" .c-deals-container__inner-box").each(function(){_i_("65cb:a6a2deb6");var e=c(this).data("block-id");if(e){var t=window.BUI.getInstance(this);t.overlayInstance.open=function(){return _i_("65cb:3593212e"),a.stage("aaMRYBENNQAWTHNMPZMIPPbdbRe",3),a.stage("aaMRYBENNQAWTHNMPZMIPPbdbRe",5),_r_(!o&&j[e].apply(t.overlayInstance))}}_r_()}),_r_(),_r_()}function L(e){_i_("65cb:533ccefe"),e.preventDefault(),e.stopPropagation();var t=c(this);if(t.hasClass("js-rt-filters--unavailable"))return _r_();if(N&&B.et.customGoal(C,1),"bundle_rate"===t.attr("data-filter-key")){B.et.customGoal("MCIAFKKHYYfPNQAJLHFDdUUWQIXe",1)}I(t);var n={checked:t.hasClass(k),name:t.attr("data-filter-key"),value:t.attr("data-filter-value"),multiple:Number(t.attr("data-filter-multiple"))||0,isSynthetic:void 0===e.originalEvent};s.emit("RT.filter_change",n),P(),_r_()}function J(){_i_("65cb:fc3faf91"),c(".db-card__room").removeClass("rt-filters__card-match-filter_fc"),v.hasClass("rt-filters--tag__selected")&&c(".db-card__room").addClass("rt-filters__card-match-filter_fc"),_r_()}function F(){_i_("65cb:c90aaa84"),c("."+k).each(function(){_i_("65cb:4b172cf6"),c(this).removeClass("js-rt-filters--unavailable").trigger("click"),_r_()}),P(),_r_()}c(function(){_i_("65cb:056c9b07"),_i_("65cb:a3cf7d9c"),c(".c-deals-container__inner-box").each(function(){_i_("65cb:4fcf3379");var e=c(this).data("block-id");if(e){var t=window.BUI.getInstance(this);j[e]=t.overlayInstance.open}_r_()}),_r_(),b.on("click",L),B.events.on(B.eventNames.TPI_MDOT_BLOCK_LOADED,function(){_i_("65cb:5cae3c99"),p=g,s.emit("RT.filters_reset"),P(),_r_()}),B.events.on(B.eventNames.RT_ROOM_BLOCKS_MERGED,function(){_i_("65cb:5cae3c991"),p=g,s.emit("RT.filters_reset"),P(),_r_()}),b.each(function(){_i_("65cb:511d8130");var e=c(this);Object.prototype.hasOwnProperty.call(e.data(),"filterAutoselect")&&e.trigger("click"),_r_()}),J(),function(n){_i_("65cb:bda57634");var e=function(){var e,t;_i_("65cb:cef8b867"),n.each(function(){_i_("65cb:2d8cdfb2"),t=c(this),e=!1,t.hasClass(k)&&(e=!0),t.find(".js-fltr-bui__input").prop("checked",e),_r_()}),_r_()};n.on("click",function(){_i_("65cb:019420c8"),e(),_r_()}),e(),_r_()}(b),c(".rt__no-match--banner .bui-button").on("click",function(){_i_("65cb:c06f9172"),F(),_r_()}),c(".js-rooms-table").on("click",".js-reset-filters",function(){_i_("65cb:a6217c15"),F();var e=c(".rt-controls").offset().top;0<e&&c("html, body").animate({scrollTop:e}),_r_()}),d.run(".js-rt-filters",function(){_i_("65cb:91e5e814"),function(){if(_i_("65cb:068aece0"),!i.b_rooms_table_filters||!i.b_rooms_table_filters.filters_metadata)return _r_();var t={},e=i.b_rooms_table_filters.filters_metadata;if(e.breakfast_included&&e.breakfast_included.selected_on_sr&&(t.breakfast_included=!0),e.half_board_dinner&&e.half_board_dinner.selected_on_sr&&(t.half_board_dinner=!0),e.half_board_lunch&&e.half_board_lunch.selected_on_sr&&(t.half_board_lunch=!0),e.all_inclusive&&e.all_inclusive.selected_on_sr&&(t.all_inclusive=!0),e.full_board&&e.full_board.selected_on_sr&&(t.full_board=!0),e.bed_count&&e.bed_count.breakdown.forEach(function(e){_i_("65cb:c273fd49"),e.selected_on_sr&&(t.bed_count=!0),_r_()}),e["roomfacility-108"]&&e["roomfacility-108"].selected_on_sr&&(t.roomfacility=!0),0<Object.keys(t).length){var n="aaOCZWPFLFMLaUWEeRJVeTCHT";switch(a.stage(n,1),!0){case t.breakfast_included:a.stage(n,2);case t.all_inclusive:a.stage(n,3);case t.half_board_lunch:a.stage(n,4);case t.half_board_dinner:a.stage(n,5);case t.full_board:a.stage(n,6);case t.bed_count:a.stage(n,7);case t["roomfacility-108"]:a.stage(n,8)}}_r_()}(),_r_()}),_r_()}),n.exports={FILTER_SELECTED_CLASS:k,applyFilters:P,toggleFilter:I,filterRooms:R,filterAllRooms:O,getFilters:D,getSelectedFilters:A,resetFilters:F},_r_()}),B.define("hotel/roomstable/c360",function(e,t,n){_i_("65cb:954ef140");var i=e("server-data"),r=e("c360Tracker"),_=e("hotel/store"),a=booking.debug("rsw_rt_c360"),o={namespace:"room_selection",actions:{rpTrigger:{name:"travel_product_item_offer_details_clicked",version:"3.0.0",contentSignature:["travel_product","travel_product_item_details","travel_product_item_offer","position_item","search_config","position_offer"],customContent:{}},blockOnView:{name:"travel_product_item_offer_viewed",version:"7.1.0",contentSignature:["travel_product","travel_product_item_details","travel_product_item_offer","position_item","search_config","position_offer"],customContent:{}},blockSelected:{name:"travel_product_item_offer_select_clicked",version:"5.1.0",contentSignature:["travel_product","travel_product_item_details","travel_product_item_offer","position_item","search_config","position_offer"],customContent:{}},rtFormSubmit:{name:"travel_product_item_offer_reserve_clicked",version:"6.1.0",contentSignature:["travel_product","selection","search_config","location","cheapest_available_price_eur"],customContent:{}}}},s={};o.getBlockData=function(e){return _i_("65cb:58fe8ae9"),_r_(i.b_room_blocks_json[e])},o.getSearchConfig=function(){_i_("65cb:328a3a7c");var e=i.b_search_config||{},t={business_travel:!1,entire_homes:!1};return"b_checkin_date"in i&&(t.checkin=i.b_checkin_date),"b_checkout_date"in i&&(t.checkout=i.b_checkout_date),"b_adults_total"in e&&(t.nr_adults=e.b_adults_total),"b_children_total"in e&&(t.nr_children=e.b_children_total),"b_nr_rooms_needed"in e&&(t.nr_rooms=e.b_nr_rooms_needed),"traveller_segment"in e&&"business"===e.traveller_segment&&(t.business_travel=!0),Boolean(Number(i.fe_raw_entire_place))&&(t.entire_homes=!0),_r_(t)},o.getContent=function(e,t){_i_("65cb:9c09391c");var n={},i=o.getBlockData(e.blockID);return t.forEach(function(e){switch(_i_("65cb:e71cae2c"),e){case"travel_product":n[e]=o.getTravelProductData();break;case"travel_product_item_details":n[e]=o.getProductItemDetailsData(i);break;case"travel_product_item_offer":n[e]=o.getProductItemOfferData(i);break;case"nr_items":n[e]=o.getBlocksCount();break;case"position":n[e]=o.getPositionItemPositionData(i);break;case"position_item":n[e]=o.getPositionItemData(i);break;case"position_offer":i&&(n[e]=o.getPositionOfferData(i));break;case"selection":n[e]=o.getRtSelectionData();break;case"location":n[e]="rooms_table";break;case"search_config":n[e]=o.getSearchConfig();break;case"cheapest_available_price_eur":var t=o.getCheapestAvailablePrice();t&&(n[e]=t)}_r_()}),_r_(n)},o.getCheapestAvailablePrice=function(){return _i_("65cb:558d1942"),_r_(Number(i.b_cheapest_price_that_fits_search_eur)||0)},o.getBlocksCount=function(){return _i_("65cb:e49fa6b9"),_r_(i.b_blocks_count||0)},o.getRoomsCount=function(){_i_("65cb:0c9a82f9");var e=[];try{e=Array.from(new Set(Object.values(i.b_room_blocks_json).map(function(e){return _i_("65cb:9f6b836a"),_r_(e.roomId)})))}catch(e){}return _r_(e.length||0)},o.getPositionItemPositionData=function(e){return _i_("65cb:786f4436"),_r_(e.position)},o.getTravelProductData=function(){return _i_("65cb:0cc57e8e"),_r_({travel_product_id:Number(B.env.b_hotel_id),travel_product_type:Number(B.env.b_accommodationtype_id||0)})},o.getProductItemDetailsData=function(e){return _i_("65cb:a6ba4b83"),_r_({travel_product_item_id:Number(e.roomId),travel_product_item_type:Number(e.roomTypeId)})},o.getProductItemOfferData=function(e){if(_i_("65cb:f7ef3ae7"),!e)return _r_({id:"none"});return _r_({id:e.blockId,cancellation:"cancellationType"in e?String(e.cancellationType):"",price_eur:"priceEuroPerNight"in e?Number(e.priceEuroPerNight):-1,occupancy:Number(e.maxPersons)||-1,mealplan:"mealplanVector"in e?Number(e.mealplanVector):-1,package_id:"packageId"in e?String(e.packageId):"",payment:e.noPrepayment?"no_prepayment":"prepayment_needed"})},o.getPositionItemData=function(e){_i_("65cb:ee05d804");var t=e.roomId,n=e.position,i=o.getRoomsCount(),r=s[t];return 0<=r?n=r:s[t]=n,_r_({position:Number(n),nr_items:i})},o.getPositionOfferData=function(e){_i_("65cb:4f4205f2");var t=$("#"+e.blockId).data("position");return _r_({position:Number(t)-1,nr_offers:o.getBlocksCount()})},o.getRtSelectionData=function(){_i_("65cb:166fe728");var t,n=[],i=_.getState().roomsTable.selection;return i.totalRooms&&Object.keys(i.blocks).forEach(function(e){_i_("65cb:86384416"),(t=o.getBlockData(e))&&n.push({item:o.getProductItemDetailsData(t),offer:o.getProductItemOfferData(t),quantity:i.blocks[e].count,position_offer:o.getPositionOfferData(t)}),_r_()}),_r_(n)},o.track=function(e,t){if(_i_("65cb:16f8d151"),!(("blockID"in t||"bypass"in t)&&"b_room_blocks_json"in i))return _r_();var n={action_name:o.namespace+"."+e.name,action_version:e.version};n.content=Object.assign(o.getContent(t,e.contentSignature),e.customContent),a.log(n),r.track(n),_r_()},n.exports={actions:o.actions,track:o.track},_r_()}),B.when({events:"ready"}).run(function(e){_i_("65cb:d5ec1c0e");var r=e("jquery"),_=e("hotel/roomstable/c360"),t=e("utils/throttled"),a=e("utils/inviewport"),n=e("events"),i=e("c360Tracker"),o="resize.rt-c360 scroll.rt-c360",s=r(".js-rooms-table .room.m_hp_rt_room_card__container").map(function(){return _i_("65cb:0021e960"),_r_({$el:r(this),hasTracked:!1})}).toArray(),c=function(e){return _i_("65cb:320463c9"),_r_(!e.hasTracked)},l=t(function(){_i_("65cb:c7b36fb4");for(var e=0,t=s.length;e<t;e++)if(a(s[e].$el)){var n=s[e].$el.data("block-id");if(n&&!s[e].hasTracked){var i=_.actions.blockOnView;_.track(i,{blockID:n}),s[e].hasTracked=!0}-1===s.findIndex(c)&&r(window).off(o,l)}_r_()},200);l(),s.length&&r(window).on(o,l),n.on(n.EVENTS.RT_ROOM_SELECT,function(e){_i_("65cb:d1a24443");var t=e.$room.data("block-id"),n=_.actions.blockSelected;_.track(n,{blockID:t}),_r_()}),n.on(n.EVENTS.RT_ROOM_SUBMIT,function(e){_i_("65cb:4bd7dc22");var t=_.actions.rtFormSubmit;if(_.track(t,{bypass:1}),B.env.fe_is_an_rtb_property){i.track({action_name:"request_to_book.rooms_selection_rtb_button_clicked",action_version:"2.0.0",content:{}})}_r_()}),_r_()}),B.define("hotel/roomstable/horizontal-scroll/filter",function(e,t,n){"use strict";_i_("65cb:4be3fe1e");var l=e("server-data"),d=e("et");if(0===Number(l.fe_exp_rsw_m_hp_rt_horizontal_scroll||0))return _r_();var u=e("core/utils/onview"),f="aaMRYBENNQASVGPLZOEHbOAdQBC",b=Number(l.fe_exp_rsw_m_hp_rt_hide_greyed_card)||0,h=e("jquery"),p=e("event-bus"),a=e("hotel/roomstable/filter-strategies"),m=e("hotel/store"),M=e("hotel/roomstable/actions"),o=e("hotel/roomsfilter/actions");e("hotel/roomstable/horizontal-scroll/upsort-matched").init();var v=e("hotel/roomstable/horizontal-scroll/upsort-search-occupancy"),i=B.debug("rt:filter"),r=h(".js-rt-filters--tag"),g=h('[data-component="hotel/room-page"]'),w=h(".js-rt__no-match--banner"),y=h(".js-rt-remove-when-filtering"),k=h(".db-card__room"),E=h(".wholesalers_block_wrapper"),C=document.querySelector(".js-rt-filters--counter"),N=function(e,t){_i_("65cb:7ca51a90");var a=t.b_fits_search_occupancy||[];return _r_(e.map(function(e){_i_("65cb:37a2eda0");var t=e.b_blocks,_=!1;return t.map(function(e){_i_("65cb:d0f6aa9f");for(var t=e.b_block_id,n=-1,i=0;i<a.length;i++){var r=a[i].b_id;if(r===t){n=i;break}}return 0<=n&&(e.isFit=!0,_=!0),_r_(e)}),e.isFit=_,_r_(e)}))}(l.b_rooms_available_and_soldout,l.b_blocks_by_search_occupancy),_=h('.js-rt-filters--tag[data-filter-value="free-cancellation"]'),s=!1,T={DISABLED_ROOM:"rt-filters__card-not-on-filter",ROOM_MATCHING:"rt-filters__card-match-filter",FILTER_SELECTED:"rt-filters--tag__selected",MINIMISE_ROOM:"db-card__room-minimised",DISABLED_RATE:b?"u-hidden":"rt-rate-horizontal__rate-not-on-filter",MINIMISED_ROOM_CARD:"db-card__room-minimised",HIDDEN:"u-hidden"},c={SHOW_RATES_BLOCK:".js-show-rates-card-rsw_m_hp_rt_hide_greyed_card",HIDE_RATES_BLOCK:".js-hide-rates-card-rsw_m_hp_rt_hide_greyed_card",NO_FIT_ROOM:"js_room_no_fit-rsw_m_hp_rt_hide_greyed_card",BREAKPOINT_CARD:".js-rt-horizontal-room__filters-breakpoint-card",HIDDEN_RATE:"js-hidden-rate-rsw_m_hp_rt_hide_greyed_card",ROOM_RATES_CONTAINER:".js-rt-rate-horizontal"};function j(e){_i_("65cb:e900bdd8");var t=h(e),n=t.find(".js-rt-rate-horizontal-rate"),i=t.data("room-id"),r=h(".js-m_rt_fullpage__container[data-room-id="+i+"]").find(".js-rt-rate-horizontal-rate");n.length&&n.each(function(e,t){_i_("65cb:10d223e9"),h(t).addClass(T.DISABLED_RATE),_r_()}),r.length&&r.each(function(e,t){_i_("65cb:10d223e91"),h(t).addClass(T.DISABLED_RATE),_r_()}),_r_()}function S(e){_i_("65cb:00e70409"),b?e.parentElement.classList.add(T.HIDDEN,c.NO_FIT_ROOM):(e.classList.add(T.DISABLED_ROOM),O(e)),_r_()}function x(r,e){_i_("65cb:4548a4ef");var t=e.b_room_id,n=e.b_blocks,i='.js-m_rt_fullpage__container[data-room-id="'+t+'"]',_=document.querySelector(i);if(b?r.parentElement.classList.remove(T.HIDDEN,c.NO_FIT_ROOM):r.classList.remove(T.DISABLED_ROOM),O(r,!0),n.forEach(function(e){_i_("65cb:f566660d");var t='.js-rt-rate-horizontal-rate[data-block-id="'+e.b_block_id+'"]',n=r.querySelectorAll(t),i=_.querySelectorAll(t);Array.from(n).concat(Array.from(i)).forEach(function(e){var t;_i_("65cb:84888361"),t=e,_i_("65cb:2249a57c"),t.classList.remove(T.DISABLED_RATE),_r_(),_r_()}),_r_()}),b){var a=r.querySelector(c.SHOW_RATES_BLOCK),o=r.querySelector(c.HIDE_RATES_BLOCK);a.removeEventListener("click",U),a.addEventListener("click",U),o.removeEventListener("click",z),o.addEventListener("click",z)}_r_()}function I(e){_i_("65cb:ef99e17b"),e.classList.remove(T.DISABLED_ROOM),O(e,!0),_r_()}function O(e,t){_i_("65cb:0f84705c"),e.parentElement.classList.toggle(T.MINIMISE_ROOM,!t),_r_()}function R(e,t){_i_("65cb:3c36c7f7");try{var n=e.closest("li").querySelectorAll(":scope > div:not(.room, .bui-badge)");0<n.length&&n.forEach(function(e){_i_("65cb:9a00afd5"),e.classList.toggle(T.DISABLED_ROOM,t),_r_()})}catch(e){}_r_()}function A(e,t){_i_("65cb:92896eae");var n=e.dataset.roomId;if(!n)return _r_();var i="#rate_pref_container_"+n+'[data-is-room-page="1"]',r=document.querySelector(i);if(!r)return _r_();var _=r.closest(".js-m_rt_fullpage__container"),a=r.closest(".js-rt-room-details-container");_&&_.classList.toggle(T.MINIMISED_ROOM_CARD,t),a&&a.classList.toggle(T.DISABLED_ROOM,t),_r_()}function D(e){_i_("65cb:0c5b3b6a");var t=h(e);t.data("filter-multiple")||t.closest(".js-rt-filters--group").find(".js-rt-filters--tag").not(e).removeClass(T.FILTER_SELECTED);t.toggleClass(T.FILTER_SELECTED),function(e){_i_("65cb:8e276714");var t=h(".js-rt-filters--tag").not("."+T.FILTER_SELECTED);if(t.attr("aria-pressed",!1).find(".js-rt-filters--a11y").remove(),e.hasClass(T.FILTER_SELECTED)){var n=B.jstmpl.translations("acc_filter_room_type_selected"),i=h("<span />",{class:"bui-u-sr-only js-rt-filters--a11y",text:n});t.attr("aria-pressed",!0),e.append(i)}_r_()}(t),_r_()}function P(e){return _i_("65cb:6dce3159"),_r_(L(e,N))}function L(i,e){return _i_("65cb:a99f3640"),_r_(e.reduce(function(e,t){_i_("65cb:278f0ece");var n=t.b_blocks.filter(function(_){return _i_("65cb:a696ffb6"),_r_(i.reduce(function(e,t){_i_("65cb:0edf931c");var n=t.key;n in a||(n="binaryFilter");var i=a[n],r=h(".js-room-table-rate-data-holder[data-block-id="+_.b_block_id+"]");return _r_(e&&i(r,t))},!0))});return n.length&&e.push({b_room_id:t.b_room_id,b_blocks:n}),_r_(e)},[]))}function J(n,e){if(_i_("65cb:609cb073"),!s)return _r_(h());return e||(e=E),_r_(e.filter(function(e,t){_i_("65cb:49b681cc1");var r=h(t);return _r_(n.reduce(function(e,t){_i_("65cb:295746f81");var n=t.key;n in a||(n="binaryFilter");var i=a[n];return _r_(e&&i(r,t))},!0))}))}function F(){_i_("65cb:df4b807d");var e=h("."+T.FILTER_SELECTED);return _r_($(e))}function $(e){_i_("65cb:e5fd4a0e");var o=[],s={};return e.each(function(e,t){_i_("65cb:a93d86ed");var n=h(t).attr("data-filter-key"),i=h(t).attr("data-filter-id"),r=h(t).attr("data-filter-value"),_=Number(h(t).attr("data-filter-multiple"));if(_){if(s[n])s[n].value.push(i);else{var a={id:i,key:n,value:[i],multiple:_};s[n]=a,o.push(a)}return _r_()}o.push({id:i,key:n,value:r,multiple:_}),_r_()}),i.log("selected filters:",o),_r_(o)}function G(e){_i_("65cb:9e50e044");var t=F();y.hide();var n=P(t),i=n.reduce(function(e,t){return _i_("65cb:e40055e9"),_r_(e+t.b_blocks.length)},0),r=Object.keys(B.env.b_room_blocks_json).length,_=J(t),a=0===(i+=_.length||0)?B.jstmpl.translations("m_rt_design_sprint"):B.jstmpl.translations("m_rl_hp_filter_status_bar_default",i,{num_results_shown:i});if(0===i?a=B.jstmpl.translations("m_rt_design_sprint"):(a=0<t.length?b?B.jstmpl.translations("rsx_rt_greyed_out_rates_summary",r,{num_match:i,num_results:r}):B.jstmpl.translations("m_roomlist_filters_results_summary",r,{num_matching_results:i,num_total_results:r}):B.jstmpl.translations("m_rl_hp_filter_status_bar_default",i,{num_results_shown:i}),function(e){_i_("65cb:0781f89e");var t=document.querySelector(".js-rt-filters-title-counter");if(!t)return _r_();if(0<e)return _r_(t.textContent="("+e+")");_r_(t.textContent="")}(t.length)),C.textContent=a,!t.length)return function(e,t){_i_("65cb:714e43d4"),N.forEach(function(e){_i_("65cb:314f8f1a");var t=e.b_room_id,n='.room.room_info_cta[data-room-id="'+t+'"]',i=document.querySelector(n);i&&(x(i,e),R(i,!1),A(i,!1)),_r_()});var n=N.filter(function(e){return _i_("65cb:2951f59f"),_r_(e.isFit)}),i=N.filter(function(e){return _i_("65cb:5d62d4ac"),_r_(!e.isFit)}),r=Number(l.b_search_config.b_adults_total),_=Number(l.b_search_config.b_children_total)||0;v.upsort(n,i,r+_),E.each(function(e,t){_i_("65cb:a1ed4e951"),I(t),_r_()});var a=E.closest(".db-card__room").toArray();p.emit(B.eventNames.RT_FILTER_APPLY,{selectedFilters:e,displayedRoomsCount:t,displayPartnerOffers:a,$displayedRooms:g}),_r_()}(t,i),m.dispatch(M.setRoomFilterCriteria(t,n)),_r_();g.each(function(e,t){_i_("65cb:0684e7db"),S(t),R(t,!0),A(t,!0),b||j(t),_r_()}),E.each(function(e,t){_i_("65cb:dcfa13721"),S(t),_r_()}),_.each(function(e,t){_i_("65cb:a1ed4e95"),I(t),_r_()});var o,s=_.closest(".db-card__room").toArray(),c=n.map(function(e){_i_("65cb:84c4a5de");var t='.room.room_info_cta[data-room-id="'+e.b_room_id+'"]',n=document.querySelector(t);return n&&(b&&j(n),x(n,e),R(n,!1),A(n,!1)),_r_(h(n))});k.removeClass(T.ROOM_MATCHING),t.length&&c.forEach(function(e){var t;_i_("65cb:395a9003"),t=e,_i_("65cb:c839ab80"),t.is(".wholesalers_card_wrapper")||t.addClass(T.ROOM_MATCHING),_r_(),_r_()}),0===i&&B.events.emit(B.eventNames.RT_FILTER_NO_MATCHES),H(),p.emit(B.eventNames.RT_FILTER_APPLY,{selectedFilters:t,displayedRoomsCount:i,displayPartnerOffers:s,displayedRooms:n,$displayedRooms:c}),m.dispatch(M.setRoomFilterCriteria(t,n)),w.addClass("bui-u-hidden"),0===i&&w.removeClass("bui-u-hidden"),r!=i&&(o=e,_i_("65cb:12aad3d1"),u.run(".js-rt-filters",function(){if(_i_("65cb:956fe4fa"),d.stage(f,2),o&&d.stage(f,3),l.b_search_config){var e=l.b_search_config.traveller_segment;switch(e){case"group":d.stage(f,4);break;case"family":d.stage(f,5);break;case"couple":d.stage(f,6)}}_r_()}),_r_()),_r_()}function V(e){_i_("65cb:2f73542e"),e.preventDefault(),e.stopPropagation();var t=h(this);if(t.hasClass("js-rt-filters--unavailable"))return _r_();if("bundle_rate"===t.attr("data-filter-key")){d.customGoal("MCIAFKKHYYfPNQAJLHFDdUUWQIXe",1)}D(t);var n=$(t);n&&0<n.length&&m.dispatch(o.toggleFilter(n[0]));var i={checked:t.hasClass(T.FILTER_SELECTED),name:t.attr("data-filter-key"),value:t.attr("data-filter-value"),multiple:Number(t.attr("data-filter-multiple"))||0,isSynthetic:void 0===e.originalEvent};p.emit("RT.filter_change",i);var r=e.originalEvent&&e.originalEvent.isTrusted,_=r&&i.checked;G(_),_?d.customGoal(f,1):r&&d.customGoal(f,2),_r_()}function H(){_i_("65cb:49283e9b"),k.removeClass("rt-filters__card-match-filter_fc"),_.hasClass("rt-filters--tag__selected")&&k.addClass("rt-filters__card-match-filter_fc"),_r_()}function q(){_i_("65cb:11663189"),h("."+T.FILTER_SELECTED).each(function(){_i_("65cb:4b172cf61"),h(this).removeClass("js-rt-filters--unavailable").trigger("click"),_r_()}),G(),_r_()}function U(e){_i_("65cb:fceb143c");var t=e.target.closest(c.ROOM_RATES_CONTAINER);if(!t)return _r_();var n=t.querySelector(c.SHOW_RATES_BLOCK);n&&n.classList.add(T.HIDDEN);var i=t.querySelector(c.BREAKPOINT_CARD);i&&i.classList.remove(T.HIDDEN);var r=t.querySelectorAll("."+c.HIDDEN_RATE);r.forEach(function(e){_i_("65cb:620040d9"),e.classList.remove(T.DISABLED_RATE),_r_()});var _=t.querySelector(c.HIDE_RATES_BLOCK);_&&(_.classList.remove(T.HIDDEN),_.style=""),r.length&&r[0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}),_r_()}function z(e){_i_("65cb:1997c422");var t=e.target.closest(c.ROOM_RATES_CONTAINER);if(!t)return _r_();var n=t.querySelector(".js-rt-rate-horizontal-rate");n&&t.scrollTo({left:n.offsetLeft,behavior:"smooth"});var i=t.querySelector(c.HIDE_RATES_BLOCK);i&&i.classList.add(T.HIDDEN);var r=t.querySelector(c.BREAKPOINT_CARD);r&&r.classList.add(T.HIDDEN),t.querySelectorAll("."+c.HIDDEN_RATE).forEach(function(e){_i_("65cb:9c4cded0"),e.classList.add(T.DISABLED_RATE),_r_()});var _=t.querySelector(c.SHOW_RATES_BLOCK);_&&_.classList.remove(T.HIDDEN),_r_()}_i_("65cb:a0cbde52"),r.on("click",V),B.events.on(B.eventNames.TPI_MDOT_BLOCK_LOADED,function(){_i_("65cb:cb14c1b5"),s=!0,p.emit("RT.filters_reset"),G(),_r_()}),B.events.on(B.eventNames.RT_ROOM_BLOCKS_MERGED,function(){_i_("65cb:cb14c1b51"),s=!0,p.emit("RT.filters_reset"),G(),_r_()}),r.each(function(){_i_("65cb:511d81301");var e=h(this);Object.prototype.hasOwnProperty.call(e.data(),"filterAutoselect")&&e.trigger("click"),_r_()}),H(),function(n){_i_("65cb:35c11cd5");var e=function(){var e,t;_i_("65cb:0dfe5096"),n.each(function(){_i_("65cb:5b35a5c5"),t=h(this),e=!1,t.hasClass(T.FILTER_SELECTED)&&(e=!0),t.find(".js-fltr-bui__input").prop("checked",e),_r_()}),_r_()};n.on("click",function(){_i_("65cb:019420c81"),e(),_r_()}),e(),_r_()}(r),function(){_i_("65cb:20547677");var i=h(".js-rt-filters"),e=h(".js-rt-filters--collapsible-bttn"),r=h(".js-rt-filters--collapsible-section");e.on("click",function(e,t){if(_i_("65cb:677680fa"),i.hasClass("collapsed")){i.removeClass("collapsed");var n=r.get(0).scrollHeight;r.css("max-height",n+"px")}else i.addClass("collapsed"),r.css("max-height","0");_r_()}),_r_()}(),h(".rt__no-match--banner .bui-button").on("click",function(){_i_("65cb:c06f91721"),q(),_r_()}),h(".js-rooms-table").on("click",".js-reset-filters",function(){_i_("65cb:a6217c151"),q();var e=h(".rt-controls").offset().top;0<e&&h("html, body").animate({scrollTop:e}),_r_()}),G(),y.length&&B&&B.squeak&&new MutationObserver(function(){_i_("65cb:e76ad3c4"),"none"!=y.css("display")&&(B.squeak("aaOCZWPFLFZGUFRUMdOUZedRdFIBcZXe"),0===y.nextAll(".db-card__room").length&&B.squeak("aaOCZWPFLFZGUFRUMdOUZedRdFIUYVNQFKe")),_r_()}).observe(y[0],{attributes:!0}),_r_(),n.exports={FILTER_SELECTED_CLASS:T.FILTER_SELECTED,applyFilters:G,toggleFilter:D,filterRooms:L,filterAllRooms:P,filterPartnerRooms:J,getNumOfMatchingRates:function(i,e,t){_i_("65cb:6b794ba7");var n=e.reduce(function(e,t){_i_("65cb:c70c11b6");var n=t.b_blocks.filter(function(_){return _i_("65cb:a696ffb61"),_r_(i.reduce(function(e,t){_i_("65cb:0edf931c1");var n=t.key;n in a||(n="binaryFilter");var i=a[n],r=h(".js-room-table-rate-data-holder[data-block-id="+_.b_block_id+"]");return _r_(e&&i(r,t))},!0))});return n.length&&(e+=n.length),_r_(e)},0),r=J(i,t);return _r_(n+r.length)},getFilters:$,getSelectedFilters:F,resetFilters:q},_r_()}),B.define("hotel/roomstable/horizontal-scroll/upsort-matched",function(e,t,n){"use strict";_i_("65cb:e39a87e8");var i=e("event-bus"),r=e("server-data"),b=Number(r.fe_exp_rsw_m_hp_rt_hide_greyed_card)||0,h={ROOMS_CONTAINER:".js-rooms-table",RATES_CONTAINER:".js-rt-rate-horizontal",ROOM_DETAILS_MODAL:".js-m_rt_fullpage__container",ROOM_WRAPPER:".db-card__room",ROOM_CARD:".js-room-card",RATE_CARD:".js-rt-rate-horizontal-rate",NO_FIT_CARD:".js-rt-horizontal-room__no-fit-card",BREAKPOINT_CARD:".js-rt-horizontal-room__filters-breakpoint-card",SHOW_NO_FIT_RATES_CARD:".js-show-rates-card-rsw_m_hp_rt_hide_greyed_card",HIDE_NO_FIT_RATES_CARD:".js-hide-rates-card-rsw_m_hp_rt_hide_greyed_card",GENIUS_BANNER:".ge-benefits-block",PARTNER_OFFER:".wholesalers_card_wrapper",BORDER_CONTAINER:".js-rt-rate-horizontal__border_container",NO_FIT_ROOM:".js_room_no_fit-rsw_m_hp_rt_hide_greyed_card"},p="u-hidden",m=document.querySelector(".rt_warning_for_fit.js-rt-remove-when-filtering"),M=document.querySelector(".js-show-results-button_rsw_m_hp_rt_hide_greyed_card"),v=document.querySelector(".js-hide-results-button_rsw_m_hp_rt_hide_greyed_card");b&&M&&v&&(M.addEventListener("click",function(e){_i_("65cb:f6bad969"),e.target.classList.add(p),$(m).show(),document.querySelectorAll(h.NO_FIT_ROOM).forEach(function(e){_i_("65cb:e3c04bac"),e.classList.remove(p),_r_()}),v.classList.remove(p),_r_()}),v.addEventListener("click",function(e){_i_("65cb:4dd3e236"),e.target.classList.add(p),$(m).hide(),document.querySelectorAll(h.NO_FIT_ROOM).forEach(function(e){_i_("65cb:4a54d2d5"),e.classList.add(p),_r_()}),M.classList.remove(p),window.scrollTo({top:M.offsetTop-window.innerHeight+100,behavior:"smooth"}),_r_()})),n.exports={init:function(){if(_i_("65cb:cf50f83e"),"hotel"!==r.b_action||!r.b_has_valid_dates_not_in_past||!r.b_hotel_blocks)return _r_();i.on(B.eventNames.RT_FILTER_APPLY,function(e,t){_i_("65cb:72240168"),t.displayedRooms&&function(a,e){_i_("65cb:9f787117");var t=document.querySelector(h.ROOMS_CONTAINER),n=t.querySelectorAll(h.ROOM_WRAPPER),i=t.querySelectorAll(h.PARTNER_OFFER),r=$(i).not(e).toArray(),o=[],s=[];n.forEach(function(e){if(_i_("65cb:5711af7d"),e.classList.contains("wholesalers_card_wrapper"))return _r_();for(var t=e.querySelector(h.ROOM_CARD),n=Number(t.dataset.roomId),i=0;i<a.length;i++){var r=a[i],_=r.b_room_id;if(_===n)return o.push(e),_r_()}s.push(e),_r_()}),o=e.concat(o),s=r.concat(s),function(r,e,t,n){_i_("65cb:e063989f");var _=document.createDocumentFragment(),i=e.querySelector(h.GENIUS_BANNER),a=0,o=!1,s=0,c=[],l=[];if(i){var d=e.querySelectorAll(h.ROOM_WRAPPER+", "+h.GENIUS_BANNER);a=Array.from(d).indexOf(i)}function u(e){if(_i_("65cb:31ab753d"),e.classList.contains("wholesalers_card_wrapper"))return _r_(_.appendChild(e));var t=e.querySelector(h.ROOM_CARD),n=Number(t.dataset.position),i=Number(t.dataset.roomId);this[n]=e,function(e,t){_i_("65cb:a7e76ecf");var n=e.querySelectorAll(h.RATE_CARD),i=t&&t.b_blocks||[],r=[],_=[];n.forEach(function(e){_i_("65cb:6bd4e9c0");for(var t=e.dataset.blockId,n=0;n<i.length;n++)if(i[n].b_block_id===t)return r.push(e),_r_();_.push(e),_r_()}),e&&function(e,t,n){_i_("65cb:04c6e5ab");var i=e.querySelector(h.RATES_CONTAINER);if(!i)return _r_();var r=i.querySelector(h.NO_FIT_CARD);r&&r.classList.add(p);var _=document.createDocumentFragment();if(t.sort(function(e,t){return _i_("65cb:0cf38699"),_r_(Number($(e).data("rate-position"))-Number($(t).data("rate-position")))}),t.forEach(o),b){t.forEach(function(e){_i_("65cb:f270fec7"),e.classList.remove("js-hidden-rate-rsw_m_hp_rt_hide_greyed_card"),_r_()});var a=i.querySelector(h.BREAKPOINT_CARD);a&&(a.classList.add(p),_.appendChild(a)),n.forEach(function(e){_i_("65cb:2b9c3f40"),e.classList.add("js-hidden-rate-rsw_m_hp_rt_hide_greyed_card"),_r_()})}function o(e){_i_("65cb:5479b6ba"),_.appendChild(e),e.classList.remove("search-occupancy-non-matching-rate-card"),_r_()}if(n.forEach(o),b){var s=i.querySelector(h.SHOW_NO_FIT_RATES_CARD),c=i.querySelector(h.HIDE_NO_FIT_RATES_CARD);n.length&&t.length&&(s&&(_.appendChild(s),s.classList.remove(p)),c&&(_.appendChild(c),c.classList.add(p)))}i.appendChild(_),_r_()}(e,r,_),_r_()}(t,r.find(function(e){return _i_("65cb:d46f5b88"),_r_(i===e.b_room_id)})),_r_()}function f(e){if(_i_("65cb:fa1d1169"),!e)return _r_();s++,_.appendChild(e),i&&s===a&&!o&&(_.appendChild(i),o=!0),_r_()}t.forEach(u.bind(c)),c.forEach(f),b&&(M&&v&&(v.classList.add(p),n.length?M.classList.remove(p):M.classList.add(p)),m&&_.appendChild(m)),n.forEach(u.bind(l)),l.forEach(f),e.prepend(_),_r_()}(a,t,o,s),_r_()}(t.displayedRooms,t.displayPartnerOffers),_r_()}),_r_()}},_r_()}),B.define("hotel/roomstable/horizontal-scroll/upsort-search-occupancy",function(e,t,n){"use strict";_i_("65cb:a5e5e01a");var i=e("server-data"),M=Number(i.fe_exp_rsw_m_hp_rt_hide_greyed_card)||0,v={ROOMS_CONTAINER:".js-rooms-table",ROOM_WRAPPER:".db-card__room",ROOM_DETAILS_MODAL:".js-m_rt_fullpage__container",PARTNER_OFFER:".wholesalers_card_wrapper",RATES_CONTAINER:".js-rt-rate-horizontal",NO_FIT_BANNER:".rt_warning_for_fit.js-rt-remove-when-filtering",SHOW_NO_FIT_ROOMS_BUTTON:".js-show-results-button_rsw_m_hp_rt_hide_greyed_card",HIDE_NO_FIT_ROOMS_BUTTON:".js-hide-results-button_rsw_m_hp_rt_hide_greyed_card",NO_FIT_CARD:".js-rt-horizontal-room__no-fit-card",SHOW_NO_FIT_RATES_CARD:".js-show-rates-card-rsw_m_hp_rt_hide_greyed_card",HIDE_NO_FIT_RATES_CARD:".js-hide-rates-card-rsw_m_hp_rt_hide_greyed_card",BREAKPOINT_CARD:".js-rt-horizontal-room__filters-breakpoint-card",NO_FIT_BADGE:".js-rt-no-fit-badge",GENIUS_BANNER:".ge-benefits-block",BORDER_CONTAINER:".js-rt-rate-horizontal__border_container"},g="u-hidden";n.exports={upsort:function(e,t,n){_i_("65cb:9369c5a7");var i=document.querySelector(v.ROOMS_CONTAINER),r=document.createDocumentFragment(),_=i.querySelector(v.NO_FIT_BANNER),a=i.querySelector(v.GENIUS_BANNER),o=i.querySelectorAll(v.PARTNER_OFFER),s=0,c=!1,l=0,d=[],u=[];if(a){var f=i.querySelectorAll(v.ROOM_WRAPPER+", "+v.GENIUS_BANNER);s=Array.from(f).indexOf(a)}if(o&&o.forEach(function(e){_i_("65cb:285556ef"),r.appendChild(e),_r_()}),e.forEach(p.bind(d)),d.forEach(m),t.length&&_&&($(_).show(),r.appendChild(_)),!t.length&&_&&$(_).hide(),t.forEach(p.bind(u)),u.forEach(m),M){var b=document.querySelector(v.SHOW_NO_FIT_ROOMS_BUTTON),h=document.querySelector(v.HIDE_NO_FIT_ROOMS_BUTTON);b.classList.add(g),h.classList.add(g)}function p(e){_i_("65cb:a2e27a0e");var t=function(t){_i_("65cb:22bd5529");try{var e=t.b_room_id,n='.room_info_cta[data-room-id="'+e+'"]',i=document.querySelector(n);if(i){var r=i.parentElement,_=Number(i.dataset.position);return _r_([r,_])}return _r_([])}catch(e){return B&&B.reportError&&B.reportError(e,"can't find matching roomId",{room:JSON.stringify(t)}),_r_([])}_r_()}(e);if(0===t.length)return _r_();var n=t[0];(function(i,e,t){_i_("65cb:0e40d2e2");var n=e.b_blocks,r=[],_=[];n.forEach(function(e){_i_("65cb:29bd4039");var t='.js-rt-rate-horizontal-rate[data-block-id="'+e.b_block_id+'"]',n=i.querySelector(t);e.isFit?r.push(n):_.push(n),_r_()}),(M||e.isFit)&&function(e,t,n){_i_("65cb:2ac720b5");var i=e.querySelector(v.RATES_CONTAINER),r=document.createDocumentFragment();t.forEach(function(e){_i_("65cb:b4d0ee39"),r.appendChild(e),_r_()});var _=function(e){_i_("65cb:9b7ffe10");var t=e.querySelector(v.NO_FIT_CARD);if(t)return _r_(t);_r_()}(i);if(_&&(t.length&&n.length?(r.appendChild(_),_.classList.remove(g)):_.classList.add(g)),M){var a=i.querySelector(v.SHOW_NO_FIT_RATES_CARD),o=i.querySelector(v.HIDE_NO_FIT_RATES_CARD),s=i.querySelector(v.BREAKPOINT_CARD);a.classList.add(g),o.classList.add(g),s.classList.add(g)}n.forEach(function(e){_i_("65cb:b4d0ee391"),r.appendChild(e),_r_()}),i.appendChild(r),_r_()}(i,r,_),_r_()})(this[t[1]]=n,e),_r_()}function m(e){if(_i_("65cb:fa1d11691"),!e)return _r_();l++,r.appendChild(e),a&&l===s&&!c&&(r.appendChild(a),c=!0),_r_()}i.prepend(r),_r_()}},_r_()}),B.define("hotel/roomstable",function(e,t,n){_i_("65cb:1d438abf");var i=e("jquery"),r=e("hotel/roomstable/roomstable"),_=e("hotel/roomstable/room");n.exports=r,e("hotel/roomstable/filter"),e("hotel/roomstable/horizontal-scroll/filter"),r.prototype.room=function(e,t){var n;if(_i_("65cb:35404053"),0<Number(B.env.fe_exp_rsw_m_hp_rt_horizontal_scroll))return"string"==typeof e&&"#"!=e[0]&&(e="#"+i.trim(e)),0==(n=i(e)).length&&B.env.b_dev_server&&console.error("[DEV] Error while consolidate RoomsTable Room jquery element",e),_r_(new _(n,t));return"string"==typeof e&&"#"!=e[0]&&(e="#"+i.trim(e)),(n=i(e)).hasClass("db-card__room")||(n=n.closest(".db-card__room")),0==n.length&&B.env.b_dev_server&&console.error("[DEV] Error while consolidate RoomsTable Room jquery element",e),_r_(new _(n,t))},r.RT=new r,r.Room=_,_r_()}),B.require(["require"],function(e){_i_("65cb:bee3662f");var b,h,p,m,M,v,g,w,y=e("jquery"),k=e("hotel/roomstable").RT,E=e("hotel/store"),C=e("et"),N=e("server-data"),T=e("hotel/room_preferences/horizontal_rate_preference/utils"),j=Number(N.fe_exp_rsw_m_hp_rt_horizontal_scroll),S=!1;if(N&&N.b_hotel_chains)for(var t=0;t<N.b_hotel_chains.length;t+=1)0<N.b_hotel_chains[t].b_adf_id&&(S=!0);if(B.env.fe_m_critical_path){if(!document.dispatchEvent)return _r_(!1);document.dispatchEvent(new CustomEvent("cp:rt-select-room-ready"))}y(function(){_i_("65cb:18b6e0c8"),y("#new_rooms_table_2").find(".js-rt_select_btn").attr("type","button").attr("form",""),y(".m_rt_no_js_submit_form").remove(),y(".js-rt_select_btn").on("click",function(){_i_("65cb:5e99b967");var e=y(this).closest(".room");B.events.emit(B.eventNames.RT_ROOM_SELECT_RT,{$room:e}),_r_()}),_r_()}),E.subscribe(function(){if(_i_("65cb:bd398417"),b=B.env.b_room_blocks_json||{},h=Object.keys(b),p=E.getState().roomsTable,m=p.selection,p.roomPage.isVisible){var t=E.getState().bundles;S&&C.customGoal("MCIAFKKHYYfPNQAFNSbeZVaPdLYXLO",3),m.totalRooms?(t&&y(".js-m_rt_fullpage__room").hide(),0<j?(y(".js-m_rt_fullpage__room").addClass("is-selected is-last-selected"),y(".js-m_rt_fullpage__reserve").addClass("is-active")):Object.keys(m.blocks).forEach(function(e){_i_("65cb:da90a99c"),w=b[e].roomPageId,(g=y('.js-m_rt_fullpage__container[data-room-page-id="'+w+'"]')).find('.js-m_rt_fullpage__room[data-block-id="'+e+'"]').addClass("is-selected is-last-selected"),g.find(".js-m_rt_fullpage__reserve").addClass("is-active"),t&&g.find('.js-m_rt_fullpage__room[data-block-id="'+e+'"]').show(),_r_()})):(y(".js-m_rt_fullpage__room").removeClass("is-selected is-last-selected"),y(".js-m_rt_fullpage__reserve").removeClass("is-active"))}if(!Boolean(Number(N.fe_has_rt_on_sub_page)))for(var e=0;e<h.length;e++){if(M=h[e],v=Boolean(m.blocks.hasOwnProperty(M)&&m.blocks[M]),0<j){var n=M.split("_")[0];v=m.blockIdOfRoomGroup.hasOwnProperty(n)&&null!==m.blockIdOfRoomGroup[n]}var i=m.blocks,r=0,_=0,a=E.getState().bundles,o=!1;if(a&&(_=3===a.bundleRatesExperimentVariant||4===a.bundleRatesExperimentVariant),_&&i&&M&&a.groupsArray&&a.blocksToBaseBlockHash[M]){for(var s=a.blocksToBaseBlockHash[M],c=a.baseBlocksToBlockHash[s]||[],l=0;l<c.length;l+=1){var d=c[l];i[d]&&(r+=i[d].count)}v=Boolean(r),(o=y('.room[data-base-mealplan-id="'+s+'"]').attr("id"))||(o=M),o&&k.room(o).$el.toggleClass("selected_room",v)}if(!_||_&&!a.groupsArray||_&&!a.blocksToBaseBlockHash[M]&&!a.baseBlocksToBlockHash[M]&&!a.hiddenBlocks[M])if(0<j){var u=T.getPrimaryBlockId(M),f=k.room(u).$el.closest(".db-card__room");v?f.hasClass("selected_room")||f.addClass("selected_room"):f.removeClass("selected_room")}else k.room(M).$el.toggleClass("selected_room",v)}j&&(y(".room_preferences_container + .bui-spacer").removeClass("bui-u-hidden"),Object.keys(m.blocks).forEach(function(e){_i_("65cb:d98cf874");var t=b[e].roomId,n=b[e].preferences;0===Object.keys(n).length&&(y(".m_hp_rt_room_card__container[data-room-id="+t+"] .room_preferences_container + .bui-spacer").addClass("bui-u-hidden"),y("js-m_rt_fullpage__container[data-room-id="+t+"] .room_preferences_container + .bui-spacer").addClass("bui-u-hidden"));_r_()})),_r_()}),_r_()}),B.when({events:"ready"}).run(function(e){_i_("65cb:ec7c9f01");var t=e("event-bus"),n=e("events"),l=e("jquery"),d=e("hotel/roomstable").RT,i=e("persistent-view"),r=e("server-data"),u=e("hotel/store"),_=e("et");if(r.b_feature_running_KILLSWITCH_RSWEB_VITALS)var a=B.require("hotel/room-table/c360");var f=r.room_symmetry_category_json||{},o={mealplan_policy:"hp_rt_used_mealplan_filter",occupancy_count:"hp_rt_used_occupancy_filter",cancellation_policy:"hp_rt_used_reservation_policy_filter"},b=e("hotel/room_preferences/horizontal_rate_preference/utils"),h=Number(r.fe_exp_rsw_m_hp_rt_horizontal_scroll);t.on(B.eventNames.RT_FILTER_CHANGE,function(e,t){_i_("65cb:19e40392");var n=o[t.name];n&&_.goal(n);_.goal("hp_rt_used_filter"),203===r.b_accommodationtype_id&&_.goal("hp_hostel_rt_used_filter");_r_()}),n.on(B.eventNames.RT_ROOM_SUBMIT,function(){_i_("65cb:39c9746d"),function(){_i_("65cb:44325121"),i&&0===i.getCurrent().indexOf("room_")&&l("#bookForm").prepend('<input type="hidden" name="room_chosen_in_hp_rt_lightbox" value="1">');_r_()}(),function(){_i_("65cb:b8f6e753");var a,o=[],s=u.getState().roomsTable.selection.blocks,c={},e=l("#bookForm");Object.keys(s).forEach(function(e){_i_("65cb:09a9807d"),0<h?function(e){_i_("65cb:6da696be");var t=b.getPrimaryBlockId(e),n=(a=d.room(t)).$room.data("room-index"),i=l('.js-room-table-rate-data-holder[id="'+e+'"]').data("position"),r=l('.js-room-table-rate-data-holder[id="'+e+'"]').data("roomId"),_=l(".rate_preference__option[data-block-id="+e+"], .rt-rate-horizontal__rate[data-block-id="+e+"]").data("rate-position");o.push(i),c[e]={rt_selected_block_position_in_rt:i,rt_selected_block_position_in_room_group:_,count:s[e].count,rt_selected_room_index:n,rt_room_symmetry_category:f[r]||""},_r_()}(e):function(e){_i_("65cb:fc79252d");var t=(a=d.room(e)).$room.data("position"),n=a.$room.data("roomId");o.push(t),c[e]={rt_selected_block_position_in_rt:t,rt_selected_block_position_in_room_group:"",count:s[e].count,rt_selected_room_index:"",rt_room_symmetry_category:f[n]||""},_r_()}(e),_r_()}),e.find("input[name=rt_selected_blocks_info]").val(JSON.stringify(c)),e.find("input[name=rt_pos_selected]").val(o.join("_")),_r_()}(),function(){_i_("65cb:e9c1b82b");var _=0,a=[],o=u.getState().roomsTable.selection.blocks,e=l("#bookForm");Object.keys(o).forEach(function(e){_i_("65cb:991b8d67");var t=l("#"+e).data("hotelRoundedPrice"),n=parseInt(t,10);if(!isNaN(n)){var i=o[e].count;_+=n*i}var r=l('.js-room-table-rate-data-holder[id="'+e+'"]').data("position");void 0!==r&&a.push(r),_r_()}),0<_&&e.find("input[name=rt_selected_total_price]").val(_);_r_()}(),_r_()}),_i_("65cb:58d55368"),l(document).on("click",".js-m_policies_tooltip",function(){_i_("65cb:c17a0b41"),_.goal("hp_rt_conditions_viewed"),_r_()}),_r_(),r.b_feature_running_KILLSWITCH_RSWEB_VITALS&&(window.addEventListener("pagehide",function e(){_i_("65cb:89ed5e59");a.track(a.eventsMap.ROOM_TABLE_PAGEHIDE);window.removeEventListener("pagehide",e);_r_()}),window.addEventListener("visibilitychange",function e(){_i_("65cb:f29d1b20");a.track(a.eventsMap.ROOM_TABLE_VISIBILITYCHANGE);window.removeEventListener("visibilitychange",e);_r_()})),_r_()}),B.define("hotel/store",function(e){_i_("65cb:345bc1b5");var t=e("redux"),n=e("redux-thunk"),i=e("server-data"),r={roomsTable:e("hotel/roomstable/reducers"),preferences:e("hotel/preferences/reducers")};return i.fe_feature_chains_bundle_mealplans&&(r=Object.assign(r,{bundles:e("hotel/roomstable/bundles/reducers")})),0<Number(i.fe_exp_rsw_m_hp_rt_horizontal_scroll)&&(r=Object.assign(r,{roomsFilter:e("hotel/roomsfilter/reducers")})),_r_(t.createStore(t.combineReducers(r),window.__REDUX_DEVTOOLS_EXTENSION__?t.compose(t.applyMiddleware(n),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()):t.compose(t.applyMiddleware(n))))}),B.define("c360Tracker",function(){_i_("65cb:c1de0003");var t="GfCDATBbbObSARVVRGHSOC",n={},i=[],r=null,_=!B.env.b_dev_server&&!B.env.b_dqs_server?"https://c360.booking.com/v1/c360/multitrack/":"https://c360.dqs.booking.com/v1/c360/multitrack",a=!1;function o(){_i_("65cb:1566c6fd");var e=B.et.track(t);0===e?l(i,!0).done(function(e){_i_("65cb:81d7ec9a"),s(e),_r_()}):1===e?function(e,t){_i_("65cb:7b63bf10");var n={events:e.map(c(t))};return _r_($.ajax({url:_,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(n)}))}(i,!0).done(function(e){_i_("65cb:5ca8d342"),s(e?e.responses:e),_r_()}):l(i,!0),i=[],r=null,_r_()}function s(e){_i_("65cb:fc47d7e6"),e&&Array.isArray(e)&&e.forEach(function(e){_i_("65cb:186f9562"),e&&void 0!==e.status&&B.et.customGoal(t,1===e.status?1:2),_r_()}),_r_()}function c(e){_i_("65cb:e5df9e80");var t="0.1.0";return e&&(t="0.1.1"),_r_(function(e){return _i_("65cb:510e2bbb"),_r_(Object.assign({},e,{context:n,tracker:{tracker_name:"C360JSTracker",tracker_type:"Client",tracker_version:t}}))})}function l(e,t){_i_("65cb:7844d502");var n={events:e.map(c(t))};return _r_($.ajax({url:"/c360/v1/track",type:"POST",dataType:"json",data:JSON.stringify(n)}))}_i_("65cb:02f02798"),n={page:{page_referrer:document.referrer,page_url:window.location.href,page_title:document.title},local:{currency:B.env.b_selected_currency}},_r_();var d={type:"object",properties:{action_name:{type:"string",description:"action name (ex. element viewed)"},action_version:{type:"string",description:"action version"},content:{type:"object",description:"content defined by the registered producer scheme"}}};function u(e,t){_i_("65cb:e5ccc3d2"),this.success=e,this.message=t,_r_()}return _r_({track:function(e){if(_i_("65cb:146418c9"),null==e)return _r_("event object is null or empty");var t=new u(!0);if(a&&(t=function(e){_i_("65cb:c55e1d6c");var t=function e(t,n){if(_i_("65cb:88aae161"),null!=n.properties)for(var i=Object.getOwnPropertyNames(n.properties),r=0;r<i.length;r++){var _=i[r];if(null==t[_])return _r_(new u(!1,"property "+_+" is not defined"));if("object"==n.properties[_].type){var a=e(t[_],n.properties[_]);if(!1===a.success)return _r_(a)}}return _r_(new u(!0))}(e,d);return _r_(t)}(e)),!t.success)return _r_(t.message);!function(e){if(_i_("65cb:498fb7b5"),0==i.length&&(r=setTimeout(o,1e3)),i.push(e),10<=i.length)return null!==r&&clearTimeout(r),o(),_r_();_r_()}(e),_r_()}})}),function(){_i_("65cb:1d1479b7");var n=B.require("jquery");if(!n("#hp_change_dates").length)return _r_();n("#htDates form").on("submit.sbox",function(){_i_("65cb:88a270ad");var e=n(this).searchbox();if(!e.$form.find("[name=group_adults]").length)return _r_();e.applyValues({req_adults:e.getVal("group_adults"),req_children:e.getVal("group_children")}),e.$form.find("input[name=req_age]").remove();var t=e.getVal("age",!0).map(function(e){return _i_("65cb:a32ca31a"),_r_('<input type="hidden" name="req_age" value='+e+">")}).join("");e.$form.append(t),_r_()}),_r_()}(),function(){_i_("65cb:fc5f88f5");var t=$("#htDates"),n=t.find("#formPopHolder"),e=t.find("#formPopClose"),i=$(".js-hp-availability");i.on("click",function(e){_i_("65cb:a53bc195"),B.eventEmitter.emit(B.eventNames.HP_DATES_POPUP_SHOW,[n]),_r_()}),t.add(e).on("click",function(e){if(_i_("65cb:cfcc3d14"),e.isPropagationStopped())return _r_();B.eventEmitter.emit(B.eventNames.HP_DATES_POPUP_HIDE,[n]),t.hide().removeClass("visi"),_r_()}),n.on("click",function(e){_i_("65cb:ca07d874"),e.stopPropagation(),_r_()}),_r_()}(),B.require(["require"],function(e){_i_("65cb:77ae01c9");var t=B.env.request.query,n=e("persistent-view");n.getCurrent()!==n.defaultView||"4"!==t.tab&&"reviews"!==t.tab||n.load("htReviews",{tab:null},!0),_r_()}),B.require(["jquery","hotel/roomstable"],function(n,e){if(_i_("65cb:eabbd7bc"),!B.env.group_search)return _r_();n(function(){_i_("65cb:e4f2caf9");var e=n("#bookForm"),t=B.require("hotel/store");B.events.on(B.eventNames.RT_ROOM_SUBMIT,function(){if(_i_("65cb:f8891068"),t.getState().roomsTable.selection.isGroupRecommendation)return e.append('<input type="hidden" name="is_group_recommendation" value="1">'),_r_();_r_()}),_r_()}),_r_()}),B.require(["require"],function(e){_i_("65cb:abaaa03d");var t=e("jquery"),n=e("persistent-view"),i=e("querystring"),r=location.href,_=document.referrer||"",a=i.parseUrl(_).base,o=0===r.indexOf("https://")||_&&c(_)===c(r)&&a!==B.env.request.base,s=1===history.length;function c(e){_i_("65cb:e7704225");var t=String(e).match(/(https?:\/\/)?([a-z]+\.[a-z0-9\.\-]+[a-z])\/.*/);return _r_(t&&t[2])}t(".js-hp-quick-back2sr").on("click",function(e){if(_i_("65cb:1a76fdf6"),t(this).hasClass("site-header--back")&&n.getCurrent()!==n.defaultView)return e.preventDefault(),n.back(-1),_r_();if(o&&!s)return e.preventDefault(),n.back(),_r_();_r_()}),_r_()}),function(e){"use strict";_i_("65cb:d04e27be");var t=e.require("et"),n=e.require("events"),i=e.require("server-data");n.on(n.EVENTS.RT_ROOM_UNSELECT,function(){_i_("65cb:06c3e81c"),t.goal("hp_rt_room_deselect"),203===i.b_accommodationtype_id&&t.goal("hp_rt_hostel_room_deselect"),_r_()}),_r_()}(window.booking),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:d765b874");var t=e("jquery"),n=e("et"),i=e("event-bus"),r=e("lightbox"),_=e("events"),a=e("tabbed-nav"),o=t(".ugcx_reviewlist_missing_info").find('[data-name="Other"]'),s=null,c=t(".ugcx_reviewlist_missing_info_other_comment"),l=t(window),d=function(){_i_("65cb:eae56fec"),t(".ugcx_reviewlist_missing_info__wrapper").offset().top<t(window).scrollTop()+t(window).height()&&n.goal("rl_mis_info_seen"),_r_()};if(!t(".ugcx_reviewlist_missing_info__wrapper").length)return _r_();function u(){_i_("65cb:de858e0a"),t(".ugcx_reviewlist_missing_info__entry_point").css("display","none"),l.unbind("scroll",d),_r_()}0<o.length&&(s=o[0]),i.on("REVIEWS:fetched",function(){_i_("65cb:49973617"),l.bind("scroll",d),0<t(".ugcx_reviewlist_missing_info__entry_point").length&&(t(".ugcx_reviewlist_missing_info__entry_point").css("display","block"),t(".ugcx_reviewlist_missing_info__entry_point").on("click",function(){_i_("65cb:84a4f44f"),t(".feedback-modal-wrapper").css({"overflow-y":"scroll"}),_r_()}));_r_()}),_.on("tabbed_nav:opened",function(){_i_("65cb:bff3ddae"),"htReviews"==a.current()&&1<=t("ul.comments-list li").length&&l.bind("scroll",d),_r_()}),_.on("tabbed_nav:reset_done",function(){_i_("65cb:8b0def4d"),l.unbind("scroll",d),_r_()}),t(s).on("change",function(){_i_("65cb:93b41b64"),s&&s.checked?c.removeClass("g-hidden"):c.addClass("g-hidden");r.rePosition({preserveAbsolute:!0}),t(".feedback-modal-wrapper").css({"overflow-y":"scroll"}),_r_()}),t(".ugcx_reviewlist_missing_info").on("click",function(){_i_("65cb:c27d8188"),t(".feedback-modal-wrapper").css({"overflow-y":"scroll"}),_r_()}),u(),i.on("REVIEWS:startfetch",u),_r_()}),B.define("searchresults/ajax",function(e,t,n){_i_("65cb:90d1bf7f");var _=e("jquery"),a=e("et"),i=e("persistent-view"),r=e("event-bus"),o=e("lavish-loader"),s=e("utils/makeurl"),c=e("utils/deepequal"),l=B.env.fe_arp_m_sr_filters&&B.env.fe_arp_m_sr_properties_list,d={blocks:["results","pagination","controls","filters"],id:null,url:null,cache:!0,cacheDelay:1e3,loader:!0,loaderCopy:null,updateHistory:!0,redirectOnfail:!0,additionalRequestData:{}},u=r.EVENTS.SR_AJAX_LOADING,f=r.EVENTS.SR_AJAX_LOADED,b=r.EVENTS.SR_AJAX_FAILED,h=null,p=null,m={data:{},get:function(e){_i_("65cb:dcdaacba");var t=m.data[e.url]&&c(m.data[e.url].config.blocks,e.blocks)&&new Date-m.data[e.url].timestamp<3e5;return _r_(!!t&&m.data[e.url].body)},set:function(e,t){_i_("65cb:649f761a"),m.data[e.url]={timestamp:new Date,body:t,config:e},_r_()}};function M(e){if(_i_("65cb:ab09e634"),l)return _r_();e=_.extend({},d,e,{url:function(e){_i_("65cb:3ca0dc1b");var t=s.parse(e);return delete t.query.ajax,delete t.query.ajax_blocks,_r_(t.toString())}(e.url)});return _r_(function(e){_i_("65cb:424262ac");var t=_.Deferred();e.loader&&o.show({message:e.loaderCopy});return r.emit(u,e),_r_(t.resolve(e))}(e).then(C).then(y).then(k).then(w).fail(E))}function v(){return _i_("65cb:4a82c9c9"),_r_(h&&1<=h.readyState&&h.readyState<=3)}function g(){_i_("65cb:0f5993a9");var e=s.parse(window.location.pathname+window.location.search);return delete e.query.btn,_r_(s(e.base,e.query).replace("//","/"))}function w(e){_i_("65cb:b27e25df"),e.loader&&o.hide(),r.emit(f,e),_r_()}function y(t){_i_("65cb:f7aa5d12");var n=_.Deferred();return v()&&h.abort(),h=_.ajax({url:t.url,data:_.extend({},{ajax:1,ajax_blocks:t.blocks.join(",")},t.additionalRequestData),dataType:"html",sr_ajax_config:t,sr_ajax_deferred:n}).done(function(e){_i_("65cb:985c1dfe"),n.resolve(t,e),_r_()}).fail(function(e){_i_("65cb:01929c4a"),n.reject(t,e),_r_()}),_r_(n.promise())}function k(e,t,n){_i_("65cb:70320ae2");var i=_.Deferred(),r=_(document.createElement("div")).html(t);return window.setTimeout(function(){_i_("65cb:3f4621f9"),r.find("template[data-block]").each(function(){_i_("65cb:b2be9af8");var e=this.getAttribute("data-block"),t=_('[data-block="'+e+'"]'),n=_(this).html();0<=e.indexOf(":append")?t.append(n):t.html(n),t.loadComponents(),window.BUI.initComponents(t[0]),a.initAttributesTracking(t),_r_()}),i.resolve(e),_r_()},n?e.cacheDelay:0),_r_(i.promise())}function E(e,t){if(_i_("65cb:0844e838"),t&&0===t.status&&"abort"===t.statusText)return _r_();e.redirectOnfail&&(window.location.href=e.url),r.emit(b,e),_r_()}function C(e){_i_("65cb:30d34c9c");var t=_.Deferred();return N()?(e.updateHistory&&(p=e.url,window.history.pushState({ajax_config:e},null,e.url),i.setBaseUrl(e.url)),t.resolve(e)):t.reject(e),_r_(t.promise())}function N(){return _i_("65cb:3bbd6f36"),_r_(!!(window.history&&window.history.pushState&&window.history.replaceState))}_.ajaxPrefilter(function(t){_i_("65cb:68fd707d"),t.sr_ajax_config&&t.sr_ajax_deferred&&(t.beforeSend=function(){_i_("65cb:9f2bdf3c");var e=m.get(t.sr_ajax_config);if(e)return t.sr_ajax_deferred.resolve(t.sr_ajax_config,e,!0),_r_(!1);return _r_(!0)},t.success=function(e){_i_("65cb:ba8f441d"),m.set(t.sr_ajax_config,e),_r_()}),_r_()}),N()&&!l&&(!function(){_i_("65cb:9471eb4b");var e=_("[data-block]"),t="";e.each(function(){_i_("65cb:d70b50a5"),t+='<template data-block="'+this.getAttribute("data-block")+'">',t+=_(this).html(),t+="</template>",_r_()}),m.set(_.extend({},d,{url:g()}),t),_r_()}(),function(){if(_i_("65cb:94f9a95b"),p=g(),window.history.state&&window.history.state.pview)return _r_();var e=_.extend({},d,{url:p});window.history.replaceState({ajax_config:e},null,p),_r_()}(),_i_("65cb:a4dadfef"),window.onpopstate=function(e){_i_("65cb:d67eab54"),e.state&&e.state.ajax_config&&e.state.ajax_config.url!==p&&M(_.extend({},e.state.ajax_config,{updateHistory:!1})),_r_()},_r_()),n.exports={load:M,cancel:function(){_i_("65cb:b2ab9ea4"),h&&h.abort(),_r_()},addToCache:function(t){if(_i_("65cb:ab113272"),v()||m.get(t))return _r_();h=_.ajax({url:t.url,data:{ajax:1,ajax_blocks:t.blocks.join(",")},dataType:"html"}).done(function(e){_i_("65cb:34df329a"),m.set(t,e),_r_()}),_r_()}},_r_()}),B.define("lavish-loader",function(n,e,t){_i_("65cb:cba889c3");var i=n("jquery")(".js-lavish-loader"),r=n("server-data"),_=i.find(".js-lavish-loader-text"),a="lavish-loader--visible";t.exports={show:function(e){if(_i_("65cb:df380455"),e&&e.message&&_.text(e.message),r.fe_include_bh_messaging){var t=n("component/bh/exposure-counter");t&&t.prototype.add("search_usp",1)}i.addClass(a),_r_()},hide:function(){_i_("65cb:db82c32f"),i.removeClass(a),_r_()}},_r_()}),B.define("search/dates/date-prices-service",function(e,t,n){_i_("65cb:c1706310");var i,o=e("fragment"),r=e("promise"),s=e("search-config"),_={propertyId:null,searchConfig:null,startDate:null,endDate:null,los:1},c={},a={},l={};function d(e,t){_i_("65cb:539b432a");var n,i,r=function(e){_i_("65cb:d58b2018");var t=String(e).match(/(\d{4})-(\d{2})-(\d{2})/);return _r_(t?new Date(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10)):null)}(e);if(r)for(var _=1;_<t;_++)(n=new Date(r)).setDate(n.getDate()+_),i=u(n),a[i]||(a[i]={}),a[i][e]=t;_r_()}function u(e){return _i_("65cb:315515a1"),_r_(e?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):null)}n.exports={init:function(e){_i_("65cb:80c70299"),i=e,_r_()},fetchPrices:function(e){_i_("65cb:06a57077");var a=Object.assign({},_,e);return _r_(new r(function(r,_){if(_i_("65cb:c3b7fc25"),!a.startDate)return _r_(_("You need to specify a `startDate` date"));if(a.searchConfig||(a.searchConfig=s.getRawValue()),a.propertyId||(a.propertyId=i),void 0!==c[u(a.startDate)]&&void 0!==c[u(a.endDate)])return _r_(r(c));var e={result_format:"price_histogram",hotel_id:a.propertyId,search_config:a.searchConfig,checkin:u(a.startDate),n_days:function(e,t){_i_("65cb:2044c4c8");var n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),i=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return _r_(Math.floor((i-n)/864e5))}(a.startDate,a.endDate)+1,respect_min_los_restriction:1,los:a.los};o.call("hotel.availability_calendar",e).then(function(e){if(_i_("65cb:5dad76c5"),!e||e&&void 0===e.days)return _r_(_());var t,n;for(var i in e.days)t=e.days[i],n=e.days[i].checkin,c[n]=t.b_avg_price_pretty||null,1<t.b_min_length_of_stay&&d(n,t.b_min_length_of_stay);r(a.checkinAlt?l:c),_r_()}).catch(_),_r_()}))},pricesPerDay:c,getMinLosForInterval:function(e,t){_i_("65cb:b800dd0e");var n=u(e),i="string"==typeof t?t:u(t);return _r_(n&&i&&a[i]&&a[i][n])}},_r_()}),B.define("searchbox/calendar-with-prices-core",function(e){_i_("65cb:59451630");var b,h=e("jstmpl"),p=e("search/dates/date-prices-service"),i=e("server-data"),m=h.translations("sr_calendar_checkout_only_tooltip_info"),M=new Date;function t(e,t){return _i_("65cb:e72f659e"),this.service=p,this.$calendarEl=e,this.buiCalendar=t,_r_(this)}function v(e){return _i_("65cb:315515a11"),_r_(e?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):null)}return M.setHours(0,0,0,0),t.prototype.initCalendarWithPrices=function(e){_i_("65cb:e29ff034");var t=Object.assign({},this.buiCalendar.props);this.buiCalendar.unmount(),t.getDayMarkup=function(e){_i_("65cb:7d141794");var t=e.getDate(),n=!1,i=v(e),r=new Date(e);r.setDate(e.getDate()-1);var _,a=v(r),o=p.pricesPerDay,s=o&&o[i]||"&mdash;",c=o&&void 0!==o[i]&&null!==o[i],l=o&&void 0!==o[a]&&null!==o[a],d=c?"":" calendar-day--unavailable",u=p.getMinLosForInterval(b,i);u&&(_=h.translations("sr_calendar_min_night_stay_tooltip_info",u,{num_nights:u}));_||!l||c||(_=m);var f=_?'data-bui-component="Tooltip" data-tooltip-position="bottom" data-tooltip-text="'+h.fn.FILTERS.html('<span id="calendar-with-price-tooltip">'+_+"</span>")+'"':"";e<M&&(n=!0);return _r_('<span class="'+d+'" '+f+'><span aria-hidden="true" class="calendar-day__number">'+t+'</span><span aria-hidden="true" class="calendar-day__price">'+(n?"&nbsp;":s)+"</span></span>")}.bind(this),this.buiCalendar=window.BUI.createInstance("Calendar",this.$calendarEl[0],t),"function"==typeof e?e(this.buiCalendar):this.buiCalendar.mount(),this.hideLoading(),_r_()},t.prototype.bindMonthChangeHandlers=function(){_i_("65cb:fc176f8d"),this.$calendarEl.on("click",".bui-calendar__control--prev, .bui-calendar__control--next",function(){_i_("65cb:c5238e49"),setTimeout(function(){_i_("65cb:e78e9e27"),this.getPricesAndRender(),_r_()}.bind(this),1),_r_()}.bind(this)),_r_()},t.prototype.getPricesAndRender=function(e,t){_i_("65cb:28f0c69e"),e||(e=this._getCalendarBaseDate()),t||(t=this._getCalendarEndDate());var n={startDate:e,endDate:t,los:1};i.b_min_bookable_los&&(n.los=i.b_min_bookable_los),this.showLoading(),p.fetchPrices(n).then(function(){_i_("65cb:35dc3fb9"),this.buiCalendar._handleMonthChange(),window.BUI.initComponents(this.$calendarEl[0]),this.hideLoading(),_r_()}.bind(this)).catch(function(e){_i_("65cb:2e2f621b"),this.hideLoading(),_r_()}.bind(this)),_r_()},t.prototype.showLoading=function(){_i_("65cb:401ed64e"),this.$calendarEl.find(".calendar-dates-prices-info-message").hide(),this.$calendarEl.find(".calendar-dates-prices-loader").show(),_r_()},t.prototype.hideLoading=function(){_i_("65cb:9cafc21b"),this.$calendarEl.find(".calendar-dates-prices-loader").hide(),this.$calendarEl.find(".calendar-dates-prices-info-message").show(),_r_()},t.prototype.isLoading=function(){return _i_("65cb:b8601c81"),_r_(0<this.$calendarEl.find(".calendar-dates-prices-loader:visible").length)},t.prototype.showInfoMessage=function(e){_i_("65cb:688285db");var t=this.$calendarEl.find(".calendar-dates-prices-info-message");e&&!this.defaultInfoMessage&&(this.defaultInfoMessage=t.html());var n=e;if(void 0===e&&this.defaultInfoMessage&&(n=this.defaultInfoMessage),void 0===n)return _r_();t.html(n),_r_()},t.prototype._getCalendarBaseDate=function(){_i_("65cb:80ebfa41");try{var e=this.buiCalendar.state.baseMonthDate;if(1===e.getDate())return _r_(e);return _r_(new Date(new Date(e).setDate(1)))}catch(e){return _r_(null)}_r_()},t.prototype._getCalendarEndDate=function(){_i_("65cb:74015c2d");var e=this._getCalendarBaseDate();if(1<this.buiCalendar.props.monthsToShow){var t=new Date(e.getFullYear(),e.getMonth()+this.buiCalendar.props.monthsToShow-1,1);return _r_(new Date(t.getFullYear(),t.getMonth()+1,0))}return _r_(new Date(e.getFullYear(),e.getMonth()+1,0))},t.prototype.removeCalendarTooltip=function(){_i_("65cb:b6ec720f"),$("#calendar-with-price-tooltip").closest(".bui-tooltip").remove(),_r_()},t.prototype.setCheckinDate=function(e){if(_i_("65cb:96d9fc6e"),!e)return _r_();b=e,this.removeCalendarTooltip(),this.buiCalendar&&this.buiCalendar._handleMonthChange(),window.BUI.initComponents(this.$calendarEl[0]),_r_()},_r_(t)}),B.define("component/searchbox/calendar/oldie-with-prices",function(e,t,n){"use strict";_i_("65cb:170d6a48");var i=e("server-data"),r=e("component/searchbox/calendar/oldie"),_=e("searchbox/calendar-with-prices-core");n.exports=r.extend({init:function(){_i_("65cb:b48f7259"),r.prototype.init.apply(this,arguments),this.calendarWithPrices=new _(this.$el,this.calendar.calendarInstance),this.calendarWithPrices.service.init(i.b_hotel_id),this.calendarWithPrices.initCalendarWithPrices(function(e){_i_("65cb:7ee0ccee"),this.calendar.calendarInstance=e,this.calendar.calendarInstance.mount(),_r_()}.bind(this)),this.calendarWithPrices.bindMonthChangeHandlers(),_r_()},openStartCalendar:function(){_i_("65cb:b06b7c56"),r.prototype.openStartCalendar.apply(this,arguments),this.calendarWithPrices.getPricesAndRender(),_r_()},openEndCalendar:function(){_i_("65cb:d17c1b94"),r.prototype.openEndCalendar.apply(this,arguments),this.calendarWithPrices.getPricesAndRender(),_r_()},closeCalendar:function(){_i_("65cb:d20ddcca"),r.prototype.closeCalendar.apply(this,arguments),this.calendarWithPrices.removeCalendarTooltip(),_r_()}}),_r_()}),
/* @preserve https://mths.be/cssescape v0.2.1 by @mathias | MIT license */
function(e){_i_("65cb:451d774e"),e.CSS||(e.CSS={});var t=e.CSS,o=function(e){_i_("65cb:6e65499b"),this.message=e,_r_()};(o.prototype=new Error).name="InvalidCharacterError",t.escape?e.CSS_escape=t.escape:t.escape=e.CSS_escape=function(e){_i_("65cb:b1c62348");for(var t,n=String(e),i=n.length,r=-1,_="",a=n.charCodeAt(0);++r<i;){if(0==(t=n.charCodeAt(r)))throw new o("Invalid character: the input contains U+0000.");if(1<=t&&t<=31||127==t||0==r&&48<=t&&t<=57||1==r&&48<=t&&t<=57&&45==a){_+="\\"+t.toString(16)+" ";continue}if(128<=t||45==t||95==t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122){_+=n.charAt(r);continue}_+="\\"+n.charAt(r)}return _r_(_)},_r_()}("undefined"!=typeof global?global:window),B.define("component/fragment-group",function(e,t,n){_i_("65cb:0a9f358f");var i=e("component/fragment"),c=e("fragment"),l=e("promise"),d=e("jquery"),u=B.debug("fragment"),f={};n.exports=i.extend({fragmentGroupByKey:void 0,fragmentGroupToKey:void 0,fragmentLoadFragment:function(){if(_i_("65cb:b626ff0c"),!this.fragmentGroupByKey)throw new Error("fragmentGroupByKey is not defined.");this.fragmentGroupToKey||(this.fragmentGroupToKey=this.fragmentGroupByKey),this.$el.data("fragment-did-load",!0),i.prototype.fragmentLoadFragment.call(this),_r_()},fragmentRequest:function(e,t){_i_("65cb:c2112e46");var i=this.$el.attr("data-fragment-group"),r=t[this.fragmentGroupByKey];if(i){u.info("fragment-group:fragmentRequest",i,r),f[i]||(f[i]={});var _=f[i],n=_[r];if(n){if(n.ready){var a=n.data;return delete _[r],u.info("fragment-group:ready",i,r),_r_(l.resolve(a))}return u.info("fragment-group:promise",i,r),_r_(new l(function(e,t){_i_("65cb:842f678f"),n.resolve=e,n.reject=t,_r_()}))}var o=[r];_[r]={ready:!1};var s=this.fragmentGroupByKey;return d("[data-fragment-group="+CSS_escape(i)+"]").each(function(){if(_i_("65cb:f04d8205"),!d(this).data("fragment-did-load")){var e=d(this).attr("data-param-"+s);_[e]||(o.push(e),_[e]={ready:!1})}_r_()}),delete t[this.fragmentGroupByKey],t[this.fragmentGroupToKey]=o,u.info("fragment-group:call",i,r),_r_(c.call(e,t).then(function(n){return _i_("65cb:965543e3"),n=n||{},o.forEach(function(e){if(_i_("65cb:99f5514c"),e!==r){var t=_[e];t&&(t.resolve?(t.resolve(n[e]),u.info("fragment-group:resolve",i,e),delete _[e]):(t.ready=!0,t.data=n[e]))}_r_()}),delete _[r],u.info("fragment-group:resolve",i,r),_r_(n[r])},function(n){throw _i_("65cb:9309ac4d"),o.forEach(function(e){_i_("65cb:a7688ada");var t=_[e];t.reject&&t.reject(n),delete _[e],_r_()}),u.info("fragment-group:reject",i,r),n}))}return _r_(c.call(e,t).then(function(e){if(_i_("65cb:2537f986"),e)return _r_(r in e?e[r]:e);_r_()}))}}),_r_()}),booking.jstmpl("next_available_dates_carousel_cst",function(){_i_("65cb:02f9867c");var s,c=["\n",'\n<div class="bui-text bui-text--variant-headline_3 bui-spacer--small">\n',"/private/webcore_hp_alt_dates_block_head/name",'\n</div>\n<div class="bui-text bui-text--variant-body_2 bui-spacer--medium">\n',"/private/webcore_hp_alt_dates_block_subhead/name","\n</div>\n",'\n<div class="bui-text ',"bui-text--variant-small_1","bui-text--variant-body_2",' bui-spacer--medium">\n',"/private/deals_sr_av_calendar_availability_urgency/name","/private/sr_av_calendar_best_available_options/name",'\n<div role="region"\nclass="',"bui-carousel bui-u-bleed@small c-next-available-dates__carousel-wrap",'"\ndata-et-view="',":3 ",":4 ",":5 ",":6 ",":7 ",'"\ndata-bui-component="Carousel"\ntabindex="0">\n<ul class="bui-carousel__inner c-next-available-dates__carousel" data-bui-ref="carousel-container">\n',"","checkin=","checkout=","origin=hp ",'\n<li class="bui-carousel__item" data-bui-ref="carousel-item">\n<a class="c-next-available-dates__item ',"c-next-available-dates__item__white",'"\nhref="','"\ndata-et-click="',"customGoal:",":1",'"\n>\n<div class="bui-group bui-group--medium">\n<div class="bui-group__item c-next-available-dates__item__dates">\n',"  ",'\n</div>\n<div class="bui-group__item">\n<div class="bui-text bui-text--variant-small_1 bui-text--color-neutral">\n',"/private/bh_av_calendar_num_weeks/name","/private/av_calendar_num_nights/name",'\n</div>\n</div>\n<div class="bui-group__item c-next-available-dates__item__price">\n<div class="bui-text bui-text--variant-small_1 bui-text--color-neutral_alt">\n',"/private/av_calendar_from_price/name","\n</div>\n</div>\n</div>\n</a>\n</li>\n",'\n</ul>\n<div class="bui-carousel__nav c-next-available-dates__carousel__controls" aria-hidden="true">\n<button type="button" class="bui-carousel__button" aria-label="Previous content" data-bui-ref="carousel-prev">\n',"bui-carousel__prev","streamline/arrow_nav_left","32",'\n</button>\n<button type="button" class="bui-carousel__button" aria-label="Next content" data-bui-ref="carousel-next">\n',"bui-carousel__next","streamline/arrow_nav_right","\n</button>\n</div>\n</div>\n"],l=["data","fe_is_hotel_on_desktop","b_is_landing","b_partner_vertical","b_has_upcoming_booking","fe_item_url","fe_hp_url_no_dates","fe_white_bg"];return _r_(function(e){_i_("65cb:a14015f7");var t="",n=this.fn;if(t+=c[0],n.MJ(n.MB(l[0]))&&n.MJ(n.array_length(n.MC(l[0]).dates))){t+=c[0],n.MN("fe_is_hotel_on_desktop",n.MC(l[0]).fe_is_hotel_on_desktop),t+=c[0],n.MN("fe_unused_var",n.MB(l[1])&&n.track_experiment_stage("eDUbaTaTaBZaeUSSHUJcbWae",2)),t+=c[0],n.MJ(n.MG((n.MC(l[0])||{}).hide_title))||(t+=c[0],n.MJ(n.MB(l[0]))&&n.MJ(n.MC(l[0]).fe_should_render_alt_dates_header)?t+=[c[1],n.ME(c[2],n.MB,n.MN,null),c[3],(e.unshift({property_name:n.MG((n.MC(l[0])||{}).fe_hotel_name)}),s=n.ME(c[4],n.MB,n.MN,null),e.shift(),s),c[5]].join(""):(t+=c[6],n.MJ(n.MG((n.MC(l[0])||{}).fe_with_small_title))?t+=c[7]:t+=c[8],t+=c[9],n.MK(n.MC(l[2])&&n.MJ(n.MC(l[3])+""=="meta")||n.MC(l[4]))?t+=[c[0],n.ME(c[10],n.MB,n.MN,null),c[0]].join(""):t+=[c[0],n.ME(c[11],n.MB,n.MN,null),c[0]].join(""),t+=c[5]),t+=c[0]),t+=c[12],t+=c[13],t+=c[14],n.MJ(n.MB(l[1]))&&(t+=[n.F.entities("eDUbaTaTaBZaeUSSHUJcbWae"),c[15]].join(""),n.MJ(n.MC(l[0]).b_search_config)&&n.MJ(n.MC(l[0]).b_search_config.traveller_segment+""=="couple")&&(t+=[n.F.entities("eDUbaTaTaBZaeUSSHUJcbWae"),c[16]].join("")),n.MJ(n.MC(l[0]).b_search_config)&&n.MJ(n.MC(l[0]).b_search_config.traveller_segment+""=="group")&&(t+=[n.F.entities("eDUbaTaTaBZaeUSSHUJcbWae"),c[17]].join("")),n.MJ(n.MC(l[0]).b_search_config)&&n.MJ(n.MC(l[0]).b_search_config.traveller_segment+""=="family")&&(t+=[n.F.entities("eDUbaTaTaBZaeUSSHUJcbWae"),c[18]].join("")),n.MJ(n.MC(l[0]).b_guest_country+""=="us")&&(t+=[n.F.entities("eDUbaTaTaBZaeUSSHUJcbWae"),c[19]].join(""))),t+=c[20],n.MN("fe_hp_url_no_dates",n.MC(l[0]).hp_url_no_dates),t+=c[0];var i=(n.MC(l[0])||{}).dates||[];e.unshift({option:null});for(var r,_=1,a=i.length;_<=a;_++){e[0].option=r=i[_-1],t+=c[0];var o="";n.MJ(r.sr_url_hh)&&n.MK(n.track_experiment("UOTEQeOYFGbJEcYUC"))&&n.MJ(n.MB(l[1]))&&n.MK(n.track_experiment("eDUbaTaTaBZaeUSSHUJcbWae"))?o+=[(r||{}).sr_url_hh,c[21]].join(""):o+=[n.MC(l[6]),n.F.entities((n.MC(l[0])||{}).b_query_params_delimiter),c[22],n.F.entities((r||{}).checkin),n.F.entities((n.MC(l[0])||{}).b_query_params_delimiter),c[23],n.F.entities((r||{}).checkout),n.F.entities((n.MC(l[0])||{}).b_query_params_delimiter),c[24]].join(""),n.MN(l[5],o),t+=c[25],n.MD(l[7])&&(t+=c[26]),t+=[c[27],n.F.entities(n.MC(l[5])),c[28]].join(""),n.MD(l[1])&&(t+=[c[29],n.F.entities("eDUbaTaTaBZaeUSSHUJcbWae"),c[30]].join("")),t+=[c[31],n.DATE(n.MG((r||{}).checkin),"short_date_without_year","","",""),c[32],n.DATE(n.MG((r||{}).checkout),"short_date_without_year","","",""),c[33]].join(""),n.MJ(n.MG((r||{}).los_in_weeks))?t+=[c[0],(e.unshift({num_weeks:n.MG((r||{}).los_in_weeks)}),s=n.ME(c[34],n.MB,n.MN,n.MO(r.los_in_weeks,null,c[34])),e.shift(),s),c[0]].join(""):t+=[c[0],(e.unshift({b_num_nights:n.MG((r||{}).los)}),s=n.ME(c[35],n.MB,n.MN,n.MO(r.los,null,c[35])),e.shift(),s),c[0]].join(""),t+=[c[36],(e.unshift({b_from_price:n.MG((r||{}).price_pretty)}),s=n.ME(c[37],n.MB,n.MN,null),e.shift(),s),c[38]].join("")}e.shift(),t+=[c[39],(e.unshift({class:c[40],name:c[41],width:c[42]}),s=n.HELPER("icon",e[0]),e.shift(),s),c[43],(e.unshift({class:c[44],name:c[45],width:c[42]}),s=n.HELPER("icon",e[0]),e.shift(),s),c[46]].join("")}return t+=c[0],_r_(t)})}()),B.define("component/fragment/property-next-available-dates",function(e,t,n){_i_("65cb:91fe18ce");var i=e("component/fragment-group"),r=e("search-config");n.exports=i.extend({fragmentName:"searchresults.restricted_availability",fragmentTemplate:"next_available_dates_carousel_cst",fragmentIsCS:!0,fragmentGroupByKey:"hid",fragmentGroupToKey:"hids",init:function(){_i_("65cb:236d78ec"),i.prototype.init.call(this),_r_()},fragmentBeforeRequest:function(e){_i_("65cb:b26b25ba");var t=e.args;t.checkin||t.checkout||(t.checkin=B.env.b_checkin_date,t.checkout=B.env.b_checkout_date),t.simpleav=1,t.src="srflex",t.search_config||(t.search_config=r.getRawValue()),_r_()},fragmentBeforeRender:function(e){if(_i_("65cb:6f9d2224"),e.data){e.data.dates=(t=e.data.dates,_i_("65cb:8236f535"),_r_(t.sort(function(e,t){_i_("65cb:013b9a21");var n=e.los-t.los;return _r_(0===n?e.checkin>t.checkin?1:-1:n)}))),e.data.fe_with_small_title=!!this.$el.data("fe_with_small_title"),e.data.fe_hotel_name=this.$el.data("fe_hotel_name"),e.data.fe_should_render_alt_dates_header=!!this.$el.data("fe_should_render_alt_dates_header"),e.data.b_query_params_delimiter=B.env.b_query_params_delimiter,e.data.fe_is_hotel_on_desktop="www"===B.env.site_type&&"hotel"===B.env.b_action,e.data.b_search_config=B.env.b_search_config,e.data.b_guest_country=B.env.b_guest_country}var t;return _r_(!0)},fragmentAfterRender:function(e){_i_("65cb:df13a878"),B.et.initAttributesTracking(e.$targetEl||this.$el),window.BUI&&window.BUI.initComponents(this.el),_r_()},fragmentRequestError:function(){_i_("65cb:dd5a21e2"),this.$el.html(""),_r_()}}),_r_()}),B.define("genius/room-upgrade/drawer",function(e){"use strict";_i_("65cb:48717295");var t=window.BUI,n=e("jstmpl"),c=e("server-data"),a=e("jquery"),o=e("window-scroller"),l=B.utils.accounting.formatMoney,s=".c-selection_cart.top-fixed.active",d=e("hotel/store"),u=Number(c.fe_exp_rsw_m_hp_rt_horizontal_scroll);function f(e){_i_("65cb:c621a5e1");var t,n,i,r,_,a,o=c.b_genius_free_room_upgrade_benefits.b_blocks,s=c.b_room_blocks_json;return(i=o[e]).is_upgraded_block?(a=i.upgrade_from_block_id,_=e):(a=e,_=i.upgrade_to_block_id),i.base_room.block_id=a,i.upgraded_room.block_id=_,r=c.b_currency_code,t=s[a].price_for_js,t=l(t,r),i.base_room.price=t,n=s[_].price_for_js,n=l(n,r),i.upgraded_room.price=n,i.b_site_type=c.b_site_type,_r_(i)}return _r_({open:function(e,i){_i_("65cb:98549cf1");var r=f(e),_=t.createInstance("Drawer",null,{template:n("genius_upgrade_hotel_page_bottom_sheet").render(r),onAfterOpen:function(){_i_("65cb:d49f791f");var n=d.getState().roomsTable.roomPage.isVisible;a(".genius-fru-comparision-modal").loadComponents(),a(".js-select-upgrade").click(function(){if(_i_("65cb:fb5c0ab6"),!r.is_upgraded_block){var e="#"+r.upgraded_room.block_id,t=a(e).parents(".db-card__room");n&&u&&a(".js-m_rt_fullpage__container.tab-active .js-fpd-close-btn").trigger("click"),setTimeout(function(){_i_("65cb:8a49c656");var e=a(s).length&&a(s).outerHeight()||0;o.scrollToBlock(t,!0,500,e),_r_()})}_.close(),setTimeout(function(){_i_("65cb:62ab7ac0"),i(r.upgraded_room.block_id),_r_()},99),_r_()}),a(".js-dont-select-upgrade").click(function(){_i_("65cb:8002cf72"),i(r.base_room.block_id),_.close(),_r_()}),_r_()}});_.mount(),_.open(),_r_()},getRoomComparisonData:f})}),booking.jstmpl("genius_upgrade_hotel_page_bottom_sheet",function(){_i_("65cb:74cb9b71");var u,f=["\n    ",'<article class="genius-fru-comparision-modal">\n    <header class="genius-fru-comparision-modal__header genius-fru-comparision-modal__header--no-border genius-fru-comparision-modal__header--no-bottom-padding">\n        <h1 class="genius-fru-comparision-modal__heading">\n            ',"\n                ","/private/ge_fru_comp_table_header_not_upgraded/name","\n            ","/private/ge_fru_comp_table_header_upgraded/name",'\n        </h1>\n        <h2 class="genius-fru-comparision-modal__sub-heading">\n            <span>\n                ',"\n                    ","/private/desktop_ge_fru_disclaimer_post_booking/name","/private/ge_fru_comp_table_subheader_all/name",'\n            </span>\n        </h2>\n    </header>\n    <section class="genius-fru-comparision-modal__body--vertical genius-fru-comparision-modal__body--no-border">\n\n        ',"\n\n        ",'\n    <section class="genius-fru-comparision-modal__room">\n        <div class="\n            genius-fru-comparision-modal__room-details\n        ">\n            <header>\n                <h3 class="genius-fru-room-info__room-type">\n                    ',"\n                        ","/private/ge_fru_comp_table_to/name","/private/ge_fru_comp_table_from/name",'\n                </h3>\n                <h4 class="genius-fru-room-info__room-name">\n                    ',"\n                </h4>\n            </header>\n\n            ",'\n                <div class="genius-fru-upgrade-indicator-icon">\n                    ',"streamline/arrow_down","medium","\n                </div>\n            ","\n\n            ",'\n                <div class="genius-fru-room__image-container">\n                    <img\n                        class="genius-fru-room__image"\n                        alt="','"\n                        src="','"\n                    >\n                </div>\n            ','\n\n            <section class="genius-fru-room-description"\n                data-component="core/read-more"\n                ','\n                    data-char-limit="120"\n                ','\n                    data-char-limit="60"\n                ','\n                data-read-more-copy="',"/private/desktop_ge_fru_hp_read_more/name",'"\n            >\n                ',"","\n            </section>\n\n        </div>\n\n        ",'\n            <section\n                class="genius-fru-price--highlighted"\n            >\n                <p class="genius-fru-price__pay-only">',"/private/ge_fru_comp_table_pay_only/name",'</p>\n                <p class="genius-fru-price__before-upgrade">',"/private/ge_fru_comp_table_price_before_upgrade/name","</p>\n            </section>\n        ","\n\n    </section>\n","\n        ","1",'\n        <div class="genius-fru-comparision-modal__reaffirmation">\n            ',"streamline/checkmark_fill","large","bold","\n            <span>\n                ","/private/desktop_ge_fru_hp_disclaimer/name",'\n            </span>\n        </div>\n    </section>\n    <footer class="genius-fru-comparision-modal__footer genius-fru-comparision-modal__footer--with-cta">\n        ','\n            <div class="bui-button-group bui-group bui-group--inline">\n                <div class="bui-button-group__item genius-fru-comparision-modal__cta-container">\n                    <button class="\n                            bui-button\n                            bui-button--primary\n                            genius-fru-comparision-modal__cta\n                            js-select-upgrade\n                        "\n                        type="button"\n                        data-bui-ref="modal-close"\n                    >\n                        <span class="bui-button__text">\n                            ',"\n                                ","\n                                    ","/private/ge_fru_comp_table_desktop_cta/name","/private/ge_fru_comp_table_continue_cta/name","\n                            ","/private/ge_fru_comp_table_upgrade_yes_cta/name","\n                        </span>\n                    </button>\n                </div>\n                ",'\n                    <div class="bui-button-group__item genius-fru-comparision-modal__cta-container">\n                        <button\n                            class="\n                                bui-button\n                                bui-button--secondary\n                                genius-fru-comparision-modal__cta\n                                js-dont-select-upgrade\n                            "\n                            data-bui-ref="modal-close"\n                            type="button"\n                        >\n                            <span class="bui-button__text">',"/private/ge_fru_comp_table_upgrade_no_cta/name","</span>\n                        </button>\n                    </div>\n                ","\n            </div>\n        ","\n    </footer>\n</article>\n\n","\n\n","\n",'<article class="bui-drawer__content genius-fru-comparision__drawer">\n    <header class="bui-drawer__header">\n        <h1 class="genius-fru-comparision__drawer-heading"\n            data-bui-ref="drawer-title"\n        >\n            ',"/private/mdot_ge_fru_to_room_at_header/name","\n                 ","/private/mdot_ge_fru_from_room_header/name","\n        </h1>\n    </header>\n    ",'\n    <section class="genius-fru-comparison__table">\n        ','\n    <section class="genius-fru-comparision-room\n        ',"\n            genius-fru-comparision-room--upgraded-room\n        ",'\n    ">\n        <header class="genius-fru-comparision-room__heading\n            ',"\n                genius-fru-comparision-room__heading--with-icon\n            ",'"\n            data-component="core/match-height"\n            data-match-height-element="genius-fru-comparision-room-heading"\n        >\n            <span class="genius-fru-comparision-room__room-type">\n                ',"/private/mdot_ge_fru_to_room_at_get/name","/private/mdot_ge_fru_to_room_at_pay_for/name",'\n            </span>\n            <span class="genius-fru-comparision-room__room-name">\n                ','\n            </span>\n        </header>\n\n        <section class="genius-fru-comparision-room__facilities"\n            data-component="core/match-height"\n            data-match-height-element="genius-fru-room-facilities"\n        >\n            <ul class="genius-fru-facilities-list">\n                ','\n                    <li class="genius-fru-facility\n                        ',"\n                            genius-fru-facility--better\n                        ",'\n                    ">\n                        <div class="genius-fru-facility__icon" role="presentation">\n                            ','\n                        </div>\n                        <span class="genius-fru-facility__name">\n                            ',"\n                        </span>\n                    </li>\n                ",'\n            </ul>\n        </section>\n\n        <section class="genius-fru-comparision-price">\n            <div class="genius-fru-comparision-price__title">\n                <span class="genius-fru-comparision-price__heading">',"/private/mdot_ge_fru_to_room_at_price/name","</span>\n            </div>\n            <div>\n                ",'\n                    <span class="genius-fru-comparision-price__amount--crossed">\n                        ',"\n                    </span>\n                ",'\n                    <span class="genius-fru-comparision-price__amount\n                        ',"\n                            genius-fru-comparision-price__amount--upgraded\n                        ",'"\n                    >\n                        ',"\n            </div>\n        </section>\n\n    </section>\n",'\n    </section>\n    <section class="genius-fru-comparision__reassurance-message">\n        ',"small","\n        <span>\n            ","/private/mdot_ge_fru_disclaimer_post_booking/name","/private/mdot_ge_fru_to_room_at_disclaimer/name","\n        </span>\n    </section>\n\n    ",'<div class="genius-fru-comparision__CTAs">\n    <button\n        class="bui-button\n            bui-button--primary\n            bui-button--wide\n            genius-fru-comparision__select-CTA\n            js-select-upgrade"\n        type="button"\n    >\n        <span class="bui-button__text">\n            ',"/private/mdot_ge_fru_from_room_cta_yes/name","/private/mdot_ge_fru_to_room_at_cta_continue/name","\n        </span>\n\n    </button>\n    ",'\n        <button\n            class="bui-button\n                bui-button--secondary\n                bui-button--wide\n                genius-fru-reject-upgrade\n                js-dont-select-upgrade"\n            type="button"\n        >\n            <span class="bui-button__text">',"/private/mdot_ge_fru_from_room_cta_no/name","</span>\n        </button>\n    ","\n</div>\n",'\n\n    <footer class="genius-fru-comparision__genius-signature">\n        ',"\n\n\n\n\n\n\n\n\n\n\n\n\n\n","\n\n\n\n\n\n","\n    \n    \n    \n    \n    \n    \n    \n    \n    ",'\n\n    <div class="genius-footer-signature '," ","genius-footer-signature--inverted",'">\n        <span class="genius-footer-signature__copy">\n            \n            \n\n            ','\n                    <a\n                        class="bui-link bui-link--primary genius-footer-signature__learn"\n                        href="','"\n                        ','\n                            target="_blank"\n                        ','\n                            data-ga-track="',"\n                    >\n                ","\n                    </a>\n                ","\n\n                ","/private/web_ge_generic_signature_with_link/name","/private/web_ge_generic_signature_without_link/name","\n        </span>\n\n        ","\n    \n    \n    \n    \n\n    ","\n    \n    \n    \n    \n    \n    \n    \n    \n    \n\n    ","\n\n    ","/private/{copy}/name","genius-footer-signature__logo","\n    </div>\n","\n    </footer>\n</article>\n"],b=["is_upgraded_block","is_post_booking","base_room","upgraded_room","is_upgraded_room","room","should_show_room_image","b_site_type","selected_room_is_base_room","class","inverted","start_link","cta_url","cta_opens_new_page","cta_ga_tracker","end_link","variant","copy","tooltip","size","height","title","reset_css","white_dot","image_height","fe_genius_lp_url"];return _r_(function(c){_i_("65cb:f852d30b");var e,t="",l=this.fn;function i(e){return _i_("65cb:aec21b26"),e+=f[12],l.MD(b[4])?e+=[f[13],l.ME(f[14],l.MB,l.MN,null),f[7]].join(""):e+=[f[13],l.ME(f[15],l.MB,l.MN,null),f[7]].join(""),e+=[f[16],l.F.entities((l.MC(b[5])||{}).name),f[17]].join(""),l.MK(l.MB(b[4]))&&(e+=[f[18],(c.unshift({color:"#008009",name:f[19],size:f[20]}),u=l.HELPER("icon",c[0]),c.shift(),u),f[21]].join("")),e+=f[22],l.MD(b[6])&&(e+=[f[23],l.F.entities((l.MC(b[5])||{}).name),f[24],l.STATIC_HOSTNAME(l.MC(b[5]).image_url,0,0,0,0),f[25]].join("")),e+=f[26],l.MJ(l.MC(b[7])+""=="www")?e+=f[27]:e+=f[28],e+=[f[29],l.ME(f[30],l.MB,l.MN,null),f[31]].join(""),e+=[l.F.entities((l.MC(b[5])||{}).description),f[32]].join(""),e+=f[33],l.MD(b[4])&&(e+=[f[34],(c.unshift({price_with_upgrade:l.MG((l.MC(b[5])||{}).price)}),u=l.ME(f[35],l.MB,l.MN,null),c.shift(),u),f[36],(c.unshift({price_before_upgrade:l.MG((l.MC(b[5])||{}).price_before_fru_user_currency)}),u=l.ME(f[37],l.MB,l.MN,null),c.shift(),u),f[38]].join("")),e+=f[39],_r_(e)}function d(e){_i_("65cb:c73610aa"),e+=f[70],l.MD(b[4])&&(e+=f[71]),e+=f[72],l.MD(b[4])&&(e+=f[73]),e+=f[74],l.MD(b[4])?e+=[f[7],l.ME(f[75],l.MB,l.MN,null),f[2]].join(""):e+=[f[7],l.ME(f[76],l.MB,l.MN,null),f[2]].join(""),e+=[f[77],l.F.entities((l.MC(b[5])||{}).name),f[78]].join("");var t=(l.MC(b[5])||{}).facilities||[];c.unshift({facility:null});for(var n,i=1,r=t.length;i<=r;i++)c[0].facility=n=t[i-1],e+=f[79],l.MJ(l.MG((n||{}).is_better))&&(e+=f[80]),e+=f[81],l.MJ(l.MG((n||{}).icon))&&(e+=[f[50],(c.unshift({name:l.MG((n||{}).icon),size:f[20]}),u=l.HELPER("icon",c[0]),c.shift(),u),f[54]].join("")),e+=f[82],l.MJ(l.MG((n||{}).name))&&(e+=[f[50],l.F.entities((n||{}).name),f[54]].join("")),e+=f[83];return c.shift(),e+=[f[84],l.ME(f[85],l.MB,l.MN,null),f[86]].join(""),l.MJ(l.MG((l.MC(b[5])||{}).public_price))&&(e+=[f[87],(l.MC(b[5])||{}).public_price,f[88]].join("")),e+=f[2],l.MJ(l.MG((l.MC(b[5])||{}).price))&&(e+=f[89],l.MD(b[4])&&(e+=f[90]),e+=[f[91],(l.MC(b[5])||{}).price,f[88]].join("")),e+=f[92],_r_(e)}return t+=f[0],e=t,_i_("65cb:2a079a9c"),e=l.MJ(l.track_experiment("cQZJALOdeEEBFfZLMBUXCEWPHDDWe"))?function(e){_i_("65cb:e1d61691"),e+=f[1],l.MK(l.MB(b[0]))?e+=[f[2],l.ME(f[3],l.MB,l.MN,null),f[4]].join(""):e+=[f[2],l.ME(f[5],l.MB,l.MN,null),f[4]].join(""),e+=f[6],l.MD(b[1])?e+=[f[7],l.ME(f[8],l.MB,l.MN,null),f[2]].join(""):e+=[f[7],l.ME(f[9],l.MB,l.MN,null),f[2]].join(""),e+=f[10],l.MN("should_show_room_image",l.MC(b[2]).image_url&&l.MC(b[3]).image_url&&l.MJ(l.MC(b[2]).image_url+""!=""+l.MC(b[3]).image_url)),e+=f[11];var t={b_site_type:l.MC(b[7]),room:l.MB(b[2]),should_show_room_image:l.MB(b[6])},n=c;(c=l.SV([{},{}])).unshift(t),e=i(e),c=l.SV(n),e+=f[40];var t={b_site_type:l.MC(b[7]),is_upgraded_room:f[41],room:l.MB(b[3]),selected_room_is_base_room:l.MK(l.MB(b[0])),should_show_room_image:l.MB(b[6]),show_cta:l.MK(l.MB(b[1]))},n=c;return(c=l.SV([{},{}])).unshift(t),e=i(e),c=l.SV(n),e+=[f[42],(c.unshift({color:"#006607",name:f[43],size:f[44],weight:f[45]}),u=l.HELPER("icon",c[0]),c.shift(),u),f[46]].join(""),l.MD(b[1])?e+=[f[7],l.ME(f[8],l.MB,l.MN,null),f[2]].join(""):e+=[f[7],l.ME(f[47],l.MB,l.MN,null),f[2]].join(""),e+=f[48],l.MK(l.MB(b[1]))&&(e+=f[49],l.MJ(l.MB(b[0]))?(e+=f[50],l.MJ(l.MC(b[7])+""=="www")?e+=[f[51],l.ME(f[52],l.MB,l.MN,null),f[50]].join(""):e+=[f[51],l.ME(f[53],l.MB,l.MN,null),f[50]].join(""),e+=f[54]):e+=[f[50],l.ME(f[55],l.MB,l.MN,null),f[54]].join(""),e+=f[56],l.MK(l.MB(b[0]))&&(e+=[f[57],l.ME(f[58],l.MB,l.MN,null),f[59]].join("")),e+=f[60]),e+=f[61],e+=f[62],_r_(e)}(e+=f[0]):function(e){var t,n,i,r,_,a;if(_i_("65cb:45ad424e"),e+=f[64],l.MD(b[0])?e+=[f[2],l.ME(f[65],l.MB,l.MN,null),f[4]].join(""):e+=[f[66],l.ME(f[67],l.MB,l.MN,null),f[4]].join(""),t=e+=f[68],_i_("65cb:fad392f3"),t+=f[63],e=_r_(t),e+=f[69],c.unshift({room:l.MB(b[2])}),e=d(e),c.shift(),e+=f[40],c.unshift({is_upgraded_room:f[41],room:l.MB(b[3]),selected_room_is_base_room:l.MK(l.MB(b[0]))}),e=d(e),c.shift(),e+=[f[93],(c.unshift({color:"#008009",name:f[43],size:f[94]}),u=l.HELPER("icon",c[0]),c.shift(),u),f[95]].join(""),l.MD(b[1])?e+=[f[2],l.ME(f[96],l.MB,l.MN,null),f[4]].join(""):e+=[f[2],l.ME(f[97],l.MB,l.MN,null),f[4]].join(""),e+=f[98],l.MK(l.MB(b[1]))){e+=f[40];var o={selected_room_is_base_room:l.MK(l.MB(b[0]))},s=c;(c=l.SV([{},{}])).unshift(o),n=e,_i_("65cb:463ff4fb"),n+=f[99],l.MD(b[8])?n+=[f[2],l.ME(f[100],l.MB,l.MN,null),f[4]].join(""):n+=[f[2],l.ME(f[101],l.MB,l.MN,null),f[4]].join(""),n+=f[102],l.MD(b[8])&&(n+=[f[103],l.ME(f[104],l.MB,l.MN,null),f[105]].join("")),n+=f[106],e=_r_(n),c=l.SV(s),e+=f[0]}e+=f[107],c.unshift({jstmpl:f[41]}),i=e,_i_("65cb:8d435abb"),a=i+=f[63],_i_("65cb:7b9b76c9"),a+=f[108],a+=f[62],a+=f[62],a+=f[62],a+=f[63],i=_r_(a),_=i+=f[63],_i_("65cb:d6663bcf"),_+=f[109],_+=f[63],i=_r_(_),r=i+=f[63],_i_("65cb:4c0d8d80"),r+=f[62],r+=f[63],i=_r_(r),i+=f[63],i+=f[63],e=_r_(i),c.shift(),e+=f[40];var o={cta_url:l.MB(b[25])},s=c;return(c=l.SV([{},{}])).unshift(o),e=function(e){if(_i_("65cb:7be58b9e"),e+=f[110],l.MN("b_companyname","Booking.com"),e+=[f[111],l.F.entities(l.MC(b[9])),f[112]].join(""),l.MD(b[10])&&(e+=f[113]),e+=f[114],l.MD(b[12])){e+=f[2];var t="";t+=[f[115],l.MC(b[12]),f[116]].join(""),l.MD(b[13])&&(t+=f[117]),t+=f[13],l.MD(b[14])&&(t+=[f[118],l.MC(b[14]),f[116]].join("")),t+=f[119],l.MN(b[11],t),e+=f[2],l.MN(b[15],f[120]),e+=[f[121],l.ME(f[122],l.MB,l.MN,null),f[4]].join("")}else e+=[f[2],l.ME(f[123],l.MB,l.MN,null),f[4]].join("");e+=f[124];var n={class:f[129],inverted:l.MB(b[10]),size:f[20]},i=c;return(c=l.SV([{},{}])).unshift(n),e=function(e){_i_("65cb:48a8ecbd"),e+=f[125];var t,n={class:f[129]||"",copy:l.MB(b[17]),height:l.MB(b[20]),reset_css:l.MB(b[22]),size:f[20],variant:l.MB(b[10])?"logo_inverted":"logo",white_dot:l.MB(b[23])},i=c;return(c=l.SV([{},{}])).unshift(n),t=e,_i_("65cb:4d614570"),t+=f[126],l.MN("variant",l.MB(b[16])||"logo"),t+=f[0],l.MN("copy",l.MB(b[17])||"www_ge_screenreader_generic_logo"),t+=f[0],l.MN("tooltip",l.MB(b[18])||""),t+=f[0],l.MN("class",l.MB(b[9])||""),t+=f[0],l.MN("size",l.MB(b[19])||"large"),t+=f[127],l.MN("b_companyname","Booking.com"),t+=f[127],l.MN("image_height",l.MJ(/^\d+$/.test(l.MB(b[20])))?l.MB(b[20]):l.MJ(l.MB(b[19])+""=="smaller")?12:l.MJ(l.MB(b[19])+""=="small")?14:l.MJ(l.MB(b[19])+""=="medium")?16:l.MJ(l.MB(b[19])+""=="large")?20:l.MJ(l.MB(b[19])+""=="larger")?24:l.MJ(l.MB(b[19])+""=="largest")?32:""),t+=f[127],l.MN(b[21],l.ME(f[128],l.MB,l.MN,null)),t+=[f[0],(c.unshift({class:(l.MB(b[22])?"":"genius-"+l.MB(b[16]))+(l.MB(b[23])?" genius-logo_inverted--white-dot":"")+" "+l.MB(b[9]),height:l.MB(b[24]),name:"genius/new_identity/genius_"+l.MB(b[16]),title:l.MB(b[21])}),u=l.HELPER("icon",c[0]),c.shift(),u),f[63]].join(""),e=_r_(t),c=l.SV(i),e+=f[63],_r_(e)}(e),c=l.SV(i),e+=f[130],_r_(e)}(e),c=l.SV(s),e+=f[131],_r_(e)}(e+=f[0]),e+=f[63],e+=f[63],t=_r_(e),t+=f[63],_r_(t)})}()),B.define("component/core/read-more",function(e,t,n){_i_("65cb:6697f390");var i=e("component");n.exports=i.extend({init:function(){if(_i_("65cb:77f20269"),this.setOptions(),this.setText(),this.text.short.length===this.text.full.length)return _r_();this.createButtons(),this.truncateText(),this.addEventListeners(),_r_()},addEventListeners:function(){_i_("65cb:9b8baa4a");var t=this;this.el.addEventListener("click",function(e){_i_("65cb:db9bea0d"),e.target===t.buttons.readMore?t.expandText():e.target===t.buttons.readLess&&t.truncateText(),_r_()}),_r_()},expandText:function(){_i_("65cb:d3777b45"),this.el.innerHTML="";var e=document.createTextNode(this.text.full);this.el.appendChild(e),this.options.readLessEnabled&&this.el.appendChild(this.buttons.readLess),_r_()},setText:function(){_i_("65cb:dd6c66f2");var e=this.el.textContent,t=e.substring(0,this.options.charLimit);this.text={full:e,short:t},_r_()},truncateText:function(){_i_("65cb:26175678"),this.el.innerHTML="";var e=this.text.short;e+="...";var t=document.createTextNode(e);this.el.appendChild(t),this.el.appendChild(this.buttons.readMore),_r_()},createButtons:function(){_i_("65cb:f80c65c3");var e=document.createElement("button");if(e.innerHTML=this.options.readMoreCopy,e.classList.add("read-more__read-more-button"),e.classList.add(this.options.readMoreClass),this.buttons={readMore:e},!this.options.readLessEnabled)return _r_();var t=document.createElement("button");t.classList.add("read-more__read-less-button"),t.classList.add(this.options.readLessClass),t.innerHTML=this.options.readLessCopy,this.buttons.readLess=t,_r_()},setOptions:function(){_i_("65cb:bb6e18a8");var e=this.el.dataset;this.options={};var t=this.options;t.charLimit=e.charLimit,t.readMoreCopy=e.readMoreCopy,t.readMoreClass=e.readMoreClass,t.readLessEnabled=e.readLessEnabled,t.readLessEnabled&&(t.readLessCopy=e.readLessCopy,t.readLessClass=e.readLessClass),_r_()}}),_r_()}),B.define("component/core/match-height",function(e,t,n){_i_("65cb:b0c68625");var i=e("component");n.exports=i.extend({init:function(){_i_("65cb:6f436bf3");var e=this.findLargestHeight();this.el.style.height=e+"px",_r_()},findLargestHeight:function(){_i_("65cb:56d52b0c");var n=0,e=this.el.dataset.matchHeightElement;return document.querySelectorAll('[data-match-height-element="'+e+'"]').forEach(function(e){_i_("65cb:1c6c59ab");var t=e.getBoundingClientRect().height;n=n<t?t:n,_r_()}),_r_(n)}}),_r_()}),B.define("window-scroller",["jquery","promise"],function(o,s){_i_("65cb:b5c34e651");var c=o(window),l=jQuery({progress:0}),d=700;function u(e){_i_("65cb:1298f3381");var t=e.offset().top;return _r_({top:t,bottom:t+e.outerHeight()})}function f(){return _i_("65cb:70d4d0ea1"),_r_(window.innerHeight||document.documentElement.clientHeight)}return _r_({scrollToBlock:function(e,t,n,i){_i_("65cb:8212fefb1");var r,_="number"==typeof i?i:10;if(e&&"string"==typeof e&&(e=o(e)),!e||!e.length)return _r_(new s(function(e){_i_("65cb:8dee672b1"),e(),_r_()}));if(t)r=u(e).top-_;else{var a=function(e,t){if(_i_("65cb:9200966d1"),0===e.height())return _r_(null);var n=u(e),i=function(){_i_("65cb:73f450651");var e=c.scrollTop();return _r_({top:e,bottom:e+f()})}(),r=n.top<i.top,_=n.bottom>i.bottom,a=e.outerHeight()+t>f();return _r_(r||_?a||r?n.top-t:n.bottom+t-f():null)}(e,_);null===a&&(a=c.scrollTop()),r=a}return _r_(this.scrollToOffset(r,n))},scrollToOffset:function(e,_){_i_("65cb:161038fe1"),l.stop(!0);var a=c.scrollTop(),o=e;return _r_(new s(function(e){var t,n,i,r;_i_("65cb:5e09766a1"),Math.abs(a-o)<5?e():(t=a,n=o,i=_,r=e,_i_("65cb:fafb30c71"),l[0].progress=0,l.animate({progress:1},{step:function(e){_i_("65cb:3800b4531"),c.scrollTop(t+e*(n-t)),_r_()},duration:"number"==typeof i?i:d,easing:"function"==typeof jQuery.easing.easeInOutExpo?"easeInOutExpo":"swing",complete:r}),_r_()),_r_()}))}})}),B.when({condition:"hotel"==B.env.b_action&&B.env.b_hotel_is_in_free_breakfast_experiment&&B.env.b_source_page&&"searchresults"==B.env.b_source_page}).run(function(e){_i_("65cb:0354baa2"),e("et").goalWithValue("js_genius_hotel_page_opened",1),_r_()}),B,_i_("65cb:bd28714a"),B.define("component/hotel/room-page",function(e,t,n){_i_("65cb:6476674a");var a=e("jquery"),o=e("querystring"),i=e("component"),r=e("persistent-view"),s=e("hotel/roomstable").RT,_=e("server-data"),c=e("et"),l=e("hotel/roomstable/c360"),d=e("persistent-view/tabbed-nav-setup"),u=null,f=Number(_.fe_exp_rsw_m_hp_rt_horizontal_scroll||0),b=e("hotel/room_preferences/horizontal_rate_preference/utils"),h="MCIAFKKHYYfPNQAFNSbeZVaPdLYXLO",p=Number(_.fe_exp_rsw_m_hp_rt_disable_greyed_card||0),m=!1;if(_&&_.b_hotel_chains)for(var M=0;M<_.b_hotel_chains.length;M+=1)0<_.b_hotel_chains[M].b_adf_id&&(m=!0);var v={load:function(){_i_("65cb:0261a3de");var e=this.name,t=o.parseUrl(location.href).query.selected_rate;if(!t){var n=e.match(/room_(\d+)_/);n&&1<n.length&&(t=n[1])}var i=a("#"+t);t&&i.length||(i=a(".room[data-fullpage-id="+e+"]").first());var r=s.room(i);if(f){var _=b.getPrimaryBlockId(t);i=a("#"+_),r=s.room(_)}i.length&&setTimeout(function(){_i_("65cb:662d3bea"),t&&t.startsWith("tpi_room_block")?B.events.on(B.eventNames.TPI_MDOT_BLOCK_LOADED,function(){_i_("65cb:037230dd"),r.expand(i.find("[data-expansion-trigger]")),u=r,_r_()}):(r.expand(i.find("[data-expansion-trigger]")),u=r),_r_()},1),_r_()},destroy:function(){_i_("65cb:e52eea1c"),d.closeTabbedNav(),u&&(u.fold(),u=null),_r_()}};a("div[data-room-page-id]").each(function(){_i_("65cb:4c69a833");var e=a(this),t=e.data("roomPageId");t&&(e.attr("data-tab-id",t),r.register(t,Object.assign({},d.config,v))),_r_()}),n.exports=i.extend({init:function(){_i_("65cb:0eb8b03f");var e=this.$el.attr("data-block-id");if(this.roomPageId=this.$el.data("fullpageId"),e&&e.startsWith("tpi_room_block"))return _r_();e?(this.roomInstance=s.room(e),this.$expansionTrigger=this.$el.find("[data-expansion-trigger]"),this.$expansionTrigger.length?this.$expansionTrigger.on("click",this._onTriggerClick.bind(this)):this.$el.on("click",this._onTriggerClick.bind(this))):B.env.b_dev_server&&console.error("[DEV] Error while init room page component: `data-block-id` is missing!"),m&&c.stage(h,1),_r_()},_onTriggerClick:function(e){_i_("65cb:76f4efa9");var t,n=a(e.target),i=n.closest(".room").attr("id");if(this.roomInstance.$room.attr("id")===i&&this.roomInstance.blockId===i||(this.roomInstance.blockId=i,this.roomInstance.$room.attr("selector","#"+i)),m&&c.stage(h,2),this.roomInstance.$room&&this.roomInstance.$room[0].classList.contains("rt-filters__card-not-on-filter")&&(c.stage("aaMRYBENNQAWTHNMPZMIPPbdbRe",3),c.stage("aaMRYBENNQAWTHNMPZMIPPbdbRe",4),p))return _r_();t=this.roomInstance.blockId,_i_("65cb:fa986cfc"),l.track(l.actions.rpTrigger,{blockID:t}),_r_(),u=this.roomInstance,this.roomInstance.expand(n),_r_()}}),_r_()}),_r_(),function(R,A){_i_("65cb:245b1e03"),A.define("hotel/room-page",function(l,e,t){_i_("65cb:8bb1f7d3");var b=l("et"),_=l("bmod/swipe_gallery"),h=l("server-data"),n=l("promise"),p=l("fragment"),o=l("events"),a=h.b_room_blocks_json||{},s=l("hotel/gallery/view-counter"),m=l("store/meal_plan"),c=l("hotel/room_preferences/horizontal_rate_preference/utils");if(h.b_feature_running_KILLSWITCH_RSWEB_VITALS)var d=l("hotel/room-table/c360"),r=0,i=0,u=0,f=0;var M=b.track("aaMRYBENYBUJcbTdZWTNFbFTWcOfdFGePEIEYXT");if(M)var v=l("trap-focus");var g,w=R("body"),B=R(".js-fpd-close-btn"),y={preload:2,circular:!0},k=l("hotel/tpi/data-api"),E=l("hotel/roomstable/bundles/helpers"),C=!1;if(h&&h.b_hotel_chains)for(var N=0;N<h.b_hotel_chains.length;N+=1)0<h.b_hotel_chains[N].b_adf_id&&(C=!0);var T=Boolean(Number(A.env.fe_report_cgs_and_stages_m_hp_mf_rt)),j=Number(A.env.fe_exp_rsw_m_hp_rt_horizontal_scroll),S=Number(A.env.fe_rsp_aa_exp_stage);function x(e){_i_("65cb:10a765b0"),this.$container=e,this.roomId=this.$container.data("roomId"),this.roomPageId=this.$container.data("tabId"),this.blockId="",this.roomPageId&&this.roomPageId.startsWith&&this.roomPageId.startsWith("room_tpi")&&this.initGallery(),this.init(),_r_()}function I(){_i_("65cb:b9748765"),w.removeClass("modal-tab-overlay"),B.addClass("g-hidden"),w.off("touchmove.modal"),A.events.off("tabbed_nav:reset_done",I),_r_()}function O(e,n,t){_i_("65cb:82c07ea0");try{var i=E.blockIdToBlockObject(t)}catch(e){throw b.customGoal("aaOYWPDSFbWHWXFZEVWDAEO",1),e}var r={tmpl:"room_page",room_ids:[n],hotel_id:A.env.b_hotel_id,max_persons:e.data("maxPersons")?Number(e.data("maxPersons")):void 0,search_config:A.env.b_search_config||{},checkin:A.env.b_checkin_date,checkout:A.env.b_checkout_date,other_available_room_ids:A.env.b_available_room_ids||[],bundle_service_mapping:h.bundle_service_mapping,block_id:t,bundle_id:i.bundleId,is_soldout:e.data("is_soldout")||0},_=[];R.each(h.b_blocks_by_id,function(e,t){if(_i_("65cb:b1cbaf71"),t.b_room_id!==n)return _r_();_.push(t.b_bundle_id),_r_()}),r.bundle_ids=R.unique(_),h.b_hiding_existing_beds&&(r.hide_existing_bed_rules=1),e.data("non_included_children")&&(r.non_included_children=e.data("non_included_children"));var a=e.data("children_in_existing_beds"),o=e.data("can_fit_them_all"),s=e.data("fit_rules_num_shared"),c=e.data("fe_room_type_counter"),l=e.data("is_perfect"),d=e.data("children_in_existing_beds_message"),u=e.data("existing_bed_max_age"),f=e.data("child_supplement_ages")?e.data("child_supplement_ages").toString().split(","):[];return r.extra_for_highlights={b_has_valid_dates:A.env.b_has_valid_dates||0,children_in_existing_beds:a?Number(a):0,can_fit_them_all:o||0,fit_rules_num_shared:s||0,fe_room_type_counter:c||0,is_perfect:l||0,children_in_existing_beds_message:d||"",existing_bed_max_age:u||0,child_supplement_ages:f||[],with_privacy_level:1},_r_(p.call("room.page",r))}x.prototype.init=function(){_i_("65cb:e60e3c9c");var e=this;this.$container.on("click",".js-m_rt_fullpage__reserve-btn",function(){_i_("65cb:6b39bca6"),C&&b.customGoal("MCIAFKKHYYfPNQAFNSbeZVaPdLYXLO",4),A.events.emit(A.eventNames.RT_ROOM_SUBMIT_FPD,{roomsPage:e}),_r_()}),this.$container.on("click",".js-rt_select_btn",function(){_i_("65cb:5679a713");var e=R(this).parents(".js-m_rt_fullpage__room").data("blockId"),t=R("#"+e);A.events.emit(A.eventNames.RT_ROOM_SELECT_FPD,{$room:t}),_r_()}),this.$container.find(".m_rp_modal_wrapper_content").on("scroll",function(e){_i_("65cb:ee9ff6f2"),A.eventEmitter.emit(A.eventNames.RT_ROOM_SCROLLS,e),_r_()}),_r_()},x.prototype.load=function(e){_i_("65cb:05efeece"),this.isModalOpened=!0,this.showModal(),this.blockId=e;var o=this.roomId,s=this.scrollRatesToViewport,c=this.$container.find(".js-rooms-page-loading");if(b.track("aaMRYBENYBUJcbTdZWTNFbFTWcOfdFGePEIEYXT")){var t=this.$container[0].querySelector(".js-rdp-modal-close-cta");t&&t.focus()}if(function(e){if(_i_("65cb:d3d71e90"),!j&&(b.stage("aaMRYBENNFPbeAZWESOYDLZaKe",1),a[e])){var t=a[e].preferences;t&&(b.stage("aaMRYBENNFPbeAZWESOYDLZaKe",2),t.numberOfGuests&&b.stage("aaMRYBENNFPbeAZWESOYDLZaKe",3),t.bedPreference&&b.stage("aaMRYBENNFPbeAZWESOYDLZaKe",4),t.floorPreference&&b.stage("aaMRYBENNFPbeAZWESOYDLZaKe",5),t.smokingPreference&&b.stage("aaMRYBENNFPbeAZWESOYDLZaKe",6))}_r_()}(e),c.data("loaded"))return 0<j&&s(o),_r_(n.resolve());if(this.roomPageId&&this.roomPageId.startsWith&&this.roomPageId.startsWith("room_tpi"))return _r_(this._loadTPIFullpageAsync(this.$container));var l=this.$container;return A.events.emit(A.eventNames.RT_ROOM_BEFORE_LOAD,{fullpage:this}),_r_(O(l,this.roomId,this.blockId).then(function(e){if(_i_("65cb:5198d96f"),c.data("loaded"))return _r_();c.data("loaded",!0).html(e),"1"===h.fe_has_at_least_one_rate_with_breakfast_included&&b.stage("ZOVVIOMOcIScdMYbdbVDZHFEQC",3);var t=l.find("[data-rp-source-id]");if(0===t.length&&"function"==typeof A.squeak&&A.squeak("ZdfaRIZUdSUHTRQDYBWDDZdUWBDHC"),t.each(function(){_i_("65cb:ab84b794");var e=R(this);l.find("[data-rp-dest-id="+e.attr("data-rp-source-id")+"]").replaceWith(e.children()),e.remove(),_r_()}),1==Number(h.fe_exp_variant_rsw_m_rt_hs_bed_config_display)?l.find(".js-rsx-m-bed-display-experiment-on-one").removeClass("g-hidden"):2==Number(h.fe_exp_variant_rsw_m_rt_hs_bed_config_display)?l.find(".js-rsx-m-bed-display-experiment-on-two").removeClass("g-hidden"):l.find(".js-rsx-m-bed-display-experiment-off").removeClass("g-hidden"),j&&b.stage("aaMRYBdQAFcSLceFccRMANdSSLT",8),0<j&&Number(h.fe_exp_rsw_m_rdp_hs_blackout_search_box)){l.find(".js-rt_full_page_room_header__hotel_name").removeClass("bui-spacer--medium"),l.find(".js-rt_full_page_room_header__description").hide(),l.find(".js-m_rp_room_description_block").show();var n=l.find("#m-rt-full-page-search-details");n.show();var i=n.find(".js-m_rt_fullpage__search_details_nights");if(i)if(h.b_checkin_checkout_interval_in_weeks){var r=h.b_checkin_checkout_interval_in_weeks;i.replaceWith(A.jstmpl.translations("bh_av_calendar_num_weeks",r,{num_weeks:r}))}else{var _=h.b_checkin_checkout_interval;i.replaceWith(A.jstmpl.translations("av_calendar_num_nights",_,{b_num_nights:_}))}}else{var a=w.find("#hp_change_dates");l.find(".js-m_rt_fullpage__change_dates_placeholder").replaceWith(a.clone()),Boolean(Number(h.fe_simple_date_change))&&l.find(".js-hp-availability").find(".hp-availability--title--change").remove()}A.et.initAttributesTracking(c),window.BUI.initComponents(c.get(0)),c.loadComponents(),0<j&&s(o),b.stage("aaOYWPDSFbWHWXFZEVJRSTIPCUDXKe",1),b.stage("aaOYWPDSFbWHWXFZEVJRSTIPCUDXKe",S+1),_r_()},function(){_i_("65cb:05018d30"),"function"==typeof A.squeak&&A.squeak("ZdfaRIZXZCYGMGRNLWMVbXEQC"),b.customGoal("aaOYWPDSFbWHWXFZEVWDAEO",1),_r_()}))},x.prototype.updateGallery=function(e){_i_("65cb:283d5c82");var t=this.$container.find(".js-m_rt_fullpage__gallery-container");if(e&&e.blockId){var n=this.$container.find('.js-m_rt_fullpage__room[data-block-id="'+e.blockId+'"]');if(0<n.length&&n.data("breakfastIncluded")){var i=n.find(".js-room-header__subtitle--mealplan").html();t.find(".js-breakfast-included-gallery-overlay").html(i)}}_r_()},x.prototype.initGallery=function(){_i_("65cb:350ff987");var a=this.$container,e=a.find(".js-m_rt_fullpage__gallery-container");if(!this.gallery&&e.length){var t=e.find(".js-m_rt_fullpage__gallery");if(t&&t.length){var n=Object.assign({},y,{el:t});this.gallery=new _(n),this.gallery.on("switched",function(e,t,n){_i_("65cb:b6cc16f1"),R(".swpg__prev, .swpg__next").css("position","absolute");var i=t,r=n.data("id"),_=a.data("room-id");o.emit(o.EVENTS.ROOM_LIGHTBOX_GALLERY_NAVIGATED,r,i,_),_r_()}),this.gallery.on("action",function(e,t){_i_("65cb:62a455f3"),"switchTo"===t&&(b.goal("hp_lb_gallery_clicks_arrows"),h.b_feature_running_KILLSWITCH_RSWEB_VITALS&&1===(u+=1)&&d.track(d.eventsMap.ROOM_DETAILS_PAGE_MODAL_GALLERY_INTERACTION)),_r_()});var i=new s(this.gallery.items.length),r=this.gallery.items.map(function(e){return _i_("65cb:d31f5620"),_r_({image_id:e.id,image_position:e.index})});o.emit(o.EVENTS.ROOM_LIGHTBOX_GALLERY_PHOTOS_DISPLAYED,r,this.roomId),i.view(0),this.gallery.on("switch",function(e,t){_i_("65cb:381b0850"),i.view(t),_r_()}),i.events.on(s.VIEWED_ALL_EVENT_NAME,function(){_i_("65cb:bd763f4d"),b.goal("hp_lb_viewed_all_gallery_photos"),_r_()})}}_r_()},x.prototype.updateMealPlanInformation=function(e){if(_i_("65cb:47d46504"),e&&e.blockId&&e.$room){var t=this.$container,n=this.$container.find('.js-m_rt_fullpage__room[data-block-id="'+e.blockId+'"]');0<n.length&&n.data("breakfastIncluded")?(t.find(".js-breakfast-included").addClass("visible"),t.find(".js-breakfast-available").removeClass("visible"),t.find(".js-no-breakfast-available").removeClass("visible")):(t.find(".js-breakfast-included").removeClass("visible"),A.env.breakfastAvailable?(t.find(".js-breakfast-available").addClass("visible"),t.find(".js-no-breakfast-available").removeClass("visible")):(t.find(".js-no-breakfast-available").addClass("visible"),t.find(".js-breakfast-available").removeClass("visible")));var i=this.$container.find(".js-meal-plan-server-data").data(),r=h.fe_breakfast_available_in_any_block;if(i){var _=r,a=i.mealPlanHasLunch,o=i.mealPlanHasDinner,s=i.mealPlanBreakfastPrice,c=i.mealPlanLunchPrice,l=i.mealPlanDinnerPrice,d=i.mealPlanClasses,u=0,f=0,b=0;m.dispatch({type:"INIT_MEAL_INFO",payload:{classes:d,hasBreakfast:_,hasLunch:a,hasDinner:o,breakfastPrice:s,lunchPrice:c,dinnerPrice:l,breakfastIncluded:u,lunchIncluded:f,dinnerIncluded:b}}),n.length?(u=n.first().data("breakfastMealIncluded"),f=n.first().data("lunchMealIncluded"),b=n.first().data("dinnerMealIncluded"),m.dispatch({type:"UPDATE_MEAL_INCLUDED",payload:{breakfastIncluded:u,lunchIncluded:f,dinnerIncluded:b}})):m.getState()&&!m.getState().hasBreakfast&&t.find(".js-breakfast-details-section").addClass("hidden")}}_r_()},x.prototype.upsortSelectedRate=function(e){_i_("65cb:c6fcbfe8");var t=e.$room.data("block-id"),n=".js-m_rt_fullpage__room[data-block-id="+t+"]",i=".js-m_rt_fullpage__excluded-row[data-linked-id="+t+"]",r=this.$container.find(n+","+i);if(0===r.length||0===r.index())return _r_();r.prependTo(this.$container.find(".js-m_rt_fullpage__table")),_r_()},x.prototype.updateOccupancy=function(e){_i_("65cb:6c573472");var t=this.$container.find(".js-m_rp_room_highlights_block_occupancy"),n=this.$container.find('.js-m_rt_fullpage__occupancy[data-block-id="'+e+'"]');t.length&&n.length&&t.html(n.html()),_r_()},x.prototype.expandRoom=function(e){_i_("65cb:4b7d8feb"),this.roomInstance=e,this.initGallery(),this.upsortSelectedRate(e),this.updateOccupancy(e.blockId),this.updateMealPlanInformation(e),this.roomPageId&&this.roomPageId.startsWith&&this.roomPageId.startsWith("room_tpi")&&this.showModal(),this.updateGallery(e),w.on("touchmove.modal",function(){_i_("65cb:a751c137"),l("tooltip").hideAll(),_r_()});var t=this.$container.find(".m_rp_modal_wrapper_content");t.scrollTop(0),this.roomPageId&&this.roomPageId.startsWith&&this.roomPageId.startsWith("room_tpi")&&A.events.off("tabbed_nav:reset_done",I).on("tabbed_nav:reset_done",I);var n=e.$room.data("block-id");if(function(e,t){if(_i_("65cb:2baaaaad"),isNaN(e))return _r_();var n={hotel_id:A.env.b_hotel_id,room_id:e,block_id:t};if(t in a){var i=a[t],r={roomtype_id:Number(i.roomTypeId),propertytype_id:Number(A.env.b_accommodationtype_id||0),payment:"prepayment_needed",max_persons:Number(i.maxPersons)};"cancellationType"in i&&(r.cancellation_policy=i.cancellationType),"mealplanVector"in i&&(r.mealplan=Number(i.mealplanVector)),"packageId"in i&&(r.package_id=i.packageId),"priceEuroPerNight"in i&&(r.price_eur=Number(i.priceEuroPerNight)),"noPrepayment"in i&&(r.payment="no_prepayment"),Object.assign(n,r)}R.ajax({method:"POST",dataType:"json",url:"/hotel_lightbox_opened",data:n}),_r_()}(this.roomId,n),this.gallery&&this.gallery.updateStageSize&&this.gallery.updateStageSize(),T&&b.stage("OMBUOAIbGGO",5),0<j&&this.moveRatesToModal(),A.events.emit(A.eventNames.RT_ROOM_PAGE_LOADED),M&&v.trap(this.$container[0]),h.b_feature_running_KILLSWITCH_RSWEB_VITALS&&(1===(r+=1)?d.track(d.eventsMap.ROOM_DETAILS_PAGE_MODAL_OPEN_COUNTER_1):d.track(d.eventsMap.ROOM_DETAILS_PAGE_MODAL_OPEN_COUNTER_2_OR_MORE),0===f&&!this.accordion)){var i=this;this.accordion=t[0].querySelector(".js-rdp-accordion"),this.accordion.addEventListener("click",function e(t){_i_("65cb:2ce81bb3");f+=1;d.track(d.eventsMap.ROOM_DETAILS_PAGE_MODAL_ACCORDION_INTERACTION);i.accordion.removeEventListener("click",e);_r_()})}_r_()},x.prototype.moveRatesToModal=function(){if(_i_("65cb:28863c9e"),!(this.roomInstance&&this.roomInstance.$room)||!this.isModalOpened)return _r_();var e=this.roomInstance.$room[0],t=this.$container[0],n=e.querySelector(".js-horizontal-rates-container"),i=t.querySelector(".js-horizontal-rates-inside-rd-modal"),r=n.querySelector(".js-horizontal-rates-content"),_=r.getBoundingClientRect().height;(g=document.createElement("div")).style.backgroundColor="grey",g.style.height=_+"px",n.append(g),i.append(r),_r_()},x.prototype.moveRatesToRoom=function(){if(_i_("65cb:71b78413"),!(this.roomInstance&&this.roomInstance.$room))return _r_();var e=this.roomInstance.$room[0],t=this.$container[0],n=e.querySelector(".js-horizontal-rates-container"),i=t.querySelector(".js-horizontal-rates-inside-rd-modal").querySelector(".js-horizontal-rates-content");g&&g.remove(),n.append(i),_r_()},x.prototype.showModal=function(){_i_("65cb:eeb3317e"),w.addClass("modal-tab-overlay"),B.removeClass("g-hidden"),_r_()},x.prototype.foldRoom=function(){if(_i_("65cb:3ecb7fd7"),w.removeClass("modal-tab-overlay"),B.addClass("g-hidden"),0<j&&this.moveRatesToRoom(),0<j&&setTimeout(function(){_i_("65cb:5d40599a"),o.trigger("room.details.page:closed"),_r_()},0),this.isModalOpened=!1,b.track("aaMRYBENYBUJcbTdZWTNFbFTWcOfdFGePEIEYXT")){var e=document.querySelector('.js-room-card[data-block-id="'+this.blockId+'"]'),t=e&&e.querySelector(".js-rt-room-title");t&&t.focus()}h.b_feature_running_KILLSWITCH_RSWEB_VITALS&&(1===(i+=1)?d.track(d.eventsMap.ROOM_DETAILS_PAGE_MODAL_CLOSE_COUNTER_1):d.track(d.eventsMap.ROOM_DETAILS_PAGE_MODAL_CLOSE_COUNTER_2_OR_MORE)),M&&v.release(),_r_()},x.prototype.scrollRatesToViewport=function(e){_i_("65cb:9ca7a431");var t=c.getSelectedBlockIdFromRoomId(e);if(t){var n=R(".rt-blocks-selection-"+e),i=n.find(".js-rt-rate"),r=R(".js-rt-rate-id-"+t),_=i.index(r),a=i.eq(0).outerWidth();n.scrollLeft(_*a)}_r_()},x.prototype._loadTPIFullpageAsync=function(s){_i_("65cb:4625eb55");var c=this;return _r_(new n(function(o,e){_i_("65cb:d10de71e"),l("async-loader").load({js:"async_tpi_fullpage_details_js"}).then(function(){_i_("65cb:c967418c");var i,e,t=l("component/tpi/room_block/fullpage_details"),n=l("component/tpi/room_block/tmpl_data"),r=s.find(".js-rooms-page-loading"),_=s.data("roomId").split("_")[3],a=h.wholesaler_configuration.tpiRoomData[_];r.data("loaded")||(b.track("PPXGWPHDDPZPNZFeeSdPXMPZdUWPaeKKe")||k.setShownFacilities(a.roomData),i=R.extend({room_block:a.roomData,fe_block_id:"",exps:a.exps,fe_exp_copy_mdot_rs_roomlist_next_step_clarity:h.fe_exp_copy_mdot_rs_roomlist_next_step_clarity},n),r.html(l("jstmpl")("tpi_fullpage_details").render(i)).data("loaded",1).loadComponents(),window.BUI.initComponents(r.get(0)),(e=new t).prepare({el:r[0],$el:r}),e.init&&e.init({roomData:a.roomData,exps:a.exps}),(b.track("PPXGWPHDDPZPNZFeeSdPXMPZdUWPaeKKe")?i.room_block.room_description.use_mapped_facilities:i.room_block.room_description.fe_use_mapped_facilities)&&O(s,a.roomData.room_description.booking_room_id).then(function(e){_i_("65cb:8e6351b4");var t=R(e).find(".js-meal-plan-server-data, .room-facilities-accordion");t.find("#crib-extra-bed-policies-acc").parent().remove(),t.find(".m_hp_rt_bed_size_block__title").replaceWith(l("jstmpl")("tpi_bed_config").render({room_block:i.room_block,fe_show_property_select_copy:1,fe_family_search:A.env.b_search_config.b_children_total,fe_is_mdot:1,fe_show_beds_label:b.track("PPXGWPHDDPZPNZFeeSdPXMPZdUWPaeKKe")?"weird":1})),b.track("PPXGWPHDDPZPNZFeeSdPXMPZdUWPaeKKe")&&t.find(".m-rs-bed-display").remove();var n=r.find("#fullpage-details-tpi");n.append(t).removeClass("tabbed-nav--loader"),A.et.initAttributesTracking(t),window.BUI.initComponents(n.get(0)),t.loadComponents(),c.roomInstance&&c.updateMealPlanInformation(c.roomInstance),_r_()},function(){_i_("65cb:47793699"),"function"==typeof A.squeak&&A.squeak("ZdfaRIZXZCYGMGRNLWMVbXEQC"),_r_()})),b.stage("aaOYWPDSFbWHWXFZEVJRSTIPCUDXKe",1),b.stage("aaOYWPDSFbWHWXFZEVJRSTIPCUDXKe",S+1),o(),_r_()},function(){_i_("65cb:2c68019a"),e(),_r_()}),_r_()}))},t.exports=function(e){_i_("65cb:9bf96631");var t=R('.js-m_rt_fullpage__container[data-tab-id="'+e+'"]'),n=t.data("fullpage");return n||(n=new x(t),t.data("fullpage",n)),_r_(n)},_r_()}),_r_()}(jQuery,booking),function(h){_i_("65cb:38e99253"),h.define("hotel/room-page/capla",function(e,t,n){_i_("65cb:28193bf1");var i=e("with-capla"),r=e("et"),_=e("server-data"),a={hashNoPrice:"aaOYWPDSFbWHWXFZEVWDAEO",hashWithPrice:"aaOYWPDSFbWHWXFZEVWCPbKe",debugHashNoPrice:"aaOYWPDSFbWHWXFZEVWDAdMEbZC",debugHashWithPrice:"aaOYWPDSFbWHWXFZEVWCPbfDIUHe",RT_OPEN_ROOM_PAGE:"CAPLA_EVENT_property-web_property-page_RT_OPEN_ROOM_PAGE",CAPLA_RP_READY:"CAPLA_EVENT_property-web_property-page_CAPLA_RP_READY",AFF_RP_READY:"CAPLA_EVENT_property-web_property-page_AFF_RP_READY",eventBus:null,queuedEvent:null,hasSentBeacon:!1,caplaIsReady:!1},o=c()&&Boolean(r.track(a.hashWithPrice))||l()&&Boolean(r.track(a.debugHashWithPrice));function s(){return _i_("65cb:8135eb93"),_r_(Boolean(_.fe_hp_rt_is_no_dates||_.fe_hp_rt_is_soldout))}function c(){return _i_("65cb:ae4a090e"),_r_(Boolean(!_.fe_hp_rt_is_no_dates&&!_.fe_hp_rt_is_soldout&&_.fe_eligible_for_capla_room_table))}function l(){return _i_("65cb:ccce69ed"),_r_(Boolean(!_.fe_hp_rt_is_no_dates&&!_.fe_hp_rt_is_soldout))}function d(){return _i_("65cb:a2a98565"),_r_(s()&&Boolean(r.track(a.hashNoPrice))||o)}function u(){_i_("65cb:ca4679c5"),a.queuedEvent&&a.caplaIsReady&&(a.eventBus.publish(a.queuedEvent.eventName,a.queuedEvent.payload),a.queuedEvent=null),_r_()}function f(){_i_("65cb:7b892728"),"hidden"===document.visibilityState&&a.queuedEvent&&!a.hasSentBeacon&&(a.sendCustomGoalBeacon(a.hashNoPrice,4),a.hasSentBeacon=!0,document.removeEventListener("visibilitychange",f)),_r_()}function b(e){_i_("65cb:6be5b22c"),_.fe_rp_report_errors_feature&&"function"==typeof h.reportError&&h.reportError(new Error(e)),_r_()}a.debugLog=function(){return _i_("65cb:574938b6"),(r.track(a.debugHashNoPrice)||r.track(a.debugHashWithPrice))&&console.log.apply(console,arguments),_r_(arguments[0])},a.kickstart=function(){_i_("65cb:9f8ea18f"),a.debugLog("Aff: starting capla room page integration");document.addEventListener("visibilitychange",f),i("property-web","property-page",function(e){_i_("65cb:4e5cd74a"),a.eventBus=e.eventBus,a.debugLog("Aff: subscribing to CAPLA_RP_READY"),a.eventBus.subscribeOnce(a.CAPLA_RP_READY,function(){_i_("65cb:a6cd4e46"),a.debugLog("Aff: received CAPLA_RP_READY"),a.caplaIsReady=!0,u(),_r_()}),a.eventBus.publish(a.AFF_RP_READY),_r_()})(),$&&0===$('[data-capla-component-boundary="b-property-web-property-page/RoomPageMobile"]').length&&b("RoomPageMobile: Capla element not present in the page while in variant"),_r_()},a.sendCustomGoalBeacon=function(e,t){_i_("65cb:4e33a67d");try{var n="";window.B&&window.B.jset&&window.B.jset.m&&(n="&m="+encodeURIComponent(window.B.jset.m));var i="&etcg="+e+"|"+t;window.navigator.sendBeacon(h.env.js_tracking_url+n+i)}catch(e){}_r_()},d()&&a.kickstart(),n.exports={openRoomPage:function(e,t){_i_("65cb:847aaafd");var n={hotelId:_.b_hotel_id,roomId:e,blockId:t,variant:function(){if(_i_("65cb:e627144a"),_.fe_hp_rt_is_soldout)return _r_("soldout");if(_.fe_hp_rt_is_no_dates)return _r_("no-dates");if(_.fe_eligible_for_capla_room_table)return _r_("default");return _r_("default")}(),activeFilters:function(){_i_("65cb:7d4fe285");var e=$(".rt-filters--tag__selected"),o=[];return e.each(function(e,t){_i_("65cb:e4a21a26");var n=$(t).attr("data-filter-key"),i=$(t).attr("data-filter-value"),r=$(t).attr("data-filter-id"),_=$(t).attr("data-filter-multiple"),a="";if("occupancy_count"===n)if("fit"==i)a="fit";else try{a=(i=JSON.parse(i)).maxAdults+"-"+i.maxChildren}catch(e){}else a="bed_count"===n?i:r;o.push({id:a,category:n,isMultiple:_}),_r_()}),_r_(o)}()};if(a.debugLog("Aff: request to open hotel "+n.hotelId+" with room "+n.roomId),a.caplaIsReady)a.eventBus.publish(a.RT_OPEN_ROOM_PAGE,n);else{a.queuedEvent={eventName:a.RT_OPEN_ROOM_PAGE,payload:n};var i=setInterval(function(){_i_("65cb:9ea316f4"),u(),a.queuedEvent||(clearInterval(i),i=null),_r_()},1e3)}_r_()},meetPreconditionsCaplaRpNoPrice:s,meetPreconditionsCaplaRpWithPrice:c,meetPreconditionsCaplaRpWithPriceDebug:l,shouldUseCaplaRp:d,reportExperimentError:b,trackRpTriggeredNoPrice:function(){_i_("65cb:b793a2da"),r.stage("aaOYWPDSFbWHWXFZEVWDAEO",3),r.stage("aaOYWPFLFacbYDJQDJBPEYKe",2),_.fe_hp_rt_is_soldout&&r.stage("aaOYWPDSFbWHWXFZEVWDAEO",8),_.fe_hp_rt_is_no_dates&&r.stage("aaOYWPDSFbWHWXFZEVWDAEO",9),_r_()}},_r_()}),_r_()}(booking),function(f){"use strict";_i_("65cb:f680ffb1"),f.require(["require"],function(a){_i_("65cb:05d5051f");var o,s=a("jstmpl"),c=a("jquery"),l=a("promise"),d=a("async-loader"),u=a("events");u.on(f.eventNames.RT_ROOM_EXPAND,function(e){if(_i_("65cb:f67efa46"),e.fullpage&&"room_tpi_fullpage"!=e.fullpage.roomId){var i=e.fullpage,r=i.$container.find(".js-room-positive-review-container");if(r.length&&!r.hasClass("loaded")&&!r.data("reviewIsLoading")){r.data("reviewIsLoading",!0);var t=e.fullpage.roomId;l.all([(n=t,_i_("65cb:a2b5603b"),_r_((_=n,_i_("65cb:b0e249f6"),_r_(c.ajax({url:"/multiple_positive_room_reviews",type:"GET",data:{aid:f.env.b_aid,hotel_id:f.env.b_hotel_id,room_id:_,lang:f.env.b_lang}}))))),d.load({js:"async_room_reviews_carousel_js",css:"async_room_reviews_carousel_css"})]).then(function(e){_i_("65cb:07b121a9");var t=e[0];if(!t||!t.length)return r.addClass("loaded--empty"),_r_();var n=function(e,t){_i_("65cb:fd14e5ca"),function(_){if(_i_("65cb:76f18d94"),o||!_||!_.gallery)return _r_();_.gallery.on("switched",function(e,t,n,i){if(_i_("65cb:6524118f"),!i)return _r_();var r=_.$container.find(".m_hp_rt_reviews_carousel.loaded");r.trigger("reviews:switch",i),u.emit("room_review:switch",r),_r_()}.bind(this)),_r_()}(t),e&&1<e.length?(_i_("65cb:1bd80940"),u.on("reviews:rendered",function(e){_i_("65cb:13e73d6b");var t=e.$review;t.find(".js-m_rt_fullpage-review__next_review").on("click",function(){_i_("65cb:94385957"),t.trigger("reviews:switch","next"),u.emit("room_review:switch",t),_r_()}),t.find(".js-m_rt_fullpage-review__prev_review").on("click",function(){_i_("65cb:4e9d5403"),t.trigger("reviews:switch","prev"),u.emit("room_review:switch",t),_r_()}),_r_()}),_r_()):t.$container.find(".js-room-positive-review-container").addClass("room-positive-review-container__single");return _r_(function(e,t){_i_("65cb:ed5a3a3c");var n=a("component/review-carousel-mobile"),i=s("m_hp_rt_reviews_carousel"),r=c(i.render({b_room_id:t}));return new n({$el:r,reviews:e}),_r_(r)}(e,t.roomId))}(t,i);if(!n)return _r_();r.append(c(n)).loadComponents(),_r_()}).then(function(){_i_("65cb:96f13e44"),r.addClass("loaded"),u.emit(f.eventNames.RT_ROOM_REVIEW_LOADED,{$reviewContainer:r,roomsPage:i}),_r_()})}}var n,_;_r_()}),_r_()}),_r_()}(booking),function(e){_i_("65cb:b94eb420"),e.require(["require"],function(e){_i_("65cb:a8171c5b");var n=e("et"),t=e("events"),i=e("server-data"),r={},_=!1,a=!1;t.on(t.EVENTS.RT_ROOM_EXPAND,function(e){if(_i_("65cb:2f5ead0d"),a&&_||!e||!e.roomInstance||!e.roomInstance.blockId||(r&&r[e.roomInstance.blockId]?r[e.roomInstance.blockId]+=1:r[e.roomInstance.blockId]=1,!a&&1<r[e.roomInstance.blockId]&&(n.goal("hp_lightbox_opened_more_than_once"),a=!0),!_&&1<Object.keys(r).length&&(n.goal("hp_lightbox_opened_for_different_rooms"),_=!0)),i&&!i.b_has_valid_dates&&(!a||!_)&&e&&e.roomInstance&&e.roomInstance.$room){var t=e.roomInstance.$room.data("roomId");if(!t)return _r_();r&&r[t]?r[t]+=1:r[t]=1,!a&&1<r[t]&&(n.goal("hp_lightbox_opened_more_than_once"),a=!0),!_&&1<Object.keys(r).length&&(n.goal("hp_lightbox_opened_for_different_rooms"),_=!0)}_r_()}),_r_()}),_r_()}(booking),function(e){_i_("65cb:8630a0d6"),e.require(["require"],function(e){_i_("65cb:5733c5e5");var t=e("et"),n=e("events");n.on(n.EVENTS.RT_ROOM_FOLD,function(){_i_("65cb:5d6e75b6"),t.goal("hp_rp_closed"),_r_()}),_r_()}),_r_()}(booking),function(i){_i_("65cb:608098b6"),i.require(["require"],function(e){_i_("65cb:49214da8");var r=e("jquery"),_=e("hotel/store"),a=e("hotel/roomstable/actions");function o(e){_i_("65cb:cf6d6b06");var t=i.env.b_domain_for_book+"/book.html",n=i.env.b_domain_for_book+"/request_to_book.html";e===t?r("input[name='rtb_type']").val("rtb"):e===n&&r("input[name='rtb_type']").val("inquiry"),_r_()}i.env.fe_is_rtb_eligible_v2&&r("#bookForm").on("submit",function(e){_i_("65cb:83e5f455");var t=_.getState().roomsTable;if(e.originalEvent&&e.originalEvent.submitter&&r(e.originalEvent.submitter).attr("formaction")){var n=r(e.originalEvent.submitter).attr("formaction");_.dispatch(a.setFormAction(n)),o(n)}else if(t.formAction){var i=t.formAction;e.preventDefault(),_.dispatch(a.setFormAction(null)),o(i),r("#bookForm").attr("action",i).submit()}_r_()}),_r_()}),_r_()}(booking),B.define("hotel/roomstable/bundles/helpers",function(e,t,n){_i_("65cb:17178461"),n.exports={getGroupIdFromBlockId:function(e){_i_("65cb:eef5acb9");var t=e.split("_"),n=t[0],i=t[1],r=t[2],_=t[4]?t[4]:"";return _r_(n+"_"+i+"_"+r+"__"+_)},blockIdToBlockObject:function(e){if(_i_("65cb:4ce70c54"),!e||"string"!=typeof e)return _r_({roomId:void 0,policyGroupId:void 0,occupancy:void 0,mealplan:void 0,packageId:void 0,bundleId:void 0,remainderString:void 0,groupId:void 0,blockIdWithoutBundle:void 0});for(var t=e.split("_"),n=t[0],i=t[1],r=t[2],_=t[3],a=t[4]?t[4]:"",o=t[5]?t[5]:"",s="",c=4;c<t.length;c+=1)s+="_"+t[c];return _r_({roomId:n,policyGroupId:i,occupancy:r,mealplan:_,packageId:a,bundleId:o,remainderString:s,groupId:n+"_"+i+"_"+r+"__"+a,blockIdWithoutBundle:n+"_"+i+"_"+r+"_"+_+"_"+a})},getUnitTypeFromRoomTypeId:function(e){_i_("65cb:7f3adb44");var t={1:"apartment",26:"bed",19:"bungalow",27:"bungalow",17:"chalet",28:"chalet",29:"holiday_home",30:"mobile_home",32:"mobile_home",4:"room",7:"room",8:"room",9:"room",10:"room",13:"room",21:"room",22:"room",23:"room",24:"room",25:"room",36:"room",37:"room",38:"room",39:"room",12:"studio",2:"suite",3:"suite",5:"suite",6:"suite",11:"suite",14:"suite",18:"suite",33:"tent",15:"unit",35:"unit",31:"villa"};return _r_(t[e]||t[4])}},_r_()}),B.define("hotel/roomstable/bundles/actions",function(e,t,n){_i_("65cb:4a153e89");var i={TYPES:{UPDATE_MEALPLAN:"UPDATE_MEALPLAN",UPDATE_ROOM_COUNT:"UPDATE_ROOM_COUNT",REMOVE_GROUP_SELECTION:"REMOVE_GROUP_SELECTION",REMOVE_MULTIROOM_UNIT:"REMOVE_MULTIROOM_UNIT",CHANGE_MULTIROOM_PLAN:"CHANGE_MULTIROOM_PLAN",SET_BUNDLE_RATES_EXPERIMENT:"SET_BUNDLE_RATES_EXPERIMENT",SET_CURRENT_SELECTION:"SET_CURRENT_SELECTION"},updateMealplan:function(e){return _i_("65cb:2bd27fb1"),_r_({type:i.TYPES.UPDATE_MEALPLAN,groupId:e.groupId,blockId:e.blockId,price:e.price,highlightText:e.highlightText})},updateRoomCount:function(e,t){return _i_("65cb:bd8b6efe"),_r_({type:i.TYPES.UPDATE_ROOM_COUNT,blockId:e,increase:t})},removeGroupSelection:function(e){return _i_("65cb:fc139ebd"),_r_({type:i.TYPES.REMOVE_GROUP_SELECTION,blockId:e})},removeMultiroomUnit:function(e,t){return _i_("65cb:063dad1f"),_r_({type:i.TYPES.REMOVE_MULTIROOM_UNIT,groupId:e,index:t})},changeMultiroomPlan:function(e){return _i_("65cb:1ca04bf1"),_r_({type:i.TYPES.CHANGE_MULTIROOM_PLAN,payload:e})},setBundleRatesExperiment:function(e){return _i_("65cb:59735dde"),_r_({type:i.TYPES.SET_BUNDLE_RATES_EXPERIMENT,bundleRatesExperimentVariant:e,isBundleRatesExperimentOn:Boolean(e)})},setCurrentSelection:function(e){return _i_("65cb:db66ba55"),_r_({type:i.TYPES.SET_CURRENT_SELECTION,payload:e})}};n.exports=i,_r_()}),B.define("hotel/roomstable/bundles/reducers",function(e,t,n){_i_("65cb:796895f6");var M=e("hotel/roomstable/bundles/helpers"),i=e("hotel/roomstable/bundles/actions"),v=e("server-data"),m=e("jstmpl").translations,g=e("jquery"),r=e("event-bus"),w=JSON.parse(JSON.stringify(v.b_room_blocks_json))||{},_=v.b_blocks_by_search_occupancy.b_fits_search_occupancy||[],a=v.b_blocks_by_search_occupancy.b_doesnt_fit_search_occupancy||[],y=_.concat(a),k=Number(v.fe_exp_rsw_m_hp_rt_horizontal_scroll)||0,E={ALL_INCLUSIVE:"all_inclusive",FULL_BOARD:"full_board",HALF_BOARD:"half_board",HALF_BOARD_DINNER:"half_board_dinner",HALF_BOARD_LUNCH:"half_board_lunch",BREAKFAST_INCLUDED:"breakfast_included"};function o(){_i_("65cb:b0e4e693");var e=v.fe_rt_bundles_mealplan;if(0<k||e<3)return _r_({isBundleRatesExperimentOn:!1});var s={},c={},t=[],_=[],a={},o={},l={},d={};for(var u in y.forEach(function(e){_i_("65cb:264edb62");var t,n,i,r,_,a,o=M.blockIdToBlockObject(e.b_id);0<o.bundleId.length&&(i=o,r=e.b_id,_i_("65cb:a4dc5eb5"),l[i.blockIdWithoutBundle]||(l[i.blockIdWithoutBundle]=[]),l[i.blockIdWithoutBundle].push({bundleId:i.bundleId,blockId:r}),_r_(),t=e.b_id,n=o.bundleId,_i_("65cb:ac1ff0fe"),d[t]=n,_r_()),_=o,a=e,_i_("65cb:358a5964"),s[_.groupId]||(s[_.groupId]=[]),s[_.groupId].push({mealplan:_.mealplan,remainderString:_.remainderString,bundleId:_.bundleId,roomBlock:a}),_r_(),c[o.groupId]={},_r_()}),s)if(s.hasOwnProperty(u)){var f,n=s[u],b=[],h=!1,p={};if(1<n.length){var m=u.split("__");f=m[0]+"_"+n[0].mealplan+n[0].remainderString,n.forEach(function(e){_i_("65cb:572d69af");var t,n,i=m[0]+"_"+e.mealplan+e.remainderString;t=f,n=i,_i_("65cb:ed2e37f8"),a[n]=t,o[t]||(o[t]=[]),o[t].push(n),_r_();var r=C(i,e.bundleId,e.roomBlock);b.push(r),p=Object.assign(p,r.fltrs),i===f?c[u].currentSelection=i:_.push("#"+i),h=Boolean(e.roomBlock.b_genius_free_breakfast),_r_()})}b.sort(function(e,t){_i_("65cb:a3aa05c1");var n=e.price.match(/\d+/g)[0],i=t.price.match(/\d+/g)[0];return _r_(parseInt(n)>parseInt(i)?1:-1)}),c[u]=c[u]||{},c[u].baseBlock=f,c[u].options=b,c[u].hasGeniusBreakfast=h,c[u].fltrs=p,t.push({baseBlock:f,options:b,key:u}),g("#"+f).attr("data-fltrs",JSON.stringify(p))}return r.emit(B.eventNames.RT_ROOM_BLOCKS_MERGED),_r_({groups:c,groupsArray:t,hiddenBlocks:_,blocksToBaseBlockHash:a,baseBlocksToBlockHash:o,bundleGroups:l,bundleBlockToBundleId:d,isBundleRatesExperimentOn:!0})}function C(e,t,n){_i_("65cb:1ee14970");var i=function(e,_){if(_i_("65cb:97683c83"),!e||!v.bundle_service_mapping)return _r_("");var t=v.bundle_service_mapping[e];if(!t||!t.services||0===t.services.length)return _r_("");var a="";return t.services.forEach(function(e,t){_i_("65cb:4df20898");var n=0!==t||_?"and_value_lc":"with_value_uc",i=e.name.variables||{},r="/"+e.name.tag.group+"/"+e.name.tag.element+"/"+n;a+=m(r,"",i),_r_()}),_r_(a)}(t,Boolean(n.mealplan_fake_board_name))||"",r=document.getElementById(e);if(!r)return _r_();var _,a=n.b_u_total_price,o=n.b_roomtype_id,s=function(e,t){{if(_i_("65cb:86c6a047"),e.mealplan_fake_board_name){var n="";return e.mealplan_fake_board_name===E.HALF_BOARD?(n=m("chains_rt_bundle_rates_tag_one_with","",{bundle_item_one:"breakfast"}),n+=m("chains_rt_bundle_rates_tag_two_and","",{bundle_item_two_plus:e.half_board_is_dinner?"dinner":"lunch"})):e.mealplan_fake_board_name===E.HALF_BOARD_DINNER?(n=m("chains_rt_bundle_rates_tag_one_with","",{bundle_item_one:"breakfast"}),n+=m("chains_rt_bundle_rates_tag_two_and","",{bundle_item_two_plus:"dinner"})):e.mealplan_fake_board_name===E.FULL_BOARD?(n=m("chains_rt_bundle_rates_tag_one_with","",{bundle_item_one:"breakfast"}),n+=m("chains_rt_bundle_rates_tag_two_and","",{bundle_item_two_plus:"lunch"}),n+=m("chains_rt_bundle_rates_tag_two_and","",{bundle_item_two_plus:"dinner"})):n=e.mealplan_fake_board_name===E.ALL_INCLUSIVE?m("/instay_addons/all-inclusive/with_value_uc"):m("chains_rt_bundle_rates_tag_one_with","",{bundle_item_one:e.mealplan_fake_board_name}),_r_(n+t)}return _r_(t||m("chains_bundled_rates_standard_rate"))}}(n,i),c=function(e){if(_i_("65cb:9796be0d"),!e||!w[e.id])return _r_("");var t=g(e).data("fltrs")||w[e.id].applicable_rt_filters||null;if(!t)return _r_("");for(var n="",i="",r=0,_=Object.entries(t);r<_.length;r++){var a=_[r],o=a[0];"all_inclusive"===o&&(i="all_inclusive"),"full_board"===o&&(i="full_board"),"half_board_dinner"===o&&(i="half_board_dinner"),"half_board_lunch"===o&&(i="half_board_lunch"),"breakfast_included"===o&&(n="breakfast_included")}return _r_(i||n)}(r),l=g(r),d=l.find(".js-room-cell-subtitle"),u=d.length&&d[0].outerHTML||"",f=l.find(".bui-price-display__original"),b="",h=!1;0<f.length&&(b=f.text().trim(),h=!0);var p=r.dataset.fltrs?JSON.parse(r.dataset.fltrs):{};return _=g(r).find(".m_hp_rt_room_card__beds-container").html(),_r_({price:a,type:c,highlightHtml:u,fltrs:p,id:e,bundleId:t,hasDiscount:h,originalPriceHtml:b,text:s,bedOptionsHtml:_,roomTypeId:o,hasBundleText:Boolean(i)})}n.exports=function(e,t){_i_("65cb:6c8214fd");var n=e||o();switch(t.type){case i.TYPES.UPDATE_MEALPLAN:return _r_(n);case i.TYPES.UPDATE_ROOM_COUNT:return _r_(function(e,t,n){_i_("65cb:36122478");var i=M.getGroupIdFromBlockId(t),r=Object.assign(e,{});return r.groups[i].selection=r.groups[i].selection||[],n?r.groups[i].selection.push(t):r.groups[i].selection.pop(),1===r.groups[i].selection.length&&n&&r.groups[i].selection.push(t),_r_(r)}(n,t.blockId,t.increase));case i.TYPES.REMOVE_MULTIROOM_UNIT:return _r_(function(e,t,n){_i_("65cb:0ab0759d");var i=Object.assign(e,{});return n=parseInt(n)-1,i.groups[t].selection.splice(n,1),_r_(i)}(n,t.groupId,t.index));case i.TYPES.REMOVE_GROUP_SELECTION:return _r_(function(e,t){_i_("65cb:07f7b670");var n=Object.assign(e,{}),i=M.getGroupIdFromBlockId(t);return n.groups[i].selection=[],_r_(n)}(n,t.blockId));case i.TYPES.CHANGE_MULTIROOM_PLAN:return _r_(function(e,t){_i_("65cb:043a09ae");var n=Object.assign(e,{});return n.groups[t.groupId].selection[t.index]=t.blockId,_r_(n)}(n,t.payload));case i.TYPES.SET_CURRENT_SELECTION:return _r_(function(e,t){_i_("65cb:68a706a2");var n=Object.assign(e,{});return n.groups[t.groupId].currentSelection=t.blockId,_r_(n)}(n,t.payload));case i.TYPES.SET_BUNDLE_RATES_EXPERIMENT:return _r_(Object.assign(n,{bundleRatesExperimentVariant:t.bundleRatesExperimentVariant,isBundleRatesExperimentOn:t.isBundleRatesExperimentOn}));default:return _r_(n)}_r_()},_r_()}),B.when({condition:function(e){return _i_("65cb:54eeaa0e"),_r_(e.b_review_score_detailed&&("hotel"===e.b_action||"unit"===e.b_action))},events:"ready"}).run(function(e){_i_("65cb:ccca0dab");var n=e("et"),i=e("jquery"),r=e("hotel/reviews"),_=e("events");({roomSelect:'#reviews_room_filter input[type="radio"]',init:function(){_i_("65cb:f89c1232"),this.bindEvents(),_r_()},bindEvents:function(){_i_("65cb:2f0c792e"),i(this.roomSelect).on("change",this.handleUnitIdChange.bind(this)),r.on(r.events.LOAD_AFTER,this.handleAfter.bind(this)),_r_()},handleUnitIdChange:function(e){_i_("65cb:f0caf5da"),e&&e.preventDefault();var t=i(e.target).val()||"";r.load({room_id:[t],offset:0}),_.emit("m_reviewlist:filter:changed",{name:"room_id",values:[t]}),t?(n.customGoal("NAFLeOeJOMBUESFDdCNCGVKe",1),B.env.fe_entire_place_room_ids&&-1<B.env.fe_entire_place_room_ids.split(",").indexOf(t.toString())&&n.customGoal("NAFLeOeJOMBUESFDdCNCGVKe",3)):n.customGoal("NAFLeOeJOMBUESFDdCNCGVKe",2),_r_()},handleAfter:function(){_i_("65cb:0b0cdcea");var e=r.getState().room_id||[];e&&e.length?i(this.roomSelect+"[value='"+e[0]+"']").prop("checked",!0):i(this.roomSelect+"[value='']").prop("checked",!0),_r_()}}).init(),_r_()}),B.when({events:"ready"}).run(function(e){_i_("65cb:f904028c");var i=e("server-data"),r=e("event-bus"),_=e("et");i.fe_has_at_least_one_rate_with_breakfast_included&&r.on(B.eventNames.RT_FILTER_APPLY,function e(t,n){_i_("65cb:add12cee"),n&&n.selectedFilters&&n.selectedFilters.some(function(e){return _i_("65cb:54371475"),_r_("mealplan_policy"===e.key&&"breakfast_included"===e.id)})&&(_.stage("ZOVVIOMOcIScdMYbdbVDZHFEQC",7),"1"===i.fe_has_breakfast_included_filter_from_sr&&_.stage("ZOVVIOMOcIScdMYbdbVDZHFEQC",8),r.off(B.eventNames.RT_FILTER_APPLY,e));_r_()}),_r_()}),function(s){_i_("65cb:ba21c5c4"),s.require(["jquery","core/utils/onview","event-bus","hotel/roomstable"],function(n,t,e,i){_i_("65cb:7b270d74");var r={room__title:"Room's Title",room_cell_subtitle:"Room's Subtitle",priceInfo:"Room's Price",maxPersonsInfo:"Room's Capacity"},_={meal:"Meal Plan",occupancy:"Occupancy",cancellation:"Reservation policy"},a=i.RT,o=s.require("ga-tracker");n(document).ready(function(){_i_("65cb:683aaf5f");var e=n("#bookForm");t.run(e,function(){_i_("65cb:3786ed09"),o.trackEvent("M.Room Table","On View"),_r_()}),t.run(n(".rt-controls"),function(){_i_("65cb:94cf4190"),o.trackEvent("M.Room Table Filter","Filter On View",function(){_i_("65cb:28861014");var e=[];for(var t in _)0<n('.rt-filters--tag[data-filter-key="'+t+'"]').length&&e.push(_[t]);return _r_(e.join(" | "))}()),_r_()}),t.run(n(".js-rooms-table__end"),function(){_i_("65cb:6692f820"),"b_blocks_count"in s.env&&o.trackEvent("M.Room Table","Reached Bottom of Room Table","Nr of Rooms: "+s.env.b_blocks_count),_r_()}),_r_()}),e.on("RT.filter_change",function(e,t){_i_("65cb:189903df");var n=t.checked?"Check":"Uncheck",i=t.isSynthetic?"auto":t.checked?"On":"Off",r=t.name+": "+t.value;o.trackEvent("M.Room Table Filter",n+" "+t.name+": "+t.value),o.trackEvent("MDOT RT Filters","Tick filter",r,i),_r_()}),s.events.on(s.eventNames.RT_ROOM_SELECT,function(){_i_("65cb:1995c8c7"),o.trackEvent("M.Room Table","Reserve Room Button"),_r_()}),s.events.on(s.eventNames.RT_ROOM_ADD,function(){_i_("65cb:823813f9"),a&&0<a.totalRooms&&o.trackEvent("M.Room Table","Add Number of Rooms"),_r_()}),s.events.on(s.eventNames.RT_ROOM_REMOVE,function(){_i_("65cb:42967f81"),o.trackEvent("M.Room Table","Remove room"),_r_()}),s.events.on(s.eventNames.RT_ROOM_EXPAND,function(e){_i_("65cb:6c5d07c8"),o.trackEvent("M.Room Table","Expand Room",function(e){_i_("65cb:532b6ba8");var t=e.attr("class");for(var n in r)if(e.hasClass(n)){t=r[n];break}return _r_(t)}(e.$elemClicked)),_r_()}),s.events.on(s.eventNames.RT_ROOM_FOLD,function(){_i_("65cb:85c5de6e"),o.trackEvent("M.Room Table","Fold Room"),_r_()}),s.events.on(s.eventNames.RT_ROOM_SUBMIT,function(e){_i_("65cb:301710d0"),o.trackEvent("M.Room Table","Book rooms button","Number of rooms: "+e.roomsNumber),_r_()}),e.on(s.eventNames.HP_DATES_POPUP_SHOW,function(){_i_("65cb:1b3de837"),o.trackEvent("M.Room Table","Change dates button"),_r_()}),_r_()}),_r_()}(B),B.require(["jquery","event-bus","hotel/roomstable/filter","hotel/roomstable/horizontal-scroll/filter","utils/request_animation_frame","jstmpl","et","server-data"],function(u,e,t,n,r,i,_,a){"use strict";_i_("65cb:701f47ec");var f,o=u(".js-rt-filters--tag"),b="js-rt-filters--unavailable",h=Number(a.fe_exp_rsw_m_hp_rt_horizontal_scroll||0);if(f=0<h?n:t,0===o.length)return _r_();function s(e){_i_("65cb:41aba736");var c,l=f.getSelectedFilters(),d=f.filterAllRooms(l),t=o;0<h&&(c=f.filterPartnerRooms(l)),e&&(t=t.not('.js-rt-filters--tag[data-filter-key="'+e.name+'"]')),function e(t,n,i){if(_i_("65cb:356b37f3"),n>=t.length)return _r_();r(function(){_i_("65cb:3314b2b5"),i.bind(t[n])(),e(t,++n,i),_r_()}),_r_()}(t,0,function(){_i_("65cb:4ed9c216");var e,t,n=u(this),i=f.getFilters(n),r=d,_=(e=l,t=i[0],_i_("65cb:d8218daa"),_r_(e.filter(function(e){return _i_("65cb:25417122"),_r_(e.multiple&&e.key===t.key||e.key!==t.key)})));_.length!==l.length&&(r=f.filterAllRooms(_));var a=0;if(0<h){var o=c;_.length!==l.length&&(o=f.filterPartnerRooms(_)),a=f.getNumOfMatchingRates(i,r,o)}else{a=f.filterRooms(i,r).length}if("occupancy_count"!==i[0].key){var s=n.find(".js-rt-filters--counter");if(s.length)s.html(a);else n.find(".js-rt-filters--label").append('<span class="js-rt-filters--counter rt_extensible_filters__counter">'+a+"</span>")}0===a?(n.prop("disabled",!0),n.addClass(b)):(n.prop("disabled",!1),n.removeClass(b)),_r_()}),_r_()}e.on("RT.filter_change",function(e,t){_i_("65cb:a1acbe6e"),s(t),_r_()}),e.on("RT.filters_reset",function(){_i_("65cb:c36a994d"),s(),_r_()}),u(function(){_i_("65cb:c36a994d1"),s(),_r_()}),_r_()}),booking.jstmpl("hp_filters_starting_price",function(){_i_("65cb:72614e40");var i,r=['\n\n    <span class="rt-filters--startingPrice js-rt-filters--startingPrice">\n        ',"/private/sr_hyphen_style_separator/name","&nbsp;","/private/m_rc_hp_rt_filter_option_price_from/name","\n    </span>\n\n"],_=["b_starting_price"];return _r_(function(e){_i_("65cb:13dc6291");var t="",n=this.fn;return t+=[r[0],n.ME(r[1],n.MB,n.MN,null),r[2],(e.unshift({amount_with_currency:n.MC(_[0])}),i=n.ME(r[3],n.MB,n.MN,null),e.shift(),i),r[4]].join(""),_r_(t)})}()),function(a,e){"use strict";_i_("65cb:6ceda46a");var i=e("jquery");a.events.on(a.eventNames.RT_ROOM_EXPAND,function(e){if(_i_("65cb:2dde7f43"),!(e&&e.roomInstance&&e.fullpage))return _r_();var r=e.fullpage.$container.find(".js-soldout-room-recommended-dates");if(r.length&&!r.hasClass("loaded")){if(!("b_availability_for_soldout_data"in a.env))return _r_();var t=e.fullpage.roomId,_=e.fullpage.$container.data("tabId"),n=Object.assign({},a.env.b_availability_for_soldout_data,{room_id:t,min_occupancy:a.env.b_search_config?a.env.b_search_config.b_adults_total:1,nr_results:2});a.env.b_availability_checked&&r.addClass("loading"),i.ajax({url:"/alt_avail",type:"GET",dataType:"json",data:n}).then(function(e){if(_i_("65cb:9782d271"),e&&e.length&&a.env.b_availability_checked){var t=a.jstmpl("soldout_room_recommended_dates").render((n=e,i=_,_i_("65cb:bffd958a"),_r_({dates:n.map(function(e){return _i_("65cb:16cb3972"),_r_({b_url:a.env.canonical_url+a.env.b_query_params_no_ext+";"+e.b_date_params+";activeTab="+i,checkin:e.b_checkin_raw,checkout:e.b_checkout_raw,los:e.b_length_of_stay,price_pretty:e.b_stay_price})})})));r.html(t).loadComponents()}var n,i;r.removeClass("loading").addClass("loaded"),_r_()})}_r_()}),booking.jstmpl("soldout_room_recommended_dates",function(){_i_("65cb:24e52263");var a,o=["\n        ",'\n\n  <div class="simple_av_calendar simple_av_calendar--carded u-display:block ','">\n\n      <h4 class="simple_av_calendar_title">\n          ',"/private/vpm_hp_no_availability_header/name","\n      </h4>\n\n      ",'\n\n          <a class="simple_av_calendar_item"\n             href="','"\n          >\n\n             <span class="simple_av_calendar_price">',"/private/av_calendar_from_price/name",'</span>\n              <div class="simple_av_calendar_dates">\n                  <span class="u-display:inline-block">\n                      ',' \n                  </span>\n                  <span class="u-display:inline-block">\n                      ','\n                  </span>\n                  <span class="simple_av_calendar_los">\n                      '," \n                          ","/private/bh_av_calendar_num_weeks/name",",\n                      ","\n                          ","/private/av_calendar_num_nights/name","\n                      ","  ",'</span>\n              </div>\n\n              <i class="c-card__chevron bicon-rightchevron"></i>\n          </a>\n\n      ',"\n\n  </div>\n","\n    "],s=["b_style_class","dates","b_url","price_pretty","checkin","checkout","los_in_weeks","los"];return _r_(function(r){_i_("65cb:62a011d7");var e="",_=this.fn;return e=function(e){_i_("65cb:4cf4efac"),e+=["",o[1],_.MC(s[0]),o[2],_.ME(o[3],_.MB,_.MN,null),o[4]].join("");var t=_.MC(s[1])||[];r.unshift(null);for(var n=1,i=t.length;n<=i;n++)r[0]=t[n-1],e+=[o[5],_.MC(s[2]),o[6],(r.unshift({b_from_price:_.MB(s[3])}),a=_.ME(o[7],_.MB,_.MN,null),r.shift(),a),o[8],_.DATE(_.MB(s[4]),"short_date","","",""),o[9],_.DATE(_.MB(s[5]),"short_date","","",""),o[10]].join(""),_.MD(s[6])?e+=[o[11],(r.unshift({num_weeks:_.MB(s[6])}),a=_.ME(o[12],_.MB,_.MN,_.MO(_.MC(s[6]),null,o[12])),r.shift(),a),o[13]].join(""):e+=[o[14],(r.unshift({b_num_nights:_.MB(s[7])}),a=_.ME(o[15],_.MB,_.MN,_.MO(_.MC(s[7]),null,o[15])),r.shift(),a),o[13]].join(""),e+=[o[16],_.DATE(_.MB(s[4]),"short_weekday_only","","",""),o[17],_.DATE(_.MB(s[5]),"short_weekday_only","","",""),o[18]].join("");return r.shift(),e+=[o[19],""].join(""),_r_(e)}(e+=o[0]),e+=o[20],_r_(e)})}()),_r_()}(booking,booking.require),B.require(["event-bus","et"],function(e,t){_i_("65cb:66a64e61");var i=$(".js-rooms-table").find(".js-m-banner--fc-usp");0<i.length&&e.on(B.eventNames.RT_FILTER_APPLY,function(e,t){if(_i_("65cb:5695851e"),t&&t.selectedFilters){var n=t.selectedFilters.filter(function(e){return _i_("65cb:d39267d4"),_r_("cancellation"===e.key&&"non-refundable"===e.value)});i.toggleClass("g-hidden",n&&0<n.length)}_r_()}),_r_()}),B.require(["require"],function(e){_i_("65cb:dd0c82f3");var t,n=e("jquery"),i=n(".js-hp-quick-book"),r=e("with-capla");function _(e,t){_i_("65cb:081f4064"),B.require("tabbed-nav").activateTab("search",n(t)),_r_()}r("property-web","property-page",function(e){if(_i_("65cb:7ecbda05"),!(t=e.eventBus))return _r_();t.subscribe("CAPLA_EVENT_property-web-property-page_ACTIVATE_SEARCH_TAB",_),t.subscribe("CAPLA_EVENT_search-web_searchresults_MINIFIED_SB_CLICK",_),_r_()})(),i.on("click",function(e){_i_("65cb:e582670b"),e&&e.preventDefault();var t=n("#pp-nav-room-selection");n("html, body").animate({scrollTop:t.offset().top},function(){var e;_i_("65cb:8588fd54"),n((e=t,_i_("65cb:f46f9205"),_r_(n(e).find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object:not([disabled]), embed, *[tabindex], *[contenteditable]").filter(":visible")))[0]).trigger("focus"),_r_()}),_r_()}),_r_()}),B.require(["require"],function(e){"use strict";if(_i_("65cb:4877006c"),B.env.b_is_kaios)return _r_();var t,r=e("jquery"),n=e("event-bus"),i=e("jstmpl"),_=e("core/growl"),s=e("hotel/roomstable").RT,a=e("persistent-view"),o=e("utils/inviewport"),c=r(window),l=r("#new_rooms_table_2"),d=r("#logo").outerHeight(),u=null;function f(){_i_("65cb:60954260");var e=!0,t=null;for(var n in s.selected)if(s.selected.hasOwnProperty(n)){var i=s.selected[n];if(t){if(t!==i.roomType){e=!1;break}}else t=i.roomType}var r={b_selected_price:B.env.b_currency_code===B.env.b_hotel_currencycode?s.totalPrice:Math.round(s.totalPrice),b_selected_count:s.totalRooms,b_selected_same_type:e,b_selected_room_type:t,b_lang_is_rtl:B.env.b_lang_is_rtl};r.fe_is_from_nl_be="nl"===B.env.b_guest_country||"be"===B.env.b_guest_country,"nl"!==B.env.b_guest_country&&"be"!==B.env.b_guest_country||(r.fe_extracharges_text=function(){_i_("65cb:eb7f110e");var e="",t=!1,n=!1,i=!1,r=0,_=s.selected;for(var a in _){var o=_[a];if(!o.chargeCase)continue;if(2===o.chargeCase){n=!0;continue}if(3===o.chargeCase){t=!0;break}if(4===o.chargeCase){i=!0;break}if(1!==o.chargeCase)break;r+=o.totalRoomCharges}t?e=B.jstmpl.translations("sr_hp_taxes_and_charges_exception",null,{}):i?e=B.jstmpl.translations("sr_hp_taxes_and_charges_exception",null,{}):n&&0===r?e=B.jstmpl.translations("mdot_sr_search_card_includes_taxes_charges",null,{}):r&&(e=B.jstmpl.translations("mdot_sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:B.utils.accounting.formatMoney(r)}));return _r_(e)}());var _=B.env.b_guest_country&&!/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb|id/gim.test(B.env.b_guest_country),a=B.env.b_guest_country&&/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|gb/gim.test(B.env.b_guest_country),o=B.env.b_guest_country&&/gb|id/gim.test(B.env.b_guest_country);return r.fe_country_code_is_row=_,r.fe_country_code_is_eea=a,r.fe_country_code_is_gb_id=o,(_||a)&&(r.fe_extracharges_text=function(){_i_("65cb:131d942a");var e="",t=0,n=0,i=s.selected;for(var r in i){var _=i[r];if(!_.chargeCase)continue;2===_.chargeCase&&(n+=_.totalRoomCharges),t!==_.chargeCase&&_.chargeCase>t&&(t=_.chargeCase)}switch(t){case 1:e=B.jstmpl.translations("sr_search_card_includes_taxes_charges");break;case 2:e=B.jstmpl.translations("sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:B.utils.accounting.formatMoney(n)});break;case 3:case 4:case 5:e=B.env.b_charges_has_tax_exceptions&&B.env.b_charges_excluded_charges_detail?B.env.b_charges_excluded_charges_detail:B.jstmpl.translations("sr_hp_taxes_and_charges_exception",null,{});break;default:e=""}return _r_(e)}()),_r_(r)}function b(){if(_i_("65cb:38e897bd"),a.getCurrent()!==a.defaultView||0===s.totalRooms)return _r_();_i_("65cb:e8de6425"),_r_(!o(l))?u||(_i_("65cb:6697afb4"),_.suppress_growls(!1),u=_({message:i("rt_abadoned_cart").render(f()),duration:0,delay:0}),_r_()):u&&(_.close(_.getContainerId()),u=null),t=null,_r_()}function h(){_i_("65cb:0900eb37"),t&&clearTimeout(t),t=setTimeout(b,100),_r_()}n.on(n.EVENTS.HP_ROOM_SELECTION_CHANGE,function(){_i_("65cb:d068e927"),s&&(s.totalRooms?c.off("scroll.abandonedGrowl").on("scroll.abandonedGrowl",h):(u=null,c.off("scroll.abandonedGrowl",h))),_r_()}),n.on(n.EVENTS.GROWL_SHOWN,function(e,t){if(_i_("65cb:60906e95"),t&&t.$log){var n,i=t.$log.find(".abandoned-cart-growl-container");i.length&&i.off("click.abandonedCart").on("click.abandonedCart",function(){if(_i_("65cb:2922cdd6"),s&&s.selected){var e;for(var t in s.selected)if(s.selected.hasOwnProperty(t)&&(n=r("#"+t)).length){e=n;break}e&&function(e){_i_("65cb:a68bb13d");var t=e.offset();if(t){var n=t.top-(d+10);0<n&&r("html, body").animate({scrollTop:n})}_r_()}(e)}_r_()})}_r_()}),booking.jstmpl("rt_abadoned_cart",function(){_i_("65cb:11b56a75");var r,_=["\n        ",'\n\n    \n    \n    \n    \n    \n    \n    \n    \n    \n\n    <div class="abandoned-cart-growl-container">\n        <span class="bui-icon rt_abandoned_selection_growl__icon">\n            ',"iconset/alarm",'\n        </span>\n        <div class="abandoned-cart-growl-item">\n            ',"/private/m_rt_cart_abandonment_cta/name",'\n        </div>\n        <div class="abandoned-cart-growl-item">\n            ',"\n            ","\n                ","/private/hp_book_now_summary_room/name","/private/m_rt_cart_abandonment_num_selection_price/name","\n        </div>\n\n        \n        ",'\n            <div class="abandoned-cart-growl-item">\n                <div class="prd-taxes-and-fees-under-price-hp-cart">',"</div>\n            </div>\n        ","\n\n        \n        \n        \n        ",'\n\n        <span class="bui-icon rt_abandoned_selection_growl__arrow">\n            ',"iconset/navarrow_left","iconset/navarrow_right","\n        </span>\n    </div>\n\n","\n","\n    "],a=["b_selected_price","b_selected_count","fe_the_price","b_selected_same_type","b_selected_room_type","fe_extracharges_text","fe_is_from_nl_be","fe_country_code_is_row","fe_country_code_is_eea","b_lang_is_rtl"];return _r_(function(e){_i_("65cb:9d1fefcc");var t,n="",i=this.fn;return n+=_[0],t=n,_i_("65cb:b1aafe98"),t+=["",_[1],(e.unshift({color:"#F5F5F5",name:_[2]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[3],i.ME(_[4],i.MB,i.MN,null),_[5]].join(""),i.MN("fe_the_price",i.format_price(i.MC(a[0]))),t+=_[6],i.MJ(i.MC(a[3]))&&i.MJ(i.MC(a[4])+""=="rooms")?t+=[_[7],(e.unshift({number_rooms:i.MC(a[1]),total_cost_booking:i.MB(a[2])}),r=i.ME(_[8],i.MB,i.MN,i.MO(i.MC(a[1]),null,_[8])),e.shift(),r),_[6]].join(""):t+=[_[7],(e.unshift({number_rooms:i.MC(a[1]),total_cost_booking:i.MB(a[2])}),r=i.ME(_[9],i.MB,i.MN,i.MO(i.MC(a[1]),null,_[9])),e.shift(),r),_[6]].join(""),t+=_[10],i.MJ(i.MB(a[6]))&&i.MJ(i.MB(a[5]))&&(t+=[_[11],i.MB(a[5]),_[12]].join("")),t+=_[13],(i.MJ(i.MB(a[7]))||i.MJ(i.MB(a[8])))&&(t+=[_[11],i.MB(a[5]),_[12]].join("")),t+=_[14],i.MD(a[9])?t+=[_[7],(e.unshift({color:"#F5F5F5",name:_[15]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[6]].join(""):t+=[_[7],(e.unshift({color:"#F5F5F5",name:_[16]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[6]].join(""),t+=[_[17],"",_[18]].join(""),n=_r_(t),n+=_[19],_r_(n)})}()),_r_()}),B.when({condition:function(e){return _i_("65cb:ffce7c5c"),_r_("hotel"===e.b_action||"unit"===e.b_action)},events:"ready"}).run(function(e){_i_("65cb:1889a0ea");var t,n=e("hotel/reviews"),i=e("events");({openClass:"bui-is-active",wrapper:"#review_filters_tab_static",checkbox:"[data-js-review-topic-item]",panelWrapper:"[data-js-review-topic-wrapper]",panel:"[data-js-review-topic-toggle]",init:function(){_i_("65cb:f89c12321"),this.bindEvents(),_r_()},bindEvents:function(){_i_("65cb:1a7dc293"),n.on(n.events.LOAD_AFTER,this.onAfterLoad.bind(this)),$(this.wrapper).on("click",this.panel,this.togglePanel.bind(this)),$(this.wrapper).on("change",this.checkbox,this.onTopicChange.bind(this)),_r_()},onTopicChange:function(e){_i_("65cb:4e3318ef");var r=[];$(this.checkbox).map(function(e,t){_i_("65cb:c0c57eb9");var n=$(t),i=String(n.data("category-id"));n.prop("checked")&&i&&r.push(i),_r_()}),n.load({offset:0,topics:r}),i.emit("m_reviewlist:filter:changed",{name:"topics",values:r}),_r_()},onAfterLoad:function(){_i_("65cb:5b80f9e7");var e=n.getState().topics||[];this.tickTopics(e),t&&$(".js-review-tab-link")[0].click(),t=!1,_r_()},tickTopics:function(_){_i_("65cb:2650a6dc"),$(this.checkbox).map(function(e,t){_i_("65cb:852c11cb");var n=$(t),i=String(n.data("category-id")||0),r=-1<_.indexOf(i);n.prop("checked",r),_r_()}),_r_()},togglePanel:function(){_i_("65cb:590aa3e1"),$(this.panelWrapper).hasClass(this.openClass)?this.collapsePanel():this.expandPanel(),_r_()},expandPanel:function(){_i_("65cb:a469db0b"),$(this.panelWrapper).addClass(this.openClass),_r_()},collapsePanel:function(){_i_("65cb:108b9375"),$(this.panelWrapper).removeClass(this.openClass),_r_()}}).init(),_r_()}),B.when({condition:function(e){return _i_("65cb:54eeaa0e1"),_r_(e.b_review_score_detailed&&("hotel"===e.b_action||"unit"===e.b_action))},events:"ready"}).run(function(e){_i_("65cb:f672af12");var i=e("jquery"),r=e("hotel/reviews"),n=e("events");({langSelect:'#reviews_language_filter input[type="checkbox"]',sortSelect:"#reviews_sorting_options",init:function(){_i_("65cb:f89c12322"),this.bindEvents(),_r_()},bindEvents:function(){_i_("65cb:230c06c2"),i(this.langSelect).on("change",this.handleLangChange.bind(this)),i(this.sortSelect).on("change",this.handleSortChange.bind(this)),r.on(r.events.LOAD_AFTER,this.handleAfter.bind(this)),_r_()},handleLangChange:function(e){_i_("65cb:484d702a");var t=[];i(this.langSelect).filter(":checked").each(function(){_i_("65cb:8336ea68"),-1==t.indexOf(i(this).val())&&t.push(i(this).val()),_r_()}),r.load({lang:t,offset:0,topics:[]}),n.emit("m_reviewlist:filter:changed",{name:"lang",values:t}),_r_()},handleSortChange:function(e){_i_("65cb:82a77aa6");var t=i(e.target).val()||"";r.load({sort:t,offset:0}),n.emit("m_reviewlist:sort:changed",{value:t}),_r_()},handleAfter:function(){_i_("65cb:f376259b");var t,e=r.getState(),n=e.sort||"";e.lang&&Array.isArray(e.lang)&&e.lang.length?(t=i(this.langSelect).prop("checked",!1),e.lang.map(function(e){_i_("65cb:abbf7568"),t.filter('[value="'+e+'"]').prop("checked",!0),_r_()})):e.lang&&Array.isArray(e.lang)&&0==e.lang.length&&i(this.langSelect).prop("checked",!1),i(this.sortSelect).val(n),_r_()}}).init(),_r_()}),function(e){"use strict";_i_("65cb:b1258e5e"),e.require(["require"],function(e){_i_("65cb:8257b648"),e("jquery")(".js-m_hp_no_dates_room_card__cta").on("click",function(e){_i_("65cb:0d2a997a"),e.preventDefault(),e.stopPropagation(),_r_()}),_r_()}),_r_()}(booking),function(e){_i_("65cb:f5f146b2"),e.when({events:"ready",action:"hotel",condition:e.env.b_is_iphone&&e.env.b_has_valid_dates&&e.env.b_availability_checked}).run(function(e){_i_("65cb:5331c753");var t=e("jquery");t(document).on("change",'.js-room-preference_group input[type="radio"]',function(){_i_("65cb:722d9273"),t(this).closest(".js-room-preference_group").find('[name="'+t(this).attr("name")+'"]').removeAttr("checked"),t(this).attr("checked","true").prop("checked",!0),_r_()}),_r_()}),_r_()}(booking),B.define("component/reviews/review-helpful-unhelpful",function(e,t,n){_i_("65cb:61439fb5");var r=e("jquery"),i=e("component"),_=e("jstmpl");n.exports=i.extend({init:function(){_i_("65cb:c8dc55e6");var t=this;this.types=[],this.submitButton=this.$el.find("[type=submit]"),this.submitButton.each(function(){_i_("65cb:d544d677");var e=r(this).data("type");t.types.indexOf(e)<0&&t.types.push(e),t[e]={},t[e].form=r(this).parents("form.review-helpful__form"),t[e].reviewURL=t[e].form.find("[name=review_url]").val(),t[e].currentCount=t[e].form.data("current-count"),_r_()}),this.feedbackMessage=this.$el.find(".review-helpful__vote-feedback-message:not(.--unhelpful)"),this.feedbackUnhelpfulMessage=this.$el.find(".review-helpful__vote-feedback-message.--unhelpful"),this.helpfulSubmitted=!1,this.unhelpfulSubmitted=!1,this.isAlreadyVoted()?(this.disableSubmit(),this.updateMessage()):this.attachEvents(),_r_()},attachEvents:function(){_i_("65cb:dbd75e25");for(var e=0;e<this.types.length;e++)this[this.types[e]].form.on("submit",this.formSubmit.bind(this));_r_()},disableSubmit:function(){_i_("65cb:fc66a543"),this.submitButton.prop("disabled",!0).removeClass("review-helpful__form-submit").addClass("review-helpful__form-submitted").val(_.translations("review_helpful_vote_button_confirmed")+" ").hide(),_r_()},enableSubmit:function(){_i_("65cb:3cdfd500"),this.submitButton.prop("disabled",!1).removeClass("review-helpful__form-submitted").addClass("review-helpful__form-submit").val(_.translations("review_helpful_vote_button_confirmed")).show(),_r_()},updateMessage:function(){_i_("65cb:db62453f");var e=this;if(this.unhelpfulSubmitted)this.feedbackMessage.hide(0),this.feedbackUnhelpfulMessage.queue(function(){_i_("65cb:120053ca"),r(this).hide().dequeue(),_r_()}).queue(function(){_i_("65cb:3e080ec5"),e.submitButton.is(":visible")||r(this).removeClass("review-helpful__vote-others-helpful"),_r_()}).dequeue().queue(function(){_i_("65cb:2dd5e3f3"),r(this).html('<svg class="bk-icon -iconset-thumbs_down" fill="#FCB4B4" height="14" width="14" viewBox="0 0 128 128" role="presentation" aria-hidden="true" focusable="false"><path d="M11.4 43.6a12 12 0 0 1 6.7-17A12 12 0 0 1 30 16h50v56l-17 36a8 8 0 0 1-15-4 15.2 15.2 0 0 1 1-4l7.9-20H21a12 12 0 0 1-9.4-19.4 12 12 0 0 1-.2-17zM120 16H88v56h32z"/></svg>'+_.translations("ugcx_reviews_you_voted_helpful_not",null,{start_bold:"<strong>",end_bold:"</strong>"})).dequeue(),_r_()}).queue(function(){_i_("65cb:b511d974"),r(this).fadeIn("fast").dequeue(),_r_()}).css("display","inline-block");else if(this.helpfulSubmitted){var t=this.helpful.currentCount;this.feedbackUnhelpfulMessage.hide(0),t&&0!==t?this.feedbackMessage.queue(function(){_i_("65cb:03db97f1"),r(this).fadeOut("fast").dequeue(),_r_()}).queue(function(){_i_("65cb:d4e303271"),e.submitButton.is(":visible")||r(this).removeClass("review-helpful__vote-others-helpful"),_r_()}).dequeue().queue(function(){_i_("65cb:8bb7de3c"),r(this).html('<svg class="bk-icon -iconset-thumbs_up" fill="#FEBB02" height="14" width="14" viewBox="0 0 128 128" role="presentation" aria-hidden="true" focusable="false"><path d="M8 76a12 12 0 0 1 3.6-8.6A12 12 0 0 1 21 48h35.9L49 28a15.2 15.2 0 0 1-1-4 8 8 0 0 1 15-4l17 36v56H30a12 12 0 0 1-12-10.7 12 12 0 0 1-6.6-17A12 12 0 0 1 8 76zm112-20H88v56h32z"/></svg>'+_.translations("review_helpful_vote_you_and_others_bold",t,{number_people:t,start_bold:"<strong>",end_bold:"</strong>"})).dequeue(),_r_()}).queue(function(){_i_("65cb:661a28d41"),r(this).fadeIn("fast").dequeue(),_r_()}).css("display","inline-block"):this.feedbackMessage.queue(function(){_i_("65cb:4fe96ecd"),r(this).hide().dequeue(),_r_()}).queue(function(){_i_("65cb:d4e30327"),e.submitButton.is(":visible")||r(this).removeClass("review-helpful__vote-others-helpful"),_r_()}).dequeue().queue(function(){_i_("65cb:1273519e"),r(this).html('<svg class="bk-icon -iconset-thumbs_up" fill="#FEBB02" height="14" width="14" viewBox="0 0 128 128" role="presentation" aria-hidden="true" focusable="false"><path d="M8 76a12 12 0 0 1 3.6-8.6A12 12 0 0 1 21 48h35.9L49 28a15.2 15.2 0 0 1-1-4 8 8 0 0 1 15-4l17 36v56H30a12 12 0 0 1-12-10.7 12 12 0 0 1-6.6-17A12 12 0 0 1 8 76zm112-20H88v56h32z"/></svg>'+_.translations("review_helpful_vote_you_bold",null,{start_bold:"<strong>",end_bold:"</strong>"})).dequeue(),_r_()}).queue(function(){_i_("65cb:661a28d4"),r(this).fadeIn("fast").dequeue(),_r_()}).css("display","inline-block")}_r_()},addVoteToCookie:function(e){_i_("65cb:eab1d738");var t,n=[];if(e&&"helpful"==e)t="rF";else{if(!e||"unhelpful"!=e)return _r_();t="uF"}window.b_cookie=window.b_cookie||{},window.b_cookie[t]&&(n=window.b_cookie[t].split(",")),49<(n=r.grep(n,function(e){return _i_("65cb:6e80b62c"),_r_(e&&"undefined"!==e)})).length&&(n=n.slice(n.length-49)),n.push(this[e].reviewURL),window.b_cookie[t]=n.toString(),JSON&&JSON.stringify&&(r.cookie("b")||null==r.cookie("b"))&&r.cookie("b",JSON.stringify(window.b_cookie),{expires:30,path:"/",domain:".booking.com"}),_r_()},isAlreadyVoted:function(){_i_("65cb:3dd73df1"),window.b_cookie=window.b_cookie||r.cookie("b")||{},JSON&&JSON.parse&&"string"==typeof window.b_cookie&&window.b_cookie.length&&(window.b_cookie=JSON.parse(window.b_cookie));for(var e=0;e<this.types.length;e++){var t,n=[];if(this.types[e]&&"helpful"==this.types[e]?t="rF":this.types[e]&&"unhelpful"==this.types[e]&&(t="uF"),window.b_cookie&&window.b_cookie[t])n=window.b_cookie[t].split(",");else if(JSON&&JSON.parse&&r.cookie("b")){var i=JSON.parse(r.cookie("b"));i[this.types[e]]&&(n=i[this.types[e]].split(","))}if(n.length&&-1!==n.indexOf(this[this.types[e]].reviewURL)){if("helpful"==this.types[e]){this.helpfulSubmitted=!0;continue}if("unhelpful"==this.types[e]){this.unhelpfulSubmitted=!0;continue}}}return this.unhelpfulSubmitted||this.helpfulSubmitted?_r_(!0):_r_(!1)},formSubmit:function(e){_i_("65cb:53c9fc16"),e&&e.preventDefault(),this.disableSubmit(),r.ajax({url:r(e.target).prop("action"),data:r(e.target).serialize(),method:"POST",success:this.success.bind(this),error:this.error.bind(this)}),_r_()},success:function(e){var t;if(_i_("65cb:28af7625"),e&&e.success)switch(e.success?parseInt(e.success):0){case 1:t="helpful",this.helpfulSubmitted=!0;break;case 4:t="unhelpful",this.unhelpfulSubmitted=!0}this.updateMessage(),this.addVoteToCookie(t),_r_()},error:function(){_i_("65cb:410802c8"),this.enableSubmit(),_r_()}}),_r_()}),function(a,o){_i_("65cb:f9144511");var s=o(".js-group_recommendation");a.when({events:"ready",action:"hotel",condition:a.env.b_room_group&&s.length}).run(function(e){_i_("65cb:2824397a");var i=e("event-bus"),r=e("hotel/store"),_=e("hotel/roomstable/actions");r.subscribe(function(){_i_("65cb:976636cf"),0<r.getState().roomsTable.selection.totalRooms&&s.hasClass("room_recs--selected")&&s.removeClass("room_recs--selected"),_r_()}),o(".js-room_recs__book-btn").on("click",function(e){var t;_i_("65cb:5c81f39e"),e.preventDefault(),e.stopPropagation();var n=r.getState().roomsTable.selection;if(n.blocks&&0<Object.keys(n.blocks).length)for(t in n.blocks)n.blocks.hasOwnProperty(t)&&r.dispatch(_.changeSelection(t,0));1<s.length&&Boolean(Number(a.env.fe_has_group_multirec)||0)?(s.filter(".room_recs--selected").removeClass("room_recs--selected"),o(this).closest(".room_rec").addClass("room_recs--selected")):s.addClass("room_recs--selected"),i.emit(i.EVENTS.RECO_SELECT),_r_()}),o(".js-room-recs__undo-btn").on("click",function(e){if(_i_("65cb:a4984f07"),!s.hasClass("room_recs--selected"))return _r_();e.preventDefault(),e.stopPropagation(),s.removeClass("room_recs--selected"),i.emit(i.EVENTS.RECO_UNSELECT),_r_()});var t=e("events");o(".js-room_recs__next-step-btn").on("click",function(e){_i_("65cb:972e3e44"),t.emit(t.EVENTS.RECO_SUBMIT),_r_()}),_r_()}),_r_()}(booking,jQuery),B.define("hotel/preferences/actions",function(e,t,n){_i_("65cb:720c8c85");var i={},r=e("server-data"),a=Number(r.fe_exp_rsw_m_hp_rt_horizontal_scroll);function _(_){return _i_("65cb:caca49241"),_r_(function(){_i_("65cb:307b87881");var r=arguments;return _r_(function(e,t){if(_i_("65cb:50b3cc451"),0<a){var n=r[0].split("_")[0],i=t().roomsTable.selection.blockIdOfRoomGroup[n];r[0]=i||r[0],e(_.apply(null,r))}else e(_.apply(null,r));_r_()})})}i.TYPES={UPDATE_NUMBER_GUESTS:"UPDATE_NUMBER_GUESTS",UPDATE_FLOOR_PREFERENCE:"UPDATE_FLOOR_PREFERENCE",UPDATE_SMOKING_PREFERENCE:"UPDATE_SMOKING_PREFERENCE",UPDATE_BED_PREFERENCE:"UPDATE_BED_PREFERENCE",SET_RATE_PLAN:"SET_RATE_PLAN"},i.updateNumberGuests=_(function(e,t,n){return _i_("65cb:d1ace486"),_r_({type:i.TYPES.UPDATE_NUMBER_GUESTS,blockId:e,value:t,counter:n})}),i.updateFloorPreference=_(function(e,t,n){return _i_("65cb:d1aac8fe"),_r_({type:i.TYPES.UPDATE_FLOOR_PREFERENCE,blockId:e,value:t,counter:n})}),i.updateSmokingPreference=_(function(e,t,n){return _i_("65cb:094f35b3"),_r_({type:i.TYPES.UPDATE_SMOKING_PREFERENCE,blockId:e,value:t,counter:n})}),i.updateBedPreference=_(function(e,t,n){return _i_("65cb:2c974cb6"),_r_({type:i.TYPES.UPDATE_BED_PREFERENCE,blockId:e,value:t,counter:n})}),n.exports=i,_r_()}),B.define("hotel/preferences/reducers",function(e,t,n){_i_("65cb:653a9c9a");var i=e("hotel/preferences/actions"),r=e("server-data"),_=r.b_room_blocks_json||{},a=Number(r.fe_exp_rsw_m_hp_rt_horizontal_scroll),o=r.b_search_config&&r.b_search_config.b_children_total&&0<Number(r.b_search_config.b_children_total);function s(e,t,n,i,r){return _i_("65cb:7f723856"),e.perBlock.hasOwnProperty(n)&&e.perBlock[n].hasOwnProperty(t)&&(e.perBlock[n][t][r]=i),_r_(e)}n.exports=function(e,t){_i_("65cb:8f1fec14");var n=e||function(){var t;_i_("65cb:1c688eeb");var n={};return Object.keys(_).forEach(function(e){_i_("65cb:aabaf7a8"),(t=_[e]).preferences&&(n[t.blockId]={},0<a&&(t.preferences.numberOfGuests||(n[t.blockId].numberGuests=[],n[t.blockId].numberGuests.push(t.maxPersons))),t.preferences.numberOfGuests&&(n[t.blockId].numberGuests=[],o||n[t.blockId].numberGuests.push(t.maxPersons)),t.preferences.floorPreference&&(n[t.blockId].floorPreference=[]),t.preferences.bedPreference&&(n[t.blockId].bedPreference=[]),t.preferences.smokingPreference&&(n[t.blockId].smokingPreference=[],r.b_smoking_preselect_option&&n[t.blockId].smokingPreference.push(r.b_smoking_preselect_option))),_r_()}),_r_({roomsCloseTogether:!1,perBlock:n})}();switch(t.type){case i.TYPES.TOGGLE_ROOMS_CLOSE_TOGETHER:return n.roomsCloseTogether=t.requestedRoomsCloseTogether,_r_(n);case i.TYPES.UPDATE_NUMBER_GUESTS:return _r_(s(n,"numberGuests",t.blockId,t.value,t.counter));case i.TYPES.UPDATE_FLOOR_PREFERENCE:return _r_(s(n,"floorPreference",t.blockId,t.value,t.counter));case i.TYPES.UPDATE_SMOKING_PREFERENCE:return _r_(s(n,"smokingPreference",t.blockId,t.value,t.counter));case i.TYPES.UPDATE_BED_PREFERENCE:return _r_(s(n,"bedPreference",t.blockId,t.value,t.counter));default:return _r_(n)}_r_()},_r_()}),function(e){_i_("65cb:275cba55"),e.define("component/hotel/room-preferences/number-of-guests",function(e,t,n){_i_("65cb:2360addb");var i=e("component/reactive"),r=e("hotel/store"),_=e("hotel/preferences/actions"),a=e("server-data"),o=e("et"),s=a.b_room_blocks_json||{},c=e("hotel/room_preferences/horizontal_rate_preference/utils"),l=Number(a.fe_exp_rsw_m_hp_rt_horizontal_scroll);n.exports=i.extend({template:"room_preferences_number_of_guests",store:r,initialState:{b_lang_is_rtl:a.b_lang_is_rtl},initialize:function(){_i_("65cb:33a2eaff");var e=this.$el.data("isLightboxPreferences"),t=this.$el.data("roomPageId");o.initAttributesTracking(this.$el),this.setState({fe_block_id:this.$el.data("blockId"),fe_max_number_guests:this.$el.data("maxNumberGuests"),fe_room_index:this.$el.data("roomIndex"),fe_bui:this.$el.data("useBui"),fe_is_in_lightbox:1===e,fe_room_page_id:t,fe_search_config:a.b_search_config,fe_exp_rsw_m_hp_rt_horizontal_scroll:l}),_r_()},getInnerState:function(){_i_("65cb:48f24177");var e=this.__state;if(0<l){var t=e.fe_block_id,n=c.getProxyBlockId(t),i=0;s[n]&&s[n].maxPersons&&(i=s[n].maxPersons),e=Object.assign(e,{fe_block_id:n,fe_max_number_guests:i})}return _r_(e)},handleChangePreference:function(e){_i_("65cb:78758f18");var t=e.currentTarget.value,n=this.getState();r.dispatch(_.updateNumberGuests(n.fe_block_id,Number(t),Number(n.fe_room_index))),_r_()}}),_r_()}),_r_()}(booking),booking.jstmpl("room_preferences_number_of_guests",function(){_i_("65cb:8acc2bc1");var u,f=["\n    ","\n\n\n\n\n\n\n\n\n","\n\n    \n\n    \n    \n    ","\n        ","\n        \n        ","\n            ","\n\n    ",'\n\n    \n    <div class="room_preference_select__wrapper room_preference_select__wrapper-occupancy">\n        ','\n            <input type="hidden" name="','" value="','">\n        ','\n        <div class="number-guests-option js-room-preference_group">\n            <div class="number-guests-option__form">\n                <div class="',"room_preference_select__inner_wrapper"," bui-group bui-group--small"," number-guests-option__options",'"\n                >\n                    <div class="',"room_preferences__title bui-group__item",'"\n                    >\n                        ',"/private/m_book_number_of_guests/name",'\n                    </div>\n\n                    <div class="bui-group ',"bui-group--inline",'">\n                        ','\n                            <label\n                                class="'," "," bui-radio bui-group__item "," number-guests-option__option "," number-guests-option__option--rtl "," number-guests-option__option--last ",'"\n                                aria-label="',"/private/a11y_room_selection_num_adults_icon/name",'"\n                            >\n                                <input\n                                    type="radio"\n                                    class="',"js-number-guests-option-radio"," bui-radio__input"," number-guests-option__radio",'"\n                                    value="','"\n                                    ','\n                                        checked="checked"\n                                    ','\n                                    on:change="handleChangePreference"\n                                >\n                                <span class="'," bui-radio__label"," number-guests-option__label",'"\n                                >\n                                    ','\n                                        <span class="number-guests-option__flag"  role="presentation"></span>\n                                    ',"\n\n                                    ","\n                                        ","\n                                            ","fonticon/occupancy","small","\n                                    ",'\n                                        <span class="js-rt-filters--occupancy-multiplier">x</span>\n                                        <span class="js-rt-filters--occupancy-value">',"</span>\n                                    ","\n                                </span>\n                            </label>\n                        ","\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n","\n"],b=["fe_block_id","fe_max_number_guests","fe_exp_rsw_m_hp_rt_horizontal_scroll","store","fe_is_in_lightbox","fe_room_page_id","fe_blocks_selected","fe_preferences_selected","fe_preferences_block","fe_room_index","fe_input_name","fe_selected_number_guests","fe_blocks_count","fe_bui","b_lang_is_rtl"];return _r_(function(l){_i_("65cb:79a215ac");var e="",d=this.fn;return e=function(e){_i_("65cb:d38a5962"),e+=[f[1],"",f[2]].join(""),d.MD(b[2])?(e+=f[3],d.MN("fe_block_id",d.MB(b[0])),e+=f[3],d.MN("fe_max_number_guests",d.MB(b[1]))):(e+=f[4],d.MJ(d.MB(b[4]))&&d.MJ(d.MB(b[5])+""==""+d.MC(b[3]).roomsTable.roomPage.selectedRoomPageId)&&(e+=f[5],d.MN("fe_block_id",d.MG((((d.MC(b[3])||{}).roomsTable||{}).roomPage||{}).selectedBlockId)),e+=f[5],d.MN("fe_max_number_guests",d.MG(((((d.MC(b[3])||{}).roomsTable||{}).roomPage||{}).selectedBlock||{}).maxPersons)),e+=f[3])),e+=f[0],e+=f[6],d.MN("fe_blocks_selected",d.MG((((d.MC(b[3])||{}).roomsTable||{}).selection||{}).blocks)),e+=f[0],d.MN("fe_blocks_count",0),e+=f[0],d.MJ(d.MB(b[0]))&&d.MJ(d.MB(b[6]))&&d.MJ(d.MC(b[6])[d.MB(b[0])])&&(e+=f[3],d.MN("fe_blocks_count",d.MC(b[6])[d.MC(b[0])].count),e+=f[0]),e+=f[6],d.MN("fe_preferences_selected",d.MG(((d.MC(b[3])||{}).preferences||{}).perBlock)),e+=f[0],d.MN("fe_selected_number_guests",0),e+=f[0],d.MJ(d.MB(b[0]))&&d.MJ(d.MB(b[7]))&&d.MJ(d.MC(b[7])[d.MB(b[0])])&&(e+=f[3],d.MN("fe_preferences_block",d.MC(b[7])[d.MB(b[0])]),e+=f[3],d.MN("fe_show_per_room",d.MG((d.MC(b[8])||{}).showPerRoom)),e+=f[3],d.MN("fe_selected_number_guests",d.MC(b[8]).numberGuests[d.MB(b[9])]),e+=f[0]),e+=f[7],d.MJ(d.MB(b[12]))&&d.MJ(d.MB(b[11]))&&(e+=f[5],d.MN("fe_input_name","nr_guests_"+d.MB(b[0])),e+=[f[8],d.F.entities(d.MC(b[10])),f[9],d.F.entities(d.MC(b[11])),f[10]].join("")),e+=f[11],e+=f[12],d.MD(b[13])?e+=f[13]:e+=f[14],e+=f[15],e+=f[16],e+=[f[17],d.ME(f[18],d.MB,d.MN,null),f[19]].join(""),d.MK(d.MB(b[4]))&&(e+=f[20]),e+=f[21];var t=d.seq(1,d.MB(b[1]))||[];l.unshift({fe_number_persons:null});for(var n,i=1,r=t.length;i<=r;i++){if(l[0].fe_number_persons=n=t[i-1],e+=f[22],e+=f[23],d.MD(b[13])?e+=f[24]:(e+=f[25],d.MD(b[14])&&(e+=f[26]),e+=f[23],d.MJ(n.value==d.MB(b[1]))&&(e+=f[27]),e+=f[23]),e+=f[23],e+=[f[28],(l.unshift({num_adults:n.value}),u=d.ME(f[29],d.MB,d.MN,null),l.shift(),u),f[30]].join(""),e+=f[31],d.MD(b[13])?e+=f[32]:e+=f[33],e+=[f[34],d.F.entities((n||{}).value),f[35]].join(""),d.MJ(d.MB(b[11])==n.value)&&(e+=f[36]),e+=f[37],d.MD(b[13])?e+=f[38]:e+=f[39],e+=f[40],d.MD(b[13])||(e+=f[41]),e+=f[42],d.MJ(n.value<4)){e+=f[43];var _,a=i,o=t,s=r,c=_;for(t=d.seq(1,n.value)||[],l.unshift({item:null}),i=1,r=t.length;i<=r;i++)l[0].item=_=t[i-1],e+=[f[44],(l.unshift({name:f[45],size:f[46]}),u=d.HELPER("icon",l[0]),l.shift(),u),f[43]].join("");l.shift(),i=a,t=o,r=s,_=c,e+=f[47]}else e+=[f[43],(l.unshift({name:f[45],size:f[46]}),u=d.HELPER("icon",l[0]),l.shift(),u),f[48],d.F.entities((n||{}).value),f[49]].join("");e+=f[50]}return l.shift(),e+=[f[51],"",f[52]].join(""),_r_(e)}(e+=f[0]),e+=f[52],_r_(e)})}()),function(e){_i_("65cb:a0579bac"),e.define("component/hotel/room-preferences/bed-preference",function(e,t,n){_i_("65cb:3a2a010a");var i=e("component/reactive"),o=e("hotel/store"),s=e("hotel/preferences/actions"),r=e("server-data"),c=r.b_room_blocks_json||{},_=e("hotel/room_preferences/horizontal_rate_preference/utils"),l=Number(r.fe_exp_rsw_m_hp_rt_horizontal_scroll),d=Number(r.fe_exp_variant_rsw_m_rt_hs_bed_config_display);n.exports=i.extend({template:"room_preferences_bed",store:o,initialState:{b_lang_is_rtl:r.b_lang_is_rtl,b_lang_is_ja:r.b_lang&&"ja"===r.b_lang},initialize:function(){_i_("65cb:2656144b");var e=this.$el.data("blockId"),t=c[e]?c[e].preferences.bedPreference:[],n=this.$el.find(".js-bed-option-radio:checked"),i=Number(this.$el.data("roomIndex")||0),r=this.$el.data("isLightboxPreferences"),_=this.$el.data("roomPageId");if(n.length){var a=n.val();o.dispatch(s.updateBedPreference(e,Number(a),i))}this.setState({fe_block_id:e,fe_room_index:i,fe_bed_configuration:t,fe_bui:this.$el.data("useBui"),fe_is_in_lightbox:1===r,fe_room_page_id:_,fe_exp_rsw_m_hp_rt_horizontal_scroll:l,fe_exp_variant_rsw_m_rt_hs_bed_config_display:d}),_r_()},getInnerState:function(){_i_("65cb:242bcd5c");var e=this.__state;if(0<l){var t=e.fe_block_id,n=_.getProxyBlockId(t),i=[];c[n]&&c[n].preferences&&c[n].preferences.bedPreference&&(i=c[n].preferences.bedPreference),e=Object.assign(e,{fe_block_id:n,fe_bed_configuration:i})}return _r_(e)},handleChangePreference:function(e){_i_("65cb:5c677f78");var t=e.currentTarget.value,n=this.getState();o.dispatch(s.updateBedPreference(n.fe_block_id,Number(t),Number(n.fe_room_index))),_r_()}}),_r_()}),_r_()}(booking),booking.jstmpl("room_preferences_bed",function(){_i_("65cb:66a17766");var m,M=["\n    ","\n\n\n\n\n\n\n\n\n","\n\n    \n\n    \n    \n    ","\n        ","\n            ","\n\n    ",'\n\n\n    \n    <div class="bed-preferences--wrapper '," bed-option-select",' js-room-preference_group room_preference_select__wrapper">\n        ','\n    <div data-et-view="',':4"></div>\n    ','\n        <input type="hidden" name="bed_prefs_chosen_','" value="','">\n    ','\n    <div\n        class="',"bed-option-select__form room_preference_select__wrapper room_preference_select__wrapper-beds",'"\n    >\n        <div\n            class="'," bed-option-select__options room_preference_select__inner_wrapper "," bui-group bui-group--small "," ",'"\n        >\n            <div class="',"room_preferences__title bui-group__item",'">\n                ',"/private/m_room_preferences_bed_heading/name",'\n            </div>\n\n            <div\n                class="',"bui-group ","bui-group--inline",'"\n            >\n\n                ',"\n                    ","\n                        ","\n                            ",'\n\n                    <label\n                        class="'," bui-radio bui-group__item "," bed-option-select__option rt_bed_preference__option "," bed-option-select__option--last ",'"\n                    >\n                        ',"0",'\n\n                        <input\n                            type="radio"\n                            class="',"js-bed-option-radio"," bui-radio__input"," bed-option-select__radio",'"\n                            ','\n                            checked="checked"\n                            ','\n                            data-bed-count="','"\n                            on:change="handleChangePreference"\n                            value="','\n                                name="bed_prefs_chosen_','\n                        >\n\n                        \n                        \n\n\n                        <span class="'," bui-radio__label"," bed-option-select__label rt_bed_preference__select",'"\n                        >\n                            ','\n                                <span class="bed-option-select__flag css-loading-hidden" role="presentation"></span>\n                            ',"\n                                <span>\n                                ","\n                                    ","\n","m-rs-bed-icon-hs-middle","streamline/bed_alt","medium","streamline/bunk_bed","streamline/couch","streamline/bed_add","streamline/bed","streamline/shower","streamline/hotel_double_bed"," \n                                    \n                                ","multiple"," \n                                ","\n                                </span>\n                            ","\n                                ","\n                                <span>,&nbsp;</span>\n                                ",'\n                                <span class="rt_bed_preference__bed_wrapper">\n                                    ',"\n                                        ","\n                                            ","/private/loc_bed_type_extra_large_double_bed_ja/name","/private/loc_bed_type_large_double_bed_ja/name","\n                        </span>\n                    </label>\n                ","\n            </div>\n        </div>\n    </div>\n",'\n        <div data-et-view="',"\n\n                            ","\n\n                                    ","hp_rt_bed_icon hp_rt_bed_icon__single_bed","12","fonticon/bed","hp_rt_bed_icon","fonticon/bunk","fonticon/couch","fonticon/double","\n                                        \n                                        ","\n                                                ",'\n\n                                        <span class="bed_size_block__bed">',"</span>\n                                        \n                                    ",'\n                                        <span class="bed_size_block__bed">'," x ","\n                                        </span>\n                                    ","\n    </div>\n"],v=["fe_block_id","fe_bed_configuration","fe_exp_rsw_m_hp_rt_horizontal_scroll","store","fe_is_in_lightbox","fe_room_page_id","fe_blocks_selected","fe_preferences_selected","fe_preferences_block","fe_room_index","fe_bui","fe_selected_bed_preference","fe_blocks_count","fe_first_bed_type","fe_total_count","count","fe_force_input_name","fe_bedtype_id","fe_unique_bed_type","fe_exp_variant_rsw_m_rt_hs_bed_config_display","b_lang_is_ja","fe_bed_icon","fe_hp_rt_bedtype_id","fe_multiple_beds_icon","fe_bed_count"];return _r_(function(h){_i_("65cb:f52ddfa0");var e,t="",p=this.fn;function b(e){return _i_("65cb:7cfa69dc"),e+=M[53],p.MJ(1==p.MB(v[17]))?e+=[M[0],(h.unshift({class:M[54],name:M[55],size:M[56]}),m=p.HELPER("icon",h[0]),h.shift(),m),M[53]].join(""):p.MJ(4==p.MB(v[17]))?e+=[M[0],(h.unshift({class:M[54],name:M[57],size:M[56]}),m=p.HELPER("icon",h[0]),h.shift(),m),M[53]].join(""):p.MJ(5==p.MB(v[17]))?e+=[M[0],(h.unshift({class:M[54],name:M[58],size:M[56]}),m=p.HELPER("icon",h[0]),h.shift(),m),M[53]].join(""):p.MJ(p.MB(v[17])+""=="multiple")?e+=[M[0],(h.unshift({class:M[54],name:M[59],size:M[56]}),m=p.HELPER("icon",h[0]),h.shift(),m),M[53]].join(""):p.MJ(p.MB(v[17])+""=="default_bed")?e+=[M[0],(h.unshift({class:M[54],name:M[60],size:M[56]}),m=p.HELPER("icon",h[0]),h.shift(),m),M[53]].join(""):p.MJ(p.MB(v[17])+""=="bathroom")?e+=[M[0],(h.unshift({class:M[54],name:M[61],size:M[56]}),m=p.HELPER("icon",h[0]),h.shift(),m),M[53]].join(""):e+=[M[0],(h.unshift({class:M[54],name:M[62],size:M[56]}),m=p.HELPER("icon",h[0]),h.shift(),m),M[53]].join(""),e+=M[53],_r_(e)}return t+=M[0],e=t,_i_("65cb:0ab3ce94"),e+=[M[1],"",M[2]].join(""),p.MJ(p.MB(v[2]))?(e+=M[3],p.MN("fe_block_id",p.MB(v[0])),e+=M[3],p.MN("fe_bed_configuration",p.MB(v[1]))):(e+=M[3],p.MJ(p.MB(v[4]))&&p.MJ(p.MB(v[5])+""==""+p.MC(v[3]).roomsTable.roomPage.selectedRoomPageId)&&(e+=M[4],p.MN("fe_block_id",p.MG((((p.MC(v[3])||{}).roomsTable||{}).roomPage||{}).selectedBlockId)),e+=M[4],p.MN("fe_bed_configuration",p.MG((((((p.MC(v[3])||{}).roomsTable||{}).roomPage||{}).selectedBlock||{}).preferences||{}).bedPreference)),e+=M[3])),e+=M[0],e+=M[5],p.MN("fe_blocks_selected",p.MG((((p.MC(v[3])||{}).roomsTable||{}).selection||{}).blocks)),e+=M[0],p.MN("fe_blocks_count",0),e+=M[0],p.MJ(p.MB(v[0]))&&p.MJ(p.MB(v[6]))&&p.MJ(p.MC(v[6])[p.MB(v[0])])&&(e+=M[3],p.MN("fe_blocks_count",p.MC(v[6])[p.MC(v[0])].count),e+=M[0]),e+=M[5],p.MN("fe_preferences_selected",p.MG(((p.MC(v[3])||{}).preferences||{}).perBlock)),e+=M[0],p.MJ(p.MB(v[0]))&&p.MJ(p.MB(v[7]))&&p.MJ(p.MC(v[7])[p.MB(v[0])])&&(e+=M[3],p.MN("fe_preferences_block",p.MC(v[7])[p.MB(v[0])]),e+=M[3],p.MN("fe_selected_bed_preference",p.MC(v[8]).bedPreference[p.MB(v[9])]),e+=M[3],p.MN("fe_show_per_room",p.MG((p.MC(v[8])||{}).showPerRoom)),e+=M[0]),e+=M[6],p.MD(v[10])||(e+=M[7]),e+=M[8],e=p.MD(v[19])?function(e){_i_("65cb:d121c4f2"),e+=["",M[9],p.F.entities("aaMRYBdQAFcSLceFccRMANdSSLT"),M[10]].join(""),p.MJ(p.MB(v[12]))&&p.MJ(p.MB(v[11]))&&(e+=[M[11],p.F.entities(p.MC(v[0])),M[12],p.F.entities(p.MC(v[11])),M[13]].join("")),e+=M[14],e+=M[15],e+=M[16],e+=M[17],p.MD(v[10])&&(e+=M[18]),e+=M[19],e+=M[20],e+=M[21],e+=[M[22],p.ME(M[23],p.MB,p.MN,null),M[24]].join(""),e+=M[25],p.MK(p.MB(v[4]))&&(e+=M[26]),e+=M[27];var t=p.MC(v[1])||[];h.unshift({fe_bed_type_configurations:null});for(var n,i=1,r=t.length;i<=r;i++){h[0].fe_bed_type_configurations=n=t[i-1],e+=M[28],p.MN("fe_first_bed_type",-1),e+=M[28],p.MN("fe_unique_bed_type",1),e+=M[28];var _,a=i,o=t,s=r,c=_;for(t=(n||{}).bed_type||[],h.unshift({fe_bed_type:null}),i=1,r=t.length;i<=r;i++)h[0].fe_bed_type=_=t[i-1],e+=M[29],p.MJ(-1==p.MB(v[13]))?(e+=M[30],p.MN("fe_first_bed_type",_.bedtype_id),e+=M[29]):p.MJ(p.MB(v[13])!=_.bedtype_id)&&(e+=M[30],p.MN("fe_unique_bed_type",0),e+=M[29]),e+=M[28];for(h.shift(),i=a,t=o,r=s,_=c,e+=M[28],p.MN("fe_this_preference_should_be_preselected",0),e+=M[31],e+=M[19],p.MD(v[10])?e+=M[32]:e+=M[33],e+=M[19],p.MJ(i==t.length)&&(e+=M[34]),e+=M[19],e+=M[35],p.MN(v[14],M[36]),e+=M[29],a=i,o=t,s=r,t=(n||{}).bed_type||[],h.unshift(null),i=1,r=t.length;i<=r;i++)h[0]=t[i-1],e+=M[30],p.MN("fe_total_count",p.MI(p.MB(v[14]))+p.MI(p.MB(v[15]))),e+=M[29];if(h.shift(),i=a,t=o,r=s,e+=M[37],e+=M[38],p.MD(v[10])?e+=M[39]:e+=M[40],e+=M[41],p.MJ(p.MB(v[11])==n.bed_type[0].configuration_id)&&(e+=M[42]),e+=[M[43],p.F.entities(p.MC(v[14])),M[44],p.F.entities(n.bed_type[0].configuration_id),M[41]].join(""),p.MD(v[16])&&(e+=[M[45],p.F.entities(p.MC(v[0])),M[41]].join("")),e+=M[46],p.MD(v[10])?e+=M[47]:e+=M[48],e+=M[49],p.MD(v[10])||(e+=M[50]),e+=M[30],p.MJ(1==p.MB(v[19]))){if(e+=M[51],p.MJ(1==p.MB(v[18]))){e+=M[52];var l={fe_bedtype_id:p.MB(v[13])},d=h;(h=p.SV([{},{}])).unshift(l),e=b(e),h=p.SV(d),e+=M[63]}else e+=M[52],l={fe_bedtype_id:M[64]},d=h,(h=p.SV([{},{}])).unshift(l),e=b(e),h=p.SV(d),e+=M[65];e+=M[66]}e+=M[30],a=i,o=t,s=r;var u,f=u;for(t=(n||{}).bed_type||[],h.unshift({fe_bed_configuration:null}),i=1,r=t.length;i<=r;i++)h[0].fe_bed_configuration=u=t[i-1],e+=M[67],p.MK(p.MJ(1==i))&&(e+=M[68]),e+=M[69],p.MJ(p.MC(v[20]))&&(p.MJ(3==u.bedtype_id)||p.MJ(6==u.bedtype_id))?(e+=M[70],p.MJ(3==u.bedtype_id)?e+=[M[71],(h.unshift({bed_count:u.count}),m=p.ME(M[72],p.MB,p.MN,null),h.shift(),m),M[70]].join(""):p.MJ(6==u.bedtype_id)&&(e+=[M[71],(h.unshift({bed_count:u.count}),m=p.ME(M[73],p.MB,p.MN,null),h.shift(),m),M[70]].join("")),e+=M[52]):e+=[M[70],p.F.entities(u.name_withnumber||u.name),M[52]].join(""),e+=M[66];h.shift(),i=a,t=o,r=s,u=f,e+=M[74]}return h.shift(),e+=[M[75],"",M[53]].join(""),_r_(e)}(e+=M[4]):function(e){_i_("65cb:12793eb1"),e+=["",M[5]].join(""),p.MJ(p.MB(v[12]))&&p.MJ(p.MB(v[11]))&&(e+=[M[11],p.F.entities(p.MC(v[0])),M[12],p.F.entities(p.MC(v[11])),M[13]].join("")),e+=M[5],p.MJ(p.MB(v[2]))&&(e+=[M[76],p.F.entities("aaMRYBdQAFcSLceFccRMANdSSLT"),M[10]].join("")),e+=M[14],e+=M[15],e+=M[16],e+=M[17],p.MD(v[10])&&(e+=M[18]),e+=M[19],e+=M[20],e+=M[21],e+=[M[22],p.ME(M[23],p.MB,p.MN,null),M[24]].join(""),e+=M[25],p.MK(p.MB(v[4]))&&(e+=M[26]),e+=M[27];var t,n=p.MC(v[1])||[];h.unshift({fe_bed_type_configurations:null});for(var i,r=1,_=n.length;r<=_;r++){h[0].fe_bed_type_configurations=i=n[r-1],e+=M[28],p.MN("fe_this_preference_should_be_preselected",0),e+=M[31],e+=M[19],p.MD(v[10])?e+=M[32]:e+=M[33],e+=M[19],p.MJ(r==n.length)&&(e+=M[34]),e+=M[19],e+=M[35],p.MN(v[14],M[36]),e+=M[29];var a=r,o=n,s=_;for(n=(i||{}).bed_type||[],h.unshift(null),r=1,_=n.length;r<=_;r++)h[0]=n[r-1],e+=M[30],p.MN("fe_total_count",p.MI(p.MB(v[14]))+p.MI(p.MB(v[15]))),e+=M[29];h.shift(),r=a,n=o,_=s,e+=M[37],e+=M[38],p.MD(v[10])?e+=M[39]:e+=M[40],e+=M[41],p.MJ(p.MB(v[11])==i.bed_type[0].configuration_id)&&(e+=M[42]),e+=[M[43],p.F.entities(p.MC(v[14])),M[44],p.F.entities(i.bed_type[0].configuration_id),M[41]].join(""),p.MD(v[16])&&(e+=[M[45],p.F.entities(p.MC(v[0])),M[41]].join("")),e+=M[46],p.MD(v[10])?e+=M[47]:e+=M[48],e+=M[49],p.MD(v[10])||(e+=M[50]),e+=M[77],a=r,o=n,s=_;var c,l=c;for(n=(i||{}).bed_type||[],h.unshift({fe_bed_configuration:null}),r=1,_=n.length;r<=_;r++){h[0].fe_bed_configuration=c=n[r-1],e+=M[67],p.MK(p.MJ(1==r))&&(e+=M[68]),e+=M[69],p.MJ(p.MC(v[20]))&&(p.MJ(3==c.bedtype_id)||p.MJ(6==c.bedtype_id))?(e+=M[70],p.MJ(3==c.bedtype_id)?e+=[M[71],(h.unshift({bed_count:c.count}),m=p.ME(M[72],p.MB,p.MN,null),h.shift(),m),M[70]].join(""):p.MJ(6==c.bedtype_id)&&(e+=[M[71],(h.unshift({bed_count:c.count}),m=p.ME(M[73],p.MB,p.MN,null),h.shift(),m),M[70]].join("")),e+=M[52]):e+=[M[70],p.F.entities(c.name_withnumber||c.name),M[52]].join(""),e+=M[78],p.MN("fe_bed_count",c.count),e+=M[78];var d="";if(d+=M[70],h.unshift({fe_hp_rt_bedtype_id:c.bedtype_id}),t=d,_i_("65cb:de0c3e0c"),t+=[M[53],"",M[53]].join(""),p.MJ(1==p.MB(v[22]))?t+=[M[0],(h.unshift({class:M[79],height:M[80],name:M[81]}),m=p.HELPER("icon",h[0]),h.shift(),m),M[53]].join(""):p.MJ(4==p.MB(v[22]))?t+=[M[0],(h.unshift({class:M[82],height:M[80],name:M[83]}),m=p.HELPER("icon",h[0]),h.shift(),m),M[53]].join(""):p.MJ(5==p.MB(v[22]))?t+=[M[0],(h.unshift({class:M[82],height:M[80],name:M[84]}),m=p.HELPER("icon",h[0]),h.shift(),m),M[53]].join(""):t+=[M[0],(h.unshift({class:M[82],height:M[80],name:M[85]}),m=p.HELPER("icon",h[0]),h.shift(),m),M[53]].join(""),t+=[M[53],""].join(""),d=_r_(t),h.shift(),d+=M[52],p.MN(v[21],d),e+=M[78],p.MJ(p.MB(v[24])<=3)){e+=M[86],d="",d+=M[71];var u=r,f=n,b=_;for(n=p.seq(1,p.MB(v[24]))||[],h.unshift(null),r=1,_=n.length;r<=_;r++)h[0]=n[r-1],d+=[M[87],p.MC(v[21]),M[71]].join("");h.shift(),r=u,n=f,_=b,d+=M[70],p.MN(v[23],d),e+=[M[88],p.MC(v[23]),M[89]].join("")}else e+=[M[90],p.F.entities(p.MB(v[24])),M[91],p.MC(v[21]),M[92]].join("");e+=M[66]}h.shift(),r=a,n=o,_=s,c=l,e+=M[74]}return h.shift(),e+=[M[75],"",M[53]].join(""),_r_(e)}(e+=M[4]),e+=M[3],e+=[M[93],"",M[53]].join(""),t=_r_(e),t+=M[53],_r_(t)})}()),function(e){_i_("65cb:11b52859"),e.define("component/hotel/room-preferences/floor-preference",function(e,t,n){_i_("65cb:c07def8a");var i=e("component/reactive"),r=e("hotel/store"),_=e("hotel/preferences/actions"),a=e("server-data"),o=e("hotel/room_preferences/horizontal_rate_preference/utils"),s=Number(a.fe_exp_rsw_m_hp_rt_horizontal_scroll);n.exports=i.extend({template:"room_preferences_floor",store:r,initialState:{b_lang_is_rtl:a.b_lang_is_rtl},initialize:function(){_i_("65cb:9a8ca89a");var e=this.$el.data("isLightboxPreferences"),t=this.$el.data("roomPageId");this.setState({fe_block_id:this.$el.data("blockId"),fe_room_index:this.$el.data("roomIndex"),fe_bui:this.$el.data("useBui"),fe_is_in_lightbox:1===e,fe_room_page_id:t,fe_exp_rsw_m_hp_rt_horizontal_scroll:s}),_r_()},getInnerState:function(){_i_("65cb:59b38ae0");var e=this.__state;if(0<s){var t=e.fe_block_id,n=o.getProxyBlockId(t);e=Object.assign(e,{fe_block_id:n})}return _r_(e)},handleChangePreference:function(e){_i_("65cb:b8ea90ed");var t=e.currentTarget.value,n=this.getState();r.dispatch(_.updateFloorPreference(n.fe_block_id,Number(t),Number(n.fe_room_index))),_r_()}}),_r_()}),_r_()}(booking),booking.jstmpl("room_preferences_floor",function(){_i_("65cb:15ab6f29");var r=["\n    ","\n\n\n\n\n\n\n\n\n","\n\n    \n\n    \n    \n    ","\n        ","\n        \n        ","\n            ","\n     ","\n\n    ",'\n\n    \n    <div\n        class="room_preference_select__wrapper room_preference_select__wrapper-floor"\n    >\n        ',"\n\n            ",'\n\n            <input type="hidden" name="','" value="','">\n        ','\n\n        <div class="floor-request js-room-preference_group">\n            <div class="number-guests-option__form">\n                <div class="',"room_preference_select__inner_wrapper"," bui-group bui-group--small",'"\n                >\n                    <div\n                        class="',"room_preferences__title bui-group__item",'"\n                    >\n                        ',"/private/m_room_preferences_floor_heading/name",'\n                    </div>\n\n                    <div\n                        class="',"bui-group ","bui-group--inline",'"\n                    >\n                        <label\n                            class="'," "," bui-radio bui-group__item "," number-guests-option__option "," number-guests-option__option--rtl ",'"\n                        >\n                            <input\n                                type="radio"\n                                class="',"js-floor-request-radio"," bui-radio__input"," number-guests-option__radio",'"\n                                value="1"\n                                ','\n                                    checked="checked"\n                                ','\n                                on:change="handleChangePreference"\n                            >\n                            <span class="'," bui-radio__label"," number-guests-option__label",'">\n                                ','\n                                    <span class="number-guests-option__flag" role="presentation"></span>\n                                ',"\n                                ","/private/hp_floor_preference_upper_room/name",'\n                            </span>\n                        </label>\n\n                        <label\n                            class="','"\n                                value="2"\n                                ',"/private/hp_floor_preference_ground_room/name","\n                            </span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n","\n"],_=["fe_block_id","fe_exp_rsw_m_hp_rt_horizontal_scroll","store","fe_is_in_lightbox","fe_room_page_id","fe_blocks_selected","fe_preferences_selected","fe_preferences_block","fe_room_index","fe_input_name","fe_selected_floor_preference","fe_blocks_count","fe_bui","b_lang_is_rtl"];return _r_(function(e){_i_("65cb:79fcce21");var t,n="",i=this.fn;return n+=r[0],t=n,_i_("65cb:5d441eb5"),t+=[r[1],"",r[2]].join(""),i.MD(_[1])?(t+=r[3],i.MN("fe_block_id",i.MB(_[0])),t+=r[0]):(t+=r[4],i.MJ(i.MB(_[3]))&&i.MJ(i.MB(_[4])+""==""+i.MC(_[2]).roomsTable.roomPage.selectedRoomPageId)&&(t+=r[5],i.MN("fe_block_id",i.MG((((i.MC(_[2])||{}).roomsTable||{}).roomPage||{}).selectedBlockId)),t+=r[3]),t+=r[6]),t+=r[7],i.MN("fe_blocks_selected",i.MG((((i.MC(_[2])||{}).roomsTable||{}).selection||{}).blocks)),t+=r[0],i.MN("fe_blocks_count",0),t+=r[0],i.MJ(i.MB(_[0]))&&i.MJ(i.MB(_[5]))&&i.MJ(i.MC(_[5])[i.MB(_[0])])&&(t+=r[3],i.MN("fe_blocks_count",i.MC(_[5])[i.MC(_[0])].count),t+=r[0]),t+=r[7],i.MN("fe_preferences_selected",i.MG(((i.MC(_[2])||{}).preferences||{}).perBlock)),t+=r[0],i.MJ(i.MB(_[0]))&&i.MJ(i.MB(_[6]))&&i.MJ(i.MC(_[6])[i.MB(_[0])])&&(t+=r[3],i.MN("fe_preferences_block",i.MC(_[6])[i.MB(_[0])]),t+=r[3],i.MN("fe_show_per_room",i.MG((i.MC(_[7])||{}).showPerRoom)),t+=r[0]),t+=r[0],i.MN("fe_selected_floor_preference",i.MC(_[7]).floorPreference[i.MB(_[8])]),t+=r[8],i.MJ(i.MB(_[11]))&&i.MJ(i.MB(_[10]))&&(t+=r[9],i.MN("fe_input_name","floor_preference_"+i.MB(_[0])),t+=[r[10],i.F.entities(i.MC(_[9])),r[11],i.F.entities(i.MC(_[10])),r[12]].join("")),t+=r[13],t+=r[14],i.MD(_[12])&&(t+=r[15]),t+=r[16],t+=r[17],t+=[r[18],i.ME(r[19],i.MB,i.MN,null),r[20]].join(""),t+=r[21],i.MK(i.MB(_[3]))&&(t+=r[22]),t+=r[23],t+=r[24],i.MD(_[12])?t+=r[25]:(t+=r[26],i.MD(_[13])&&(t+=r[27]),t+=r[24]),t+=r[24],t+=r[28],t+=r[29],i.MD(_[12])?t+=r[30]:t+=r[31],t+=r[32],i.MJ(1==i.MB(_[10]))&&(t+=r[33]),t+=r[34],i.MD(_[12])?t+=r[35]:t+=r[36],t+=r[37],i.MD(_[12])||(t+=r[38]),t+=[r[39],i.ME(r[40],i.MB,i.MN,null),r[41]].join(""),t+=r[24],i.MD(_[12])?t+=r[25]:(t+=r[26],i.MD(_[13])&&(t+=r[27]),t+=r[24]),t+=r[24],t+=r[28],t+=r[29],i.MD(_[12])?t+=r[30]:t+=r[31],t+=r[42],i.MJ(2==i.MB(_[10]))&&(t+=r[33]),t+=r[34],i.MD(_[12])?t+=r[35]:t+=r[36],t+=r[37],i.MD(_[12])||(t+=r[38]),t+=[r[39],i.ME(r[43],i.MB,i.MN,null),r[44],"",r[45]].join(""),n=_r_(t),n+=r[45],_r_(n)})}()),function(e){_i_("65cb:f39a37fa"),e.define("component/hotel/room-preferences/smoking-preference",function(e,t,n){_i_("65cb:5322e818");var i=e("component/reactive"),r=e("hotel/store"),_=e("hotel/preferences/actions"),a=e("server-data"),o=e("hotel/room_preferences/horizontal_rate_preference/utils"),s=Number(a.fe_exp_rsw_m_hp_rt_horizontal_scroll);n.exports=i.extend({template:"room_preferences_smoking",store:r,initialState:{b_lang_is_rtl:a.b_lang_is_rtl},initialize:function(){_i_("65cb:c05e2bf5");var e=this.$el.data("isLightboxPreferences"),t=this.$el.data("roomPageId");this.setState({fe_room_id:this.$el.data("roomId"),fe_block_id:this.$el.data("blockId"),fe_room_index:this.$el.data("roomIndex"),fe_bui:this.$el.data("useBui"),fe_is_in_lightbox:1===e,fe_room_page_id:t,fe_exp_rsw_m_hp_rt_horizontal_scroll:s}),_r_()},getInnerState:function(){_i_("65cb:43d24a91");var e=this.__state;if(0<s){var t=e.fe_block_id,n=o.getProxyBlockId(t),i=o.getRoomIdFromBlockId(n);e=Object.assign(e,{fe_block_id:n,fe_room_page_id:i})}return _r_(e)},handleChangePreference:function(e){_i_("65cb:efb01f44");var t=e.currentTarget.value,n=this.getState();r.dispatch(_.updateSmokingPreference(n.fe_block_id,Number(t),Number(n.fe_room_index))),_r_()}}),_r_()}),_r_()}(booking),booking.jstmpl("room_preferences_smoking",function(){_i_("65cb:4ac5021b");var r=["\n    ","\n\n\n\n\n\n\n\n\n","\n\n    \n\n    \n    ","\n        ","\n        \n        ","\n            ","\n\n    ",'\n\n    \n    <div\n        class="room_preference_select__wrapper room_preference_select__wrapper-smoking"\n    >\n        ','\n            <input type="hidden" name="smoking_prefs_chosen_','" value="','">\n        ','\n        <div class="smoking-option js-room-preference_group">\n            <div class="smoking-option__form">\n                <div class="',"room_preference_select__inner_wrapper smoking-option__options"," bui-group bui-group--small",'"\n                >\n                    <div class="',"room_preferences__title bui-group__item",'">\n                        ',"/private/m_room_preferences_smoking_heading/name",'\n                    </div>\n\n                    <div\n                        class="',"bui-group ","bui-group--inline",'"\n                    >\n                        <label\n                        class="'," "," bui-radio bui-group__item "," smoking-option__option "," smoking-option__option--rtl ",'"\n                        >\n                            <input\n                                type="radio"\n                                class="',"js-smoking-option-radio"," bui-radio__input"," smoking-option__radio",'"\n                                value="2"\n                                ','\n                                checked="checked"\n                                ','\n                                on:change="handleChangePreference"\n                            >\n                            <span class="'," bui-radio__label"," smoking-option__label",'">\n                                ','\n                                    <span class="smoking-option__flag" role="presentation"></span>\n                                ',"\n                                ","/private/bhgwe_no_smoking_radio/name",'\n                            </span>\n                        </label>\n\n                        <label\n                            class="'," smoking-option__option--last ",'"\n                                value="1"\n                                ',"/private/bhgwe_smoking_radio/name","\n                            </span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n","\n"],_=["fe_block_id","fe_room_page_id","fe_exp_rsw_m_hp_rt_horizontal_scroll","store","fe_is_in_lightbox","fe_blocks_selected","fe_preferences_selected","fe_preferences_block","fe_room_index","fe_room_id","fe_selected_smoking_preference","fe_blocks_count","fe_bui","b_lang_is_rtl"];return _r_(function(e){_i_("65cb:3afa32b5");var t,n="",i=this.fn;return n+=r[0],t=n,_i_("65cb:539112fb"),t+=[r[1],"",r[2]].join(""),i.MD(_[2])?(t+=r[3],i.MN("fe_block_id",i.MB(_[0])),t+=r[3],i.MN("fe_room_id",i.MB(_[1]))):(t+=r[4],i.MJ(i.MB(_[4]))&&i.MJ(i.MB(_[1])+""==""+i.MC(_[3]).roomsTable.roomPage.selectedRoomPageId)&&(t+=r[5],i.MN("fe_block_id",i.MG((((i.MC(_[3])||{}).roomsTable||{}).roomPage||{}).selectedBlockId)),t+=r[5],i.MN("fe_room_id",i.MG(((((i.MC(_[3])||{}).roomsTable||{}).roomPage||{}).selectedBlock||{}).roomId)),t+=r[3])),t+=r[0],t+=r[6],i.MN("fe_blocks_selected",i.MG((((i.MC(_[3])||{}).roomsTable||{}).selection||{}).blocks)),t+=r[0],i.MN("fe_blocks_count",0),t+=r[0],i.MJ(i.MB(_[0]))&&i.MJ(i.MB(_[5]))&&i.MJ(i.MC(_[5])[i.MB(_[0])])&&(t+=r[3],i.MN("fe_blocks_count",i.MC(_[5])[i.MC(_[0])].count),t+=r[0]),t+=r[6],i.MN("fe_preferences_selected",i.MG(((i.MC(_[3])||{}).preferences||{}).perBlock)),t+=r[0],i.MJ(i.MB(_[0]))&&i.MJ(i.MB(_[6]))&&i.MJ(i.MC(_[6])[i.MB(_[0])])&&(t+=r[3],i.MN("fe_preferences_block",i.MC(_[6])[i.MB(_[0])]),t+=r[3],i.MN("fe_show_per_room",i.MG((i.MC(_[7])||{}).showPerRoom)),t+=r[0]),t+=r[0],i.MN("fe_selected_smoking_preference",i.MC(_[7]).smokingPreference[i.MB(_[8])]),t+=r[7],i.MJ(i.MB(_[11]))&&i.MJ(i.MB(_[10]))&&(t+=[r[8],i.F.entities(i.MC(_[9])),r[9],i.F.entities(i.MC(_[10])),r[10]].join("")),t+=r[11],t+=r[12],i.MD(_[12])&&(t+=r[13]),t+=r[14],t+=r[15],t+=[r[16],i.ME(r[17],i.MB,i.MN,null),r[18]].join(""),t+=r[19],i.MK(i.MB(_[4]))&&(t+=r[20]),t+=r[21],t+=r[22],i.MD(_[12])?t+=r[23]:t+=r[24],t+=r[22],i.MD(_[13])&&(t+=r[25]),t+=r[22],t+=r[26],t+=r[27],i.MD(_[12])?t+=r[28]:t+=r[29],t+=r[30],i.MJ(2==i.MB(_[10]))&&(t+=r[31]),t+=r[32],i.MD(_[12])?t+=r[33]:t+=r[34],t+=r[35],i.MD(_[12])||(t+=r[36]),t+=[r[37],i.ME(r[38],i.MB,i.MN,null),r[39]].join(""),t+=r[22],i.MD(_[12])?t+=r[23]:t+=r[24],t+=r[22],i.MD(_[13])&&(t+=r[25]),t+=r[40],t+=r[26],t+=r[27],i.MD(_[12])?t+=r[28]:t+=r[29],t+=r[41],i.MJ(1==i.MB(_[10]))&&(t+=r[31]),t+=r[32],i.MD(_[12])?t+=r[33]:t+=r[34],t+=r[35],i.MD(_[12])||(t+=r[36]),t+=[r[37],i.ME(r[42],i.MB,i.MN,null),r[43],"",r[44]].join(""),n=_r_(t),n+=r[44],_r_(n)})}()),B.define("hotel/room_preferences/horizontal_rate_preference/utils",function(e,t,n){"use strict";_i_("65cb:3a00f190");var i=e("server-data"),r=e("hotel/store"),_=i.b_room_blocks_json||{};function a(e){_i_("65cb:4e6f9dc1");var t=r.getState().roomsTable.selection.blockIdOfRoomGroup[e];return _r_(t)}function o(e){if(_i_("65cb:fe1ef9181"),_.hasOwnProperty(e))return _r_(_[e].roomId);return _r_(null)}n.exports={getSelectedBlockIdFromRoomId:a,getRoomIdFromBlockId:o,getProxyBlockId:function(e){_i_("65cb:7f47a316");var t=o(e);return _r_(a(t)||e)},getPrimaryBlockId:function(e){_i_("65cb:eba33681");var t=o(e),n=document.querySelector('.js-room_block_data_dump[data-room-id="'+t+'"]');return _r_(n?n.dataset.primaryBlockId:"")}},_r_()}),B.define("component/hotel/horizontal_room_reserve",function(e,t,n){"use strict";_i_("65cb:68351dc2");var i=e("component/reactive"),b=e("hotel/roomstable/actions"),h=e("events"),p=e("event-bus"),m=e("hotel/roomstable").RT,M=e("et"),v=e("hotel/store"),g=e("server-data"),w=g.b_room_blocks_json||{},r=e("genius/room-upgrade/drawer"),y=e("hotel/room_preferences/horizontal_rate_preference/utils"),_=!1,a=Number(g.fe_exp_rsw_m_hp_rt_horizontal_scroll),o=!1;if(g&&g.b_hotel_chains)for(var s=0;s<g.b_hotel_chains.length;s+=1)0<g.b_hotel_chains[s].b_adf_id&&(o=!0);var c={clickCounter:{},isFirstRateClicked:!1,isSecondRateClicked:!1};n.exports=i.extend({template:"horizontal_reserve_button",store:v,initialize:function(){_i_("65cb:2652958b"),_=this.$el.data("isGeniusUser"),this.setState({isGeniusUser:_,blockId:this.$el.data("blockId"),selectedBlockId:null,showRemove:this.$el.data("showRemove"),group_recommendation_available:Boolean(document.querySelectorAll(".js-group_recommendation").length),hotelHasOnlineCheckIn:this.$el.data("hotelHasOnlineCheckIn"),hasRoomUpgradePromotion:Boolean(Number(this.$el.data("hasRoomUpgradePromotion"))),language:g.b_lang,fe_is_an_rtb_property:g.fe_is_an_rtb_property||0,fe_exp_rsw_m_hp_rt_horizontal_scroll:a,isSingleRate:this.$el.data("isSingleRate")}),_r_()},getInnerState:function(){_i_("65cb:a26ce4e5");var e=this.__state,t=e.showRemove;if(0<a&&1==t){var n=e.blockId,i=y.getProxyBlockId(n);e=Object.assign(e,{selectedBlockId:i})}return _r_(e)},selectRoom:function(e){_i_("65cb:316f19d6");var t=m.room(e),n=y.getRoomIdFromBlockId(e),i=v.getState().roomsTable.selection.blockIdOfRoomGroup[n],r=this.getInnerState().isGeniusUser,_=this.getInnerState().hasRoomUpgradePromotion,a=this.getInnerState().blockId,o=r&&_&&a!==e,s=this.getStoreState().store.roomsTable,c=s.selection.blocks,l=s.roomTypeAvailability;if(h.emit(h.EVENTS.RT_ROOM_SELECT,{$room:t.$room}),null===i)v.dispatch(b.addSelection(e));else if(i!==e)v.dispatch(b.setRatePlan(n,e));else if(o){var d=e in c&&c[e].count<w[e].maxRooms,u=w[e].sharesAvailabilityOnRoomLevel,f=0<l[n];(d||u&&f)&&v.dispatch(b.addSelection(e))}p.emit(h.EVENTS.RT_ROOM_SELECT_DONE),(2==g.fe_rsw_m_rt_hs_next_step_reordered_and_auto_scroll||Number(g.fe_rsw_m_hp_rt_cta_primary_next_step_auto_scroll))&&this.scrollNextStepInView(),r||(t.$room&&t.$room.find(".js-strikethrough-price").length&&M.goal("mdot_room_list_block_with_strikethrough_selected"),t.$room&&t.$room.find(".c-deals-container").length&&M.goal("mdot_room_list_block_with_badge_selected")),_r_()},handleClickReserve:function(e){_i_("65cb:52bd4266"),e.preventDefault();var t=this.getInnerState().blockId;this.getInnerState().isGeniusUser?(this.getInnerState().hasRoomUpgradePromotion?(e.preventDefault(),r.open(t,this.selectRoom.bind(this))):this.selectRoom(t),o&&B.et.customGoal("MCIAFKKHYYfPNQAFNSbeZVaPdLYXLO",2)):(this.selectRoom(t),this.getInnerState().disableSelection&&(v.dispatch(b.disableSelection()),$(".js-hp_rt_book_button").trigger("click"))),M.stage("aaMRYBdQAFcSLcbRPSCMeJXXQDXIFOfODDeJZVKMO",2),M.stage("aaMRYBENNQADbJeDFbbXfVcbRPSCMeJTOOeAFaIET",2);var n=t&&t.split("_")[0];void 0===c.clickCounter[n]&&(c.clickCounter[n]=0),c.clickCounter[n]++,c.isFirstRateClicked||(M.customGoal("aaMRYBdQAJUPPLcYSYNJcHIaO",1),M.customGoal("aaMRYBdQAFcSLcYFPWe",1),M.customGoal("aaMRYBdQAFcSLLcHWAZATDAbOLUNecO",1)),2!==c.clickCounter[n]||c.isSecondRateClicked||(M.customGoal("aaMRYBdQAJUPPLcYSYNJcHIaO",2),M.customGoal("aaMRYBdQAFcSLcYFPWe",2),c.isSecondRateClicked=!0,M.customGoal("aaMRYBdQAFcSLLcHWAZATDAbOLUNecO",2)),c.isFirstRateClicked=!0,_r_()},handleClickRemove:function(e){_i_("65cb:3a854a8e"),e.preventDefault();var t=this.getInnerState().blockId,n=m.room(t);if(h.emit(h.EVENTS.RT_ROOM_UNSELECT,{$room:n.$room}),this.dispatch(b.changeSelection(t,0)),0<a){var i=y.getRoomIdFromBlockId(t);this.dispatch(b.setRatePlan(i,null))}_r_()},scrollNextStepInView:function(){_i_("65cb:69e70069");var e=this.el,t=e.closest(".js-room-card")||e.closest(".js-rt-room-details-container");if(!t)return _r_();setTimeout(function(){_i_("65cb:893c9922");var e=t.querySelector(".js-next-step-footer");(function(e){_i_("65cb:9e98c3ab");var t=e.getBoundingClientRect();return _r_(0<=t.top&&0<=t.left&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth)})(e.querySelector(".js-hp_rt_book_button"))||e.scrollIntoView({behavior:"smooth",block:"end"}),_r_()},200),_r_()}}),_r_()}),booking.jstmpl("horizontal_reserve_button",function(){_i_("65cb:0af8e5b6");var r=["\n    ","\n\n\n\n\n\n\n\n\n","\n    \n    \n    ","\n        ",'\n\n    \n    \n    \n    <div class="',"c-room_reserve ","plb-reserve-container ","rt-rates__footer",'">\n\n        ','\n\n            \n            <button\n                type="button"\n                class="',"bui-button ","bui-button--primary ","bui-button--secondary ","bui-button--large bui-button--wide",'"\n                on:click="handleClickReserve"\n                aria-describedby="m_hp_rt_room_card_title_','"\n            >\n                <span class="bui-button__text">\n                    \n                    ',"\n                        ","/private/apps_guest_rtb_rt_request_cta/name","\n                    ","\n                        \n                        ","\n                            ","/private/rs_rl_rate_card_select_cta/name","/private/m_reserve/name","\n                </span>\n            </button>\n\n        ",'\n\n            <button\n                class="',"bui-button bui-button--large bui-button--tertiary bui-button--wide",'"\n                on:click="handleClickRemove"\n            >\n                <span class="bui-button__text">\n                    ',"/private/m_rt_cta_remove/name","\n            \n        ","\n    </div>\n\n","\n"],_=["store","blocks","blockId","isGeniusUser","fe_exp_rsw_m_hp_rt_horizontal_scroll","fe_is_an_rtb_property","count","showRemove"];return _r_(function(e){_i_("65cb:2ba28080");var t,n="",i=this.fn;return n+=r[0],t=n,_i_("65cb:69cca07f"),t+=[r[1],"",r[2]].join(""),i.MN("blocks",i.MC(_[0]).roomsTable.selection.blocks),t+=r[0],i.MN("count",0),t+=r[0],i.MJ(i.MB(_[2]))&&i.MJ(i.MB(_[1]))&&i.MJ(i.MC(_[1])[i.MB(_[2])])&&(t+=r[3],i.MN("count",i.MC(_[1])[i.MC(_[2])].count),t+=r[0]),t+=r[4],i.MJ(i.MB(_[3]))?t+=r[5]:t+=r[6],t+=r[7],t+=r[8],i.MJ(0==i.MB(_[6]))?(t+=r[9],t+=r[10],i.MJ(i.MB(_[4]))&&(i.MJ(i.track_experiment("aaMRYBdQAJUPPLcYSYNJcHIaO"))||i.MJ(i.track_experiment("aaMRYBENNQADbJeDFbbXfVcbRPSCMeJTOOeAFaIET")))?t+=r[11]:t+=r[12],t+=r[13],t+=[r[14],i.F.entities(i.MB(_[2])),r[15]].join(""),i.MD(_[5])?t+=[r[16],i.ME(r[17],i.MB,i.MN,null),r[18]].join(""):(t+=r[19],i.MJ(i.track_experiment("aaMRYBdQAFcSLcYFPWe"))?t+=[r[20],i.ME(r[21],i.MB,i.MN,null),r[16]].join(""):t+=[r[20],i.ME(r[22],i.MB,i.MN,null),r[16]].join(""),t+=r[18]),t+=r[23]):i.MJ(i.MB(_[7]))?(t+=r[24],t+=r[25],t+=[r[26],i.ME(r[27],i.MB,i.MN,null),r[23]].join("")):t+=r[28],t+=[r[29],"",r[30]].join(""),n=_r_(t),n+=r[30],_r_(n)})}()),B.define("component/hotel/horizontal-rate-preference-radio",HorizontalRatePreferenceRadio),booking.jstmpl("horizontal_rate_preference_radio",function(){_i_("65cb:3da5a222");var _=["\n    ","\n\n",'\n    <div class="rt-rate-radio">\n        <input \n            type="radio"\n            class="bui-radio__input"\n            id="rate_option_',"rp_",'" \n            name="selected_rate_','" \n            value="','"\n            on:click="handleChange" \n            ','\n                checked="checked"\n            ','\n        />\n        <span class="bui-radio__label"></span>\n    </div>\n',"\n"],a=["fe_is_in_room_detail","fe_block_id","fe_room_id","fe_selected_block_id"];return _r_(function(e){_i_("65cb:75d293e5");var t,n,i="",r=this.fn;return i+=_[0],t=i,_i_("65cb:28f14d83"),t+=["",_[1]].join(""),t+=_[1],n=t,_i_("65cb:54e26009"),n+=_[2],r.MD(a[0])&&(n+=_[3]),n+=[r.F.entities(r.MC(a[1])),_[4],r.F.entities(r.MC(a[2])),_[5],r.F.entities(r.MC(a[1])),_[6]].join(""),r.MJ(r.MB(a[3])==r.MB(a[1]))&&(n+=_[7]),n+=_[8],t=_r_(n),t+=[_[1],""].join(""),i=_r_(t),i+=_[9],_r_(i)})}()),B.define("component/hotel/horizontal-rate-preference-title",HorizontalRatePreferenceTitle),booking.jstmpl("horizontal_rate_preference_title",function(){_i_("65cb:30075f9f");var _,a=["\n    ","\n\n\n\n\n\n\n\n\n\n","\n\n\n\n\n","\n\n",'\n        <div class="bui-spacer--medium">\n            \n            ','\n\n            <p\n                class="',"bui-text ","bui-text--variant-headline_3","bui-text--variant-strong_2 ",'"\n            >\n                ',"\n                    \n                    ","\n                        ","/private/mf_horizontal_rates_selected_header/name","\n                    ","/private/mf_horizontal_price_options_match_filters_h/name","\n                ","/private/mf_horizontal_price_options_available_h/name","\n            </p>\n        </div>\n    ","\n        \n        <div></div>\n    ","\n"],o=["fe_rd_modal_new_ui","fe_is_room_details_modal","fe_num_of_selected_rate","fe_filtered_options_num","fe_is_filter_selected","fe_num_of_rate_options"];return _r_(function(e){_i_("65cb:aa35403b");var t,n,i="",r=this.fn;return i+=a[0],t=i,_i_("65cb:ad01cc10"),t+=[a[1],"",a[2]].join(""),t+=a[3],t+=a[3],n=t,_i_("65cb:0695a3d5"),n+=a[0],r.MJ(1<r.MB(o[5]))?(n+=a[4],r.MN("fe_rd_modal_new_ui",1),n+=a[5],n+=a[6],r.MJ(r.MB(o[0]))&&r.MJ(r.MB(o[1]))?n+=a[7]:n+=a[8],n+=a[9],r.MD(o[4])?(n+=a[10],r.MJ(0<r.MB(o[2]))?n+=[a[11],(e.unshift({num_option:r.MB(o[2])}),_=r.ME(a[12],r.MB,r.MN,r.MO(r.MC(o[2]),null,a[12])),e.shift(),_),a[13]].join(""):n+=[a[11],(e.unshift({num_option:r.MB(o[3])}),_=r.ME(a[14],r.MB,r.MN,r.MO(r.MC(o[3]),null,a[14])),e.shift(),_),a[13]].join("")):(n+=a[10],r.MJ(0<r.MB(o[2]))?n+=[a[11],(e.unshift({num_option:r.MB(o[2])}),_=r.ME(a[12],r.MB,r.MN,r.MO(r.MC(o[2]),null,a[12])),e.shift(),_),a[13]].join(""):n+=[a[11],(e.unshift({num_options:r.MB(o[5])}),_=r.ME(a[16],r.MB,r.MN,r.MO(r.MC(o[5]),null,a[16])),e.shift(),_),a[13]].join("")),n+=a[15],n+=a[17]):n+=a[18],n+=a[19],t=_r_(n),t+=[a[3],""].join(""),i=_r_(t),i+=a[19],_r_(i)})}()),B.when({events:"ready"}).run(function(e){_i_("65cb:39f067cf");var t=e("core/utils/onview"),_=e("server-data");function n(){_i_("65cb:1580d89f");for(var e=document.querySelectorAll(".js-rt-rate-horizontal"),n=[],t=0;t<e.length;t++){var i=e[t];i.addEventListener("scroll",r),n.push({element:i,listener:r})}function r(e){_i_("65cb:48d1f57a"),e.target.scrollLeft&&(B.et.customGoal("aaMRYBENNQAFcRbPIKORAQZfePdJXDC",1),B.et.customGoal("aaMRYBdQAJUPPLcYSYNJcHIaO",4),B.et.customGoal("aaMRYBdQAFcSLcYFPWe",4),0===Number(_.fe_rsw_m_rt_hs_rate_arrows_carousel)&&(B.et.customGoal("aaMRYBdQAFcSLLcHPTaeaSdFaLbFC",1),B.et.customGoal("aaMRYBdQAFcSLLcHPTaeaSdFaLbFC",3)),B.et.customGoal("aaMRYBdQAFcSLLcHWAZATDAbOLUNecO",4),function(){_i_("65cb:7b56b1cc");for(var e=0;e<n.length;e++){var t=n[e];t.element.removeEventListener("scroll",t.listener)}n=[],_r_()}()),_r_()}_r_()}t.run(".js-rt_horizontal_experiment_tracker",function(){_i_("65cb:3c4c3d29"),n(),_r_()}),_r_()}),B.define("component/hotel/horizontal-rate-active-filter-list",HorizontalRateActiveFilterList),booking.jstmpl("horizontal_rate_active_filter_template",function(){_i_("65cb:5714b8d9");var o,s=["\n    ","\n\n\n\n\n","\n\n",'\n    \n    <div class="active-filter-list-container collapsed">\n        ','\n            <span \n                class="active-filter-list-container__button"\n                data-filter-index="','"\n                on:click="handleClick" \n            >\n                <span class="active-filter-list-container__label">\n                    ',"\n                </span>\n                ","m_hp_rp_modal__close_icon","16","streamline/close","\n            </span>\n        ","\n    </div>\n","\n"],c=["roomFilters"];return _r_(function(_){_i_("65cb:3e7e5914");var e,t="",a=this.fn;return t+=s[0],e=t,_i_("65cb:39a34e2b"),e+=["",s[1]].join(""),e=function(e){_i_("65cb:b4335985"),e+=s[3];var t=(a.MC(c[0])||{}).activeFilterList||[];_.unshift({roomFilter:null});for(var n,i=1,r=t.length;i<=r;i++)_[0].roomFilter=n=t[i-1],e+=[s[4],a.F.entities(i),s[5],a.F.entities((n||{}).translation),s[6],(_.unshift({class:s[7],height:s[8],name:s[9],width:s[8]}),o=a.HELPER("icon",_[0]),_.shift(),o),s[10]].join("");return _.shift(),e+=s[11],_r_(e)}(e+=s[2]),e+=[s[2],""].join(""),t=_r_(e),t+=s[12],_r_(t)})}()),B.define("component/hotel/horizontal-rate-arrows_carousel",HorizontalRateArrowsCarousel),booking.jstmpl("horizontal_rate_arrows_carousel_template",function(){_i_("65cb:2caae646");var _,a=["\n    ","\n\n\n\n\n","\n\n",'\n    <div class="horizontal-rates-arrows_carousel-container">\n        <button class="js-rt-rate-horizontal-prev-bttn" on:click="handleClickPrev" type="button">\n            ',"18","iconset/navarrow_left","presentation",'\n        </button>\n        <button class="js-rt-rate-horizontal-next-bttn" on:click="handleClickNext" type="button">\n            ',"iconset/navarrow_right","\n        </button>\n    </div> \n","\n"];return _r_(function(e){_i_("65cb:eed81470");var t,n,i="",r=this.fn;return i+=a[0],t=i,_i_("65cb:79d7709e"),t+=["",a[1]].join(""),t+=a[2],n=t,_i_("65cb:3aa7ab3a"),n+=[a[3],(e.unshift({height:a[4],name:a[5],role:a[6],width:a[4]}),_=r.HELPER("icon",e[0]),e.shift(),_),a[7],(e.unshift({height:a[4],name:a[8],role:a[6],width:a[4]}),_=r.HELPER("icon",e[0]),e.shift(),_),a[9]].join(""),t=_r_(n),t+=[a[2],""].join(""),i=_r_(t),i+=a[10],_r_(i)})}()),B.when({events:"ready",condition:B&&B.env&&0<Number(B.env.fe_exp_rsw_m_hp_rt_horizontal_scroll)}).run(function(e){_i_("65cb:047c3a36");var b=B.require("hotel/store"),r=e("hotel/roomstable/actions"),h=e("events"),p=e("et"),m=e("server-data").b_room_blocks_json||{},M="rt-rate-horizontal__rate--active",v="rt-room-details-selected",g="horizontal_room_preferences__form_container--visible";function t(){_i_("65cb:715eabe4");var d=new Set,u=document.querySelectorAll(".js-rt-room-details-container"),f=document.querySelectorAll(".js-rt-rate");b.subscribe(function(){_i_("65cb:1e92ada0");var e,n,t,i,r,_,a,o=b.getState(),s=o.roomsTable.selection.blocks,c=new Set(Object.keys(s)),l=0<d.symmetricDifference(c).size;0<document.querySelectorAll(".js-refund-during-fc-message").length&&(e=c,n=o.roomsTable.roomPage.isVisible,_i_("65cb:93effee3"),e.forEach(function(e){_i_("65cb:c59b2622");var t=document.querySelectorAll(".js-rt-rate-id-"+e);!function(e,t,n){_i_("65cb:ce7109e6");var i=m[e];if(!i)return _r_();var r=Boolean(i.freeCancellation);t.forEach(function(e){_i_("65cb:4379881a");var t=e.closest(".js-room-card");n&&!(t=e.closest(".js-m-rp-modal-content-wrapper"))&&h.on(h.EVENTS.RT_ROOM_PAGE_LOADED,w.bind(this,e,r)),t&&y(t,r),_r_()}),_r_()}(e,t,n),_r_()}),_r_()),l&&(_=u,a=f,_i_("65cb:0044d461"),_.forEach(function(e){_i_("65cb:f4a9877c"),e.classList.remove(v),_r_()}),a.forEach(function(e){_i_("65cb:c9fdfa3e"),e.classList.remove(M),e.setAttribute("aria-checked","false"),_r_()}),_r_(),i=u,r=c,_i_("65cb:b880efc7"),i.forEach(function(e){_i_("65cb:0f822df1"),e.classList.add(v),_r_()}),r.forEach(function(e){_i_("65cb:6fa0bfa3");var t=document.querySelectorAll(".js-rt-rate-id-"+e);t.forEach(function(e){_i_("65cb:4bdf9efc"),e.classList.add(M),e.setAttribute("aria-checked","true"),_r_()}),_r_()}),_r_(),function(){_i_("65cb:a012e78f");document.querySelectorAll(".horizontal_room_preferences__form_container").forEach(function(e){_i_("65cb:57c7e333"),e.classList.remove(g),_r_()}),_r_()}(),t=c,_i_("65cb:5280daf2"),t.forEach(function(e){_i_("65cb:cfbf3c6c");var t='.horizontal_room_preferences__form_container[data-block-id="'+e+'"]',n=document.querySelectorAll(t);n.forEach(function(e){_i_("65cb:4165591d"),e.classList.add(g),_r_()}),_r_()}),_r_(),function(e,t){_i_("65cb:f36bf496");var n=t.difference(e),i=e.difference(t);0<n.size&&(r=n,_i_("65cb:ae2ce790"),r.forEach(function(e){_i_("65cb:aabec879");var t=document.querySelectorAll(".js-rt-rate-id-"+e);t.forEach(function(e){_i_("65cb:aa0f7617"),e.scrollIntoView({behavior:"instant",block:"nearest",inline:"center"}),_r_()}),_r_()}),_r_(),h.emit(h.EVENTS.RT_RATE_SELECT));var r;0<i.size&&h.emit(h.EVENTS.RT_RATE_UNSELECT);_r_()}(d,c),d=c,_i_("65cb:38aa2264"),p.stage("aaMRYBdQAFcSLScXQOVHSdDZbXdEKVDWHCDANLWe",2),_r_()),_r_()}),_r_()}function w(e,t){_i_("65cb:3abb6f10");var n=e.closest(".js-m-rp-modal-content-wrapper");n&&y(n,t),h.off(h.EVENTS.RT_ROOM_PAGE_LOADED,w),_r_()}function y(e,t){_i_("65cb:fbb2c5e2");var n=e.querySelector(".js-refund-during-fc-message");if(!n)return _r_();t?n.classList.remove("u-hidden"):n.classList.add("u-hidden"),_r_()}Set.prototype.difference||(Set.prototype.difference=function(t){_i_("65cb:269c0466");var n=new Set;return Array.from(this).forEach(function(e){_i_("65cb:6bd593ef"),t.has(e)||n.add(e),_r_()}),_r_(n)}),Set.prototype.symmetricDifference||(Set.prototype.symmetricDifference=function(e){_i_("65cb:f2e29040");var t=new Set(this);return Array.from(e).forEach(function(e){_i_("65cb:9d9933b3"),t.has(e)?t.delete(e):t.add(e),_r_()}),_r_(t)}),_i_("65cb:17b0b733"),t(),_i_("65cb:4c7f7f0e"),h.on("room.details.page:closed",function(){_i_("65cb:74531d79");var t=b.getState().roomsTable.selection.blocks,n=[],i={};Object.keys(t).forEach(function(e){_i_("65cb:9ec5d174"),n.push(e),i[e]=t[e].count,_r_()}),b.dispatch(r.calculateTotalPrice(n,i)),_r_()}),_r_(),_r_(),_r_()}),B.when({events:"ready",condition:B&&B.env&&0<Number(B.env.fe_rsw_m_hp_rt_separate_page)}).run(function(e){_i_("65cb:ff2ea0df");var a=document.getElementById("modal-horizontal_scroll-room-table-page"),o={BODY_LOCK_CLASS:"hp-m-horizontal_scroll-room-table-page_body-lock",HIDDEN:"g-hidden",MODAL_ACTIVE:"bui-modal--active",RESERVE_CTA_BLOCK:".js-hp-sticky-cta-rsw_m_hp_rt_separate_page",RESERVE_CTA:"a.js-hp-quick-book",BACK_BUTTON:".js-hp-m-horizontal_scroll-room-table-page_back-button",MODEL_INNER:".bui-modal__inner",SELECTED_ROOM_NEXT_STEP:".selected_room .js-hp_rt_book_button",ABANDONED_CART:".c-abandoned_cart"},i="room-list-hs-page";function r(){return _i_("65cb:47ebc936"),_r_(new URLSearchParams(window.location.search).has(i))}function s(e){_i_("65cb:7d1b60fb");var t="boolean"!=typeof(e=e||{}).push||e.push;if(!a||!a.classList.contains(o.HIDDEN))return _r_();if(a.classList.remove(o.HIDDEN),a.classList.add(o.MODAL_ACTIVE),function(){_i_("65cb:0f636a34");var e=window.scrollY||document.documentElement.scrollTop||0;document.body.setAttribute("data-scroll-y",String(e)),document.body.classList.add(o.BODY_LOCK_CLASS),document.body.style.top="-"+e+"px",_r_()}(),t&&!r()){var n=function(e){_i_("65cb:1678163b");var t=new URL(window.location.href),n=new URLSearchParams(t.search);return e?n.set(i,"1"):n.delete(i),t.search=n.toString(),_r_(t.toString())}(!0);history.pushState({modal:!0},"",n)}_r_()}function t(e){_i_("65cb:abaa262b");var t=!!(e=e||{}).fromPop;if(!a||a.classList.contains(o.HIDDEN))return _r_();a.classList.remove(o.MODAL_ACTIVE),a.classList.add(o.HIDDEN),function(){_i_("65cb:3ac2fdad");var e=parseInt(document.body.getAttribute("data-scroll-y")||"0",10);document.body.classList.remove(o.BODY_LOCK_CLASS),document.body.style.top="",window.scrollTo(0,e),document.body.removeAttribute("data-scroll-y"),_r_()}(),!t&&r()&&history.back(),_r_()}_i_("65cb:77f0d405"),function(){_i_("65cb:c7c9aa90");var t=$(o.RESERVE_CTA_BLOCK);if(t&&t.length){var n=t.offset().top+t.outerHeight(),e=function(){_i_("65cb:31d8dd55");var e=$(window).scrollTop()+$(window).height();n<=e?t.addClass("sticky"):t.removeClass("sticky"),_r_()};e(),t.find(o.RESERVE_CTA).click(function(e){_i_("65cb:993230c3"),e.preventDefault(),s(),_r_()}),$(window).on("scroll resize",e)}_r_()}(),function(){_i_("65cb:e37dc1c3");var e=$(a).find(o.BACK_BUTTON);e.length&&e.click(function(){_i_("65cb:e9b8f151"),t(),_r_()}),_r_()}(),window.addEventListener("popstate",function(){_i_("65cb:bf22bc6d"),r()?s({push:!1}):t({fromPop:!0}),_r_()}),r()&&s({push:!1}),_i_("65cb:717e977f"),$(document).on("click",o.ABANDONED_CART,function(){_i_("65cb:c4496691"),s();var e=a.querySelector(o.SELECTED_ROOM_NEXT_STEP);if(!e)return _r_();var t=$(a).find(o.MODEL_INNER);if(!t.length)return _r_();var n=t[0],i=n.getBoundingClientRect(),r=e.getBoundingClientRect(),_=t.scrollTop()+(r.top-i.top)-60;n.scrollTo({top:_,behavior:"smooth"}),_r_()}),_r_(),_r_(),_r_()}),function(e){_i_("65cb:549e72bf"),e.define("component/hotel/room_preferences",function(e,t,n){_i_("65cb:3a23715b");var i=e("component/reactive"),r=e("hotel/store"),_=e("server-data"),a=e("hotel/room_preferences/horizontal_rate_preference/utils"),o=_.b_room_blocks_json||{},s=Number(_.fe_exp_rsw_m_hp_rt_horizontal_scroll);n.exports=i.extend({template:"room_preferences",store:r,initialize:function(){_i_("65cb:bef94d11");var e=this.$el.data("blockId");this.setState({blockId:e,block:o[e],fe_exp_rsw_m_hp_rt_horizontal_scroll:s}),_r_()},getInnerState:function(){_i_("65cb:3a871eec");var e=this.__state;if(0<s){var t=e.blockId,n=a.getProxyBlockId(t);e=Object.assign(e,{fe_block_id:n,block:o[n]})}return _r_(e)}}),_r_()}),e.define("component/hotel/room_page_preferences",function(e,t,n){_i_("65cb:b8618954");var i=e("component/hotel/room_preferences"),r=e("server-data"),_=r.b_room_blocks_json||{},a=Number(r.fe_exp_rsw_m_hp_rt_horizontal_scroll);n.exports=i.extend({initialize:function(){_i_("65cb:3d772c33");var e=this.$el.data("roomPageId"),t=this.$el.data("blockId");this.setState({blockId:t,block:_[t],roomPageId:e,fe_is_in_lightbox:!0,fe_exp_rsw_m_hp_rt_horizontal_scroll:a}),_r_()}}),_r_()}),_r_()}(booking),booking.jstmpl("room_preferences",function(){_i_("65cb:dcd83f53");var o=["\n    ","\n        ","\n        \n        ","\n            ","\n\n    ",'\n    <div class="',"room_preferences room_preferences_container",'"\n    >\n        ','\n                <fieldset class="m_room_preferences__form_container">\n                    ','\n                        <div data-component="hotel/room-preferences/number-of-guests"\n                            data-block-id="','"\n                            data-max-number-guests="','"\n                            data-room-index="','"\n                            data-room-page-id="','"\n                            ','\n                                data-use-bui="1"\n                                data-is-lightbox-preferences="1"\n                            ',"\n                        ></div>\n                    ","\n                    ",'\n                        <div data-component="hotel/room-preferences/bed-preference"\n                            data-block-id="','\n                        <div data-component="hotel/room-preferences/floor-preference"\n                            data-block-id="','\n                        <div data-component="hotel/room-preferences/smoking-preference"\n                            data-block-id="','"\n                            data-room-id="',"\n                </fieldset>\n            ","\n    </div>\n\n","\n"],s=["fe_block_id","block","fe_exp_rsw_m_hp_rt_horizontal_scroll","store","fe_is_in_lightbox","roomPageId","blockId","fe_blocks_selected","fe_preferences","fe_show_per_room","fe_num_rooms_selected","fe_block","fe_room_page_id"];return _r_(function(_){_i_("65cb:b44b50cc");var e="",a=this.fn;e+=o[0],a.MJ(a.MB(s[2]))?(e+=o[1],a.MN("fe_block_id",a.MB(s[0])),e+=o[1],a.MN("fe_block",a.MB(s[1]))):(e+=o[2],a.MJ(a.MB(s[4]))&&a.MJ(a.MB(s[5])+""==""+a.MC(s[3]).roomsTable.roomPage.selectedRoomPageId)?(e+=o[3],a.MN("fe_block_id",a.MG((((a.MC(s[3])||{}).roomsTable||{}).roomPage||{}).selectedBlockId)),e+=o[3],a.MN("fe_block",a.MG((((a.MC(s[3])||{}).roomsTable||{}).roomPage||{}).selectedBlock))):(e+=o[3],a.MN("fe_block_id",a.MB(s[6])),e+=o[3],a.MN("fe_block",a.MB(s[1]))),e+=o[1]),e+=o[0],e+=o[4],a.MN("fe_num_rooms_selected",0),e+=o[0],a.MN("fe_blocks_selected",a.MG((((a.MC(s[3])||{}).roomsTable||{}).selection||{}).blocks)),e+=o[0],a.MJ(a.MB(s[0]))&&a.MJ(a.MB(s[7]))&&a.MJ(a.MC(s[7])[a.MB(s[0])])&&(e+=o[1],a.MN("fe_num_rooms_selected",a.MC(s[7])[a.MC(s[0])].count),e+=o[0]),e+=o[4],a.MN("fe_preferences",a.MG(((a.MC(s[3])||{}).preferences||{}).perBlock)),e+=o[0],a.MJ(a.MB(s[0]))&&a.MJ(a.MB(s[8]))&&a.MJ(a.MC(s[8])[a.MB(s[0])])&&(e+=o[1],a.MN("fe_show_per_room",a.MC(s[8])[a.MC(s[0])].showPerRoom),e+=o[0]),e+=o[4];var t={fe_block:a.MB(s[11]),fe_block_id:a.MB(s[0]),fe_exp_rsw_m_hp_rt_horizontal_scroll:a.MB(s[2]),fe_num_rooms_selected:a.MB(s[10]),fe_room_page_id:a.MB(s[5]),fe_show_per_room:a.MB(s[9])},n=_;return(_=a.SV([{},{}])).unshift(t),e=function(e){if(_i_("65cb:dd531c54"),e+=["",o[5]].join(""),e+=o[6],e+=o[7],a.MJ(a.MG((a.MC(s[11])||{}).preferences))){e+=o[3];var t=a.seq(0,a.MB(s[9])?a.MI(a.MB(s[10]))-a.MI(1):0)||[];_.unshift({fe_index:null});for(var n,i=1,r=t.length;i<=r;i++)_[0].fe_index=n=t[i-1],e+=o[8],a.MJ(a.MG(((a.MC(s[11])||{}).preferences||{}).numberOfGuests))&&(e+=[o[9],a.F.entities(a.MC(s[0])),o[10],a.F.entities((a.MC(s[11])||{}).maxPersons),o[11],a.F.entities((n||{}).value),o[12],a.F.entities(a.MC(s[12])),o[13]].join(""),a.MD(s[12])&&(e+=o[14]),e+=o[15]),e+=o[16],a.MJ(a.MB(s[12]))&&a.MJ(a.MC(s[11]).preferences.bedPreference)&&(e+=[o[17],a.F.entities(a.MC(s[0])),o[11],a.F.entities((n||{}).value),o[12],a.F.entities(a.MC(s[12])),o[13]].join(""),a.MD(s[12])&&(e+=o[14]),e+=o[15]),e+=o[16],a.MJ(a.MG(((a.MC(s[11])||{}).preferences||{}).floorPreference))&&(e+=[o[18],a.F.entities(a.MC(s[0])),o[11],a.F.entities((n||{}).value),o[12],a.F.entities(a.MC(s[12])),o[13]].join(""),a.MD(s[12])&&(e+=o[14]),e+=o[15]),e+=o[16],a.MJ(a.MG(((a.MC(s[11])||{}).preferences||{}).smokingPreference))&&(e+=[o[19],a.F.entities(a.MC(s[0])),o[20],a.F.entities((a.MC(s[11])||{}).roomId),o[11],a.F.entities((n||{}).value),o[12],a.F.entities(a.MC(s[12])),o[13]].join(""),a.MD(s[12])&&(e+=o[14]),e+=o[15]),e+=o[21];_.shift(),e+=o[1]}return e+=[o[22],"",o[23]].join(""),_r_(e)}(e),_=a.SV(n),e+=o[23],_r_(e)})}()),B.define("component/hp/replace-history-back",function(e,t,n){_i_("65cb:16c1e4c7");var i=e("jquery"),r=e("component"),_=i(window),a=window.history&&window.history.pushState,o=navigator.userAgent.match("CriOS");n.exports=r.extend({init:function(){_i_("65cb:2b4d7711");var n=this.$el.data("componentUrl");if(!a||!n)return _r_();function e(){_i_("65cb:90029b91"),(!window.history.state||window.history.state&&!window.history.state.hp_brpl)&&(o&&_.off("touchstart",e),history.replaceState({brpl:!0},null,n),history.pushState({hp_brpl:!0},null,B.env.b_this_url.replaceAll(";","&"))),_r_()}o?_.on("touchstart",e):e(),_.on("popstate",function(e){_i_("65cb:ee39a4a5");var t=e.originalEvent;t.state&&t.state.brpl&&location.replace(n),_r_()}),_r_()}}),_r_()}),B.require(["require"],function(e){_i_("65cb:51707c47");var t=e("jquery"),n=e("tabbed-nav"),i=e("event-bus"),r=t(".js-rooms-table"),_=t(".rt-controls"),a=0<_.length?_:r.find("#bookForm");function o(e){_i_("65cb:10d8def7"),e.preventDefault(),n.activateTab("main",t(e.target)),setTimeout(s),_r_()}function s(){if(_i_("65cb:0ebfd5dc"),!a||!a.length)return _r_();t("html, body").animate({scrollTop:a.offset().top-15},750),_r_()}e("with-capla")("property-web","property-page",function(e){_i_("65cb:f3771080"),e.eventBus.subscribe("CAPLA_EVENT_property-web-property-page_REVIEW_TAB_HP_MOBILE_BOOK_BUTTON_CLICKED",function(e,t){_i_("65cb:1ca23249"),o(t),_r_()}),_r_()})(),a&&a.length||(a=t("#roomstable_nodates")),a&&a.length||(a=t("#form_search")),i.on("REVIEWS:fetched",function(){_i_("65cb:ddcca04f"),t(".hp_reviews_sticky_book").addClass("visible"),_r_()}),t(".js-hp_reviews_sticky_book_btn").on("click",o),_r_()}),B.when({condition:$("#htMap").length}).run(function(e){_i_("65cb:83bfdf3c");var n=e("jquery"),i=n(window);n("#htMap").on("click",".js-scroll-to-after-nav-reset",function(){_i_("65cb:70463fbe");var t=n(n(this).data("scroll-to-target"));t.length&&i.on("popstate",function e(){_i_("65cb:2aedf3b7"),setTimeout(function(){_i_("65cb:0c90fc70"),i.scrollTop(t.position().top),_r_()}),i.off("popstate",e),_r_()}),_r_()}),_r_()}),B.require(["jquery","et"],function(n,e){"use strict";_i_("65cb:390876a8");var t=n(".js_facility_block"),i=".js_facility_block__toggle",r=".js_facility_block--rest",_="g-hidden";function a(e){_i_("65cb:c9e23d55");var t=n(e.currentTarget);(t.is(i)||t.is(r))&&t.toggleClass(_),t.siblings(i).toggleClass(_),t.siblings(r).toggleClass(_),_r_()}B.events.on(B.eventNames.RT_ROOM_EXPAND,function(e){_i_("65cb:328a3b84");var t=e.fullpage.$container,n=t.find(r);n.length&&(n.toggleClass(_,!0),t.find(".js_facility_block__toggle--hide").toggleClass(_,!0),t.find(".js_facility_block__toggle--show").toggleClass(_,!1)),_r_()}),t.on("click",a),n(i).on("click",a),_r_()}),b.require("jquery")(function(e){_i_("65cb:a5289d8f"),e("#noAvailability_message").length&&window.scrollTo(0,e("#bigHotelPhoto").position().top);e("#availability").on("click","#changeDates_btn",function(){_i_("65cb:810ccc5d"),e("#form_search").show(),e("#noAvailability_message").hide(),window.scrollTo(0,e("#form_search").offset().top),B.require("ga-tracker").trackEvent("hp_noavailability_dates_1"),_r_()}),_r_()}),void 0===window.b25)var b25={};b25.Reviews={URI:"/reviewlist.html",active:!1,scrollOffset:0,runOnce:!0,getRawPage:function(e){if(_i_("65cb:d7bd1831"),!b25.Reviews.active){b25.Reviews.active=!0;for(var t,n,i="",r=/(offset=\d+)/g;(t=r.exec(e))&&(n=(t[0]||"").split("=")[1]||0),t;);0<=n&&(e=e.replace(r,"offset="+n));e=e;return void 0!==booking.env.tab&&4===booking.env.tab&&(i=";tab="+booking.env.tab),b25.Reviews.showLoading("on"),b25.Reviews.adjustScroll(),B.eventEmitter.emit("REVIEWS:startfetch"),B.env.request&&B.env.request.query&&B.env.request.query.rurl&&(e+=";rurl="+B.env.request.query.rurl),$("#comments_wrapper").load(e+";stid=325542;lang="+booking.env.b_lang_for_url+i,function(){_i_("65cb:9386c8d9"),b25.Reviews.showLoading("off"),$("#comments").fadeIn("fast",function(){_i_("65cb:144a5ecc"),B.eventEmitter.emit("REVIEWS:fetched"),$("#comments_wrapper").loadComponents(),b25.Reviews.adjustScroll(),_r_()}),_r_()}),b25.Reviews.active=!1,_r_(!1)}_r_()},showLoading:function(e){if(_i_("65cb:a36c9a63"),!e)return _r_();"on"==e&&($("#comments").hide(),$(".bar_pagination").hide(),$("#reviews_loading").show()),"off"==e&&($("#comments").show(),$(".bar_pagination").show(),$("#reviews_loading").hide()),_r_()},adjustScroll:function(){_i_("65cb:fec7c168");var e=$("#reviews_bar_pagination_top"),t=$("#containerFilters");0<e.length&&e.is(":visible")?b25.Reviews.scrollOffset=e.offset().top:0<t.length&&(b25.Reviews.scrollOffset=t.offset().top),b25.Reviews.scrollOffset&&10<=b25.Reviews.scrollOffset&&$(window).scrollTop(b25.Reviews.scrollOffset-10),_r_()}},function(e){_i_("65cb:3a9137e4");var t=e("persistent-view"),r=e("et"),n=e("hotel/reviews"),i=e("tabbed-nav"),_=B.env.b_total_reviews&&5<=B.env.b_total_reviews,a=1,o=e("events");if(_)var s={element:".inf-scroll-top-button",scrollTimer:null,buffer:$(window).height(),bindEvents:function(){_i_("65cb:dc7d1297");var e=this.onScroll.bind(this),t=this.onClick.bind(this);$(window).on("scroll",e),$(this.element).on("click touchend",t),_r_()},onClick:function(){_i_("65cb:125e7359");var e=($("body").offset()||{}).top||0;$(window).scrollTop(e),_r_()},onScroll:function(){_i_("65cb:927960e8");var e=this;null!==e.scrollTimer&&(e.hideButton(),clearTimeout(e.scrollTimer)),e.scrollTimer=setTimeout(function(){_i_("65cb:f40d7e64"),e.showButton(),_r_()},400),_r_()},showButton:function(){_i_("65cb:5aee1577"),$(window).scrollTop()>this.buffer&&$(this.element).show(),_r_()},hideButton:function(){_i_("65cb:3e6702a5"),$(this.element).hide(),_r_()}},c={element:".inf-compset",injected:!1,exists:function(){return _i_("65cb:3ae5fa0a"),_r_(0<$(this.element).length)},inject:function(e){if(_i_("65cb:b1dc0f36"),this.exists()&&!this.injected){var t=$(this.element);t.remove(),t.show(),$(e).append(t),this.injected=!0}_r_()}},l={canLoadMore:!1,scrollLoadRange:$(window).height(),waitForLoad:!1,nextPageUrl:!1,reviewItems:".review_list_new_item_block",bindEvents:function(){_i_("65cb:60c36c3c");var e=this.onScroll.bind(this);$(window).on("scroll",e),s.bindEvents(),_r_()},getNextPageUrl:function(){if(_i_("65cb:011ff327"),this.nextPageUrl)return _r_(this.nextPageUrl);var e=$("#htReviews"),t=$(".pagenext",e).attr("href");return this.nextPageUrl=t,_r_(this.nextPageUrl)},updateNextScreenUrl:function(e){if(_i_("65cb:f015423a"),!e)return _r_(!1);var t=$(e),n=$(".pagenext",t).attr("href");return this.nextPageUrl=n,_r_(!0)},onScroll:function(){if(_i_("65cb:af162e67"),"htReviews"===i.current()&&0<$(".review_list_new_item_block").length&&!l.waitForLoad&&$(window).scrollTop()+$(window).height()>$(document).height()-l.scrollLoadRange){l.waitForLoad=!0;var e=l.getNextPageUrl();e&&$("#reviews_loading:hidden").length&&(n.loadUrl(e,{fromScroll:!0}),a++,o.emit("m_reviewlist:page:changed",{value:a}))}_r_()},handleData:function(e,t){_i_("65cb:e0651afc");var n=$(e),i=$(this.reviewItems,n);this.updateNextScreenUrl(e),c.inject(t),$(t).append(i),$("#guest_reviews .c-pagination").remove(),_r_()}};function d(e){if(_i_("65cb:ef08dc3f"),$("#htReviews #comments li").length)return _r_();var t=$(e).data("reviews-url");B.env.request&&B.env.request.query&&B.env.request.query.rurl&&(t+=";rurl="+B.env.request.query.rurl),n.loadUrl(t),_r_()}({canScroll:!1,firstFetch:!1,hasError:!1,comments:"#comments",wrapper:"#comments_wrapper",loader:"#reviews_loading",pagination:"#comments_wrapper .c-pagination",paginationLinks:".c-pagination .bui-pagination a",scrollArea:"#main_content",scrollTo:"#htReviews ul.bui-accordion",filtersBox:"#reviews-filters-box",errorMessage:"#reviews-error-message",emptyMessage:"#reviews-empty-error-message",init:function(){_i_("65cb:0970be52"),this.bindEvents(),$(this.loader).show(),_r_()},bindEvents:function(){_i_("65cb:1c1f372a"),n.on(n.events.LOAD_SUCCESS,this.onSuccess.bind(this)),n.on(n.events.LOAD_ERROR,this.onError.bind(this)),n.on(n.events.LOAD_AFTER,this.onAfterRequest.bind(this)),n.on(n.events.LOAD_BEFORE,this.onBeforeRequest.bind(this)),$("[data-js-reviews-empty-reset]").on("click",this.onResetClick.bind(this)),_?l.bindEvents():$(this.wrapper).on("click",this.paginationLinks,this.onPaginationClick.bind(this)),_r_()},onResetClick:function(e){_i_("65cb:d352ded6"),e.preventDefault();var t={lang:[],offset:0,score:[],sort:"",text:"",topics:[],type:["total"],time_of_year:""};B.env.fe_show_room_id_filter&&(t.room_id=[]),n.load(t),_r_()},onSuccess:function(e,t,n){if(_i_("65cb:30118a9b"),!t)return _r_(!0);this.firstFetch&&(this.canScroll=!0),this.firstFetch&&n&&n.fromScroll&&_?l.handleData(t,this.comments):($(this.wrapper).html("").html(t),l&&l.updateNextScreenUrl&&l.updateNextScreenUrl(t)),$(this.wrapper).find("[data-component]").loadComponents(),this.firstFetch||(this.firstFetch=!0),$(this.wrapper).show(),$(this.filtersBox).show(),r.initAttributesTracking($(this.wrapper));var i=this;setTimeout(function(){_i_("65cb:6dbb46d8"),0==$("ul#comments li.review_list_new_item_block").length&&$(i.emptyMessage).show(),_r_()},100),o.trigger("hp_m:reviewlist:nextpage"),window.BUI&&window.BUI.initComponents($(this.wrapper).get(0)),_r_()},onError:function(){_i_("65cb:6841da39"),this.hasError=!0,_r_()},onAfterRequest:function(e,t){_i_("65cb:9b488355"),this.toggleLoader(!1),_?(l.waitForLoad=!1,t&&t.fromScroll||$(this.comments).show()):this.canScroll&&this.adjustScroll(),this.hasError&&($(this.wrapper).hide(),$(this.filtersBox).hide(),$(this.errorMessage).show(),$(this.emptyMessage).hide()),_r_()},onBeforeRequest:function(e,t){_i_("65cb:97acf4a8"),this.hasError=!1,this.toggleLoader(!0),_?t&&t.fromScroll||$(this.comments).hide():this.canScroll&&this.adjustScroll(),$(this.errorMessage).hide(),$(this.wrapper).show(),$(this.filtersBox).show(),$(this.emptyMessage).hide(),_r_()},toggleLoader:function(e){_i_("65cb:db5e5f6d"),e?this.showLoader():this.hideLoader(),_r_()},showLoader:function(){_i_("65cb:9e6bf6a2"),_||($(this.comments).hide(),$(this.pagination).hide()),$(this.loader).show(),_r_()},hideLoader:function(){_i_("65cb:350507cb"),_||($(this.comments).show(),$(this.pagination).show()),$(this.loader).hide(),_r_()},onPaginationClick:function(e){_i_("65cb:870a60cf"),e.preventDefault();var t=$(e.currentTarget).attr("href");n.loadUrl(t),_r_()},adjustScroll:function(){_i_("65cb:816ed76b");var e=($(this.scrollTo).offset()||{}).top||0;$(window).scrollTop(e),_r_()}}).init();var u=$(".js-review-tab-link").click(function(e){_i_("65cb:63d20878"),e.preventDefault(),d(this),B.require("ga-tracker").trackEvent("Review Tab","Click Score Button: "+e.target.getAttribute("data-ga-score")),_r_()});"htReviews"===t.getCurrent()&&d(u[0]),_r_()}(B.require),B.require([],function(){"use strict";_i_("65cb:e0024d86"),B.events.on(B.eventNames.RT_ROOM_EXPAND,function(){_i_("65cb:c8c1466d"),B.et.goal("hp_rt_room_description_expanded"),B.et.goal("hp_rt_roomtype_lightbox_opened"),_r_()}),_r_()}),function(e){"use strict";_i_("65cb:438b82e7");var t=e.require("et"),n=e.require("events"),i=e.require("server-data");if(i.b_feature_running_KILLSWITCH_RSWEB_VITALS)var r=e.require("hotel/room-table/c360"),_=0,a=0;function o(){(_i_("65cb:c29e6bb8"),t.goal("hp_room_select"),203===i.b_accommodationtype_id&&t.goal("hp_hostel_room_select"),i.b_feature_running_KILLSWITCH_RSWEB_VITALS)&&(Boolean(document.querySelector(".js-m_rt_fullpage__container.tab-active"))?1===++a?r.track(r.eventsMap.ROOM_RATE_SELECT_FROM_RDP_COUNTER_1):r.track(r.eventsMap.ROOM_RATE_SELECT_FROM_RDP_COUNTER_2_OR_MORE):1===++_?r.track(r.eventsMap.ROOM_RATE_SELECT_COUNTER_1):r.track(r.eventsMap.ROOM_RATE_SELECT_COUNTER_2_OR_MORE));_r_()}0<i.fe_exp_rsw_m_hp_rt_horizontal_scroll?n.on(n.EVENTS.RT_RATE_SELECT,function(){_i_("65cb:38f21d46");var e=!1;try{"sessionStorage"in window&&(e=sessionStorage.getItem("isAutoSelected"))&&(e=Boolean(Number(e)),sessionStorage.setItem("isAutoSelected",0))}catch(e){}if(e)return _r_();o(),_r_()}):n.on(n.EVENTS.RT_ROOM_SELECT,o),_r_()}(window.booking),B.require(["require"],function(e){_i_("65cb:48217c34"),B.events.on(B.eventNames.RT_FILTER_NO_MATCHES,function(){_i_("65cb:59a0fc26"),B.et.goal("hp_rt_zero_rooms_matching"),_r_()}),_r_()}),B.define("component/hotel/hp-compset-list",function(e,t,n){_i_("65cb:036ac746");var i=e("jquery"),r=e("component"),_=e("swipe-events"),b=i(window);function h(e){return _i_("65cb:2a4ac3f5"),_r_(B.env.b_lang_is_rtl?e:-e)}n.exports=r.extend({init:function(){_i_("65cb:b8f217a2");var e=this.$el;this.$compsetList=e.find(".js-compset-hotel-list"),this.$container=e.find(".js-compset-hotel-container"),this.activeIndex=0,this.itemsCount=this.$compsetList.data("list-item-count"),this.currentHorizontalOffset=0,this.adjustListDimensions(10),_.attachEvents(this.el),this.el.addEventListener("swipe-left",this.onPanSideways.bind(this)),this.el.addEventListener("swipe-right",this.onPanSideways.bind(this)),this.el.addEventListener("swipe-end",this.onRelease.bind(this)),b.on("orientationchange",{this:this},function(e){_i_("65cb:0a50a527"),e.data.this.adjustListDimensions(10),_r_()}),_r_()},onPanSideways:function(e){_i_("65cb:4646953d");var t,n=this.currentHorizontalOffset;t=e.detail.xDiff,this.scrollTo(n+t,0),e.preventDefault(),_r_()},onRelease:function(e){_i_("65cb:106b0678"),this.applySlideDelta(e.detail.xDiff),_r_()},applySlideDelta:function(e){_i_("65cb:bd8d7fec");var t=this.currentHorizontalOffset,n=this.itemsCount;if(Math.abs(e)<50)return this.scrollTo(t,200),_r_();var i=b.width(),r=this.$compsetList.width(),_=r/n,a=i-r,o=n-1,s=0,c=0,l=o;B.env.b_lang_is_rtl&&(s=-a,c=o,o=a=0,l=c);var d,u,f=t+e;f<=a?(f=a,d=o):s<=f?(f=s,d=c):(u=Math.ceil(Math.abs(e)/_)*h(Math.abs(e)/e),f=h(d=this.activeIndex+u)*_,d==l&&(f-=h(50))),this.scrollTo(f,200),this.activeIndex=d,this.currentHorizontalOffset=f,_r_()},scrollTo:function(e,t){_i_("65cb:f52b5b0a"),this.$compsetList.css({transform:"translateX("+e+"px)",transitionDuration:t/1e3+"s"}),_r_()},adjustListDimensions:function(e){_i_("65cb:619fd57a");var t="calc("+100*this.itemsCount+"% - "+(240+e)+"px)";this.$compsetList.css({width:t}),_r_()}}),_r_()}),B.require("jquery")(function(r){_i_("65cb:6ab50c02");var _=B.require("hotel/reviews"),n=B.require("events");({filterSelect:".js-review-cust-type-filter",scoreSelect:".js-review-score-filter",timeofyearSelect:".js-review-timeofyear-filter",init:function(){_i_("65cb:f89c12323"),this.bindEvents(),_r_()},bindEvents:function(){_i_("65cb:e855e4a2"),r(this.filterSelect).on("change",this.handleFilterChange.bind(this)),r(this.scoreSelect).on("change",this.handleScoreChange.bind(this)),r(this.timeofyearSelect).on("change",this.handleTimeOfYearChange.bind(this)),_.on(_.events.LOAD_AFTER,this.handleAfter.bind(this)),_r_()},handleFilterChange:function(e){_i_("65cb:35893ad5");var t=r(e.target).val()||"total";_.load({type:[t],offset:0}),n.emit("m_reviewlist:filter:changed",{name:"type",values:[t]}),_r_()},handleScoreChange:function(e){_i_("65cb:187b5179"),e&&e.preventDefault();var t=r(e.target).val()||"";_.load({score:[t],offset:0},{announceFiltering:!0}),n.emit("m_reviewlist:filter:changed",{name:"score",values:[t]}),_r_()},handleTimeOfYearChange:function(e){_i_("65cb:22ac590c"),e&&e.preventDefault();var t=r(e.target).val()||"";_.load({time_of_year:[t],offset:0}),n.emit("m_reviewlist:filter:changed",{name:"time_of_year",values:[t]}),_r_()},handleAfter:function(){_i_("65cb:387d70a6");var e=_.getState(),t=e.type&&0<e.type.length?e.type[0]:"total",n=e.score&&0<e.score.length?e.score[0]:"",i=e.time_of_year||"";r(this.filterSelect+"[value='"+t+"']").prop("checked",!0),r(this.scoreSelect+"[value='"+n+"']").prop("checked",!0),r(this.timeofyearSelect+"[value='"+i+"']").prop("checked",!0),_r_()}}).init(),_r_()}),function(e){_i_("65cb:ffb5e5bf");var o=document.querySelectorAll(".js-group_recommendation");e.when({events:"ready",action:"hotel",condition:o.length}).run(function(e){_i_("65cb:c4c5d95e");var t="BKPBOMBUYAZERMDbUTPOfFRC",r=e("jquery"),n=e("et");function i(e,i){_i_("65cb:1f72f359"),e.each(function(){_i_("65cb:eb989bec");var e=r(this),t=e.attr("name"),n=e.val();e.prop("checked")&&i.find(".js-bed-option-radio[name="+t+"][value="+n+"]").prop("checked",!0),_r_()}),_r_()}var _=r(o),a=r(".js-rooms-table");_.find(".js-bed-option-radio").length&&n.track(t)&&(_.on("change",".js-bed-option-radio",function(){_i_("65cb:aaa71b80"),n.customGoal(t,1),i(r(this),a),_r_()}),a.on("change",".js-bed-option-radio",function(){_i_("65cb:3507cfc6"),n.customGoal(t,2),i(r(this),_),_r_()})),_r_()}),_r_()}(booking),_i_("65cb:580cc537"),B.when({action:"hotel",condition:"mdot"==B.env.b_site_type}).run(function(e){_i_("65cb:db980ae0");var n,s=e("jquery"),i=e("ga-tracker"),r=i.ugcdTracker||"UGC Review Page";function a(e,t,n,i,r,_,a){_i_("65cb:c4cc3b01");var o={behaviour_name:e||"",hotel_id:t||"",attribute_name:n||null,attribute_value:i||null,batch_data:r||null};s.ajax({url:"/personalisationinfra/track_behaviour_property",method:"POST",data:o,complete:function(e){_i_("65cb:c5a0c1cf"),e.status&&200==e.status?_&&_.call():a&&a.call(),_r_()}}),_r_()}s(".js-review-tab-link").on("click",function(){_i_("65cb:8fecc85f"),i.trackEvent(r,"Reached",null),a("review_list_viewed",B.env.b_hotel_id,null,null),_r_()}),"htReviews"==B.require("tabbed-nav").current()&&(i.trackEvent(r,"Reached",null),a("review_list_viewed",B.env.b_hotel_id,"review_list_viewed",1)),s(".js-review-unit-filter").on("change",function(){_i_("65cb:a4a909b1"),i.trackEvent(r,"Filter Unit",this.value),a("review_list_filter_room",B.env.b_hotel_id,"Filter Room",this.value),_r_()}),s(".js-review-cust-type-filter").on("change",function(){_i_("65cb:7c4095e4"),i.trackEvent(r,"Filter Group",this.value),a("review_list_filter_group_type",B.env.b_hotel_id,"Filter Group",this.value),_r_()}),s("#reviews_sorting_options").on("change",function(){_i_("65cb:ae4d2d72");var e=this.value||"recommended";i.trackEvent(r,"Sorting Selected","Sorting: "+e),a("review_list_sort",B.env.b_hotel_id,"Sort method",e),_r_()}),s("#htReviews").on("click",".js-review-topics .bui-input-checkbutton",function(){_i_("65cb:f9a049bd");var e=s(this).find("input.bui-input-checkbutton__input"),t=e.data("categoryName")||e.data("category-id");i.trackEvent(r,"Filter Topic",t),clearTimeout(n),n=setTimeout(function(){_i_("65cb:6b3046cb"),a("review_list_topic_filter",B.env.b_hotel_id,"Topic name",t),_r_()},100),_r_()}),s("#reviews_language_filter").on("change",function(){_i_("65cb:ffb5e09c");var e=s(this).val()||null;i.trackEvent(r,"Filter Language",e),a("review_list_language_filter",B.env.b_hotel_id,"Language",e),_r_()}),function(){if(_i_("65cb:848936da"),!B.env.feature_track_reviews_on_view)return _r_();var e,i=[],r=[],t=[],n=[],_=s("#htReviews");s(document).on("scroll",function(){if(_i_("65cb:566f2589"),!s("body").hasClass("htReviews-tab-active"))return _r_();clearTimeout(e),e=setTimeout(function(){_i_("65cb:38213fc8"),_.find(".review_list_new_item_block[data-review-url]").each(function(e,t){_i_("65cb:38eb2c21");var n=s(this).data("review-url");(function(e){_i_("65cb:b2aa1b8b");var t=s(e);if(!t.length)return _r_(!1);return s(window).height()>t.offset().top+t.height()-s("html").scrollTop()?_r_(!0):_r_(!1)})(this)&&-1==r.indexOf(n)&&-1==i.indexOf(n)&&i.push(s(this).data("review-url")),_r_()}),function(){if(_i_("65cb:050804ec"),!i.length)return _r_();t=[],n=[];for(var e=0;e<i.length;e++)t.push({attribute_name:"review_url",attribute_value:i[e]}),n.push(i[e]);i=[],a("review_list_review_seen",B.env.b_hotel_id,null,null,t,function(){_i_("65cb:de592585"),r=r.concat(n),_r_()},function(e){_i_("65cb:1ee3cc66"),i=i.concat(n),_r_()}),_r_()}(),_r_()},500),_r_()}),_r_()}(),_r_()}),_r_(),B.define("component/reviews/review-score-breakdown",function(e,t,n){"use strict";_i_("65cb:d35c9950");var i=e("jquery"),r=e("events"),_=e("component");n.exports=_.extend({init:function(){_i_("65cb:142e7a27"),this.$button=this.$el.find("[data-js-show-subscores-entry-btn]"),this.$container=this.$el.find("[data-js-show-subscores-entry-wrapper]"),this.bindEvents(),_r_()},bindEvents:function(){_i_("65cb:83851e33"),this.$button.on("click",i.proxy(this.handleClick,this)),_r_()},handleClick:function(e){_i_("65cb:ebf12fac"),e.preventDefault(),e.stopPropagation(),r.emit("review-score-breakdown:expanded",this.$el.attr("id")),this.height=i(this.$container)[0].scrollHeight+1,this.$container.css("max-height",this.height),this.$button.css("bottom",-44),_r_()}}),_r_()}),B.define("component/reviews/dom-utils/toggle",function(e,t,n){_i_("65cb:bb9e0f80");var i=e("component");n.exports=i.extend({init:function(){_i_("65cb:ea7ad4f0");var e=this;this.$btns=this.$el.find("[data-toggle-btn]"),this.$btns.each(function(){_i_("65cb:3e671a15"),e.attachEvent(this),_r_()}),_r_()},attachEvent:function(e){_i_("65cb:4e5173eb");var t=$(e),n=this.$el.find(t.data("toggle-show")||""),i=this.$el.find(t.data("toggle-hide")||"");t.click(function(){_i_("65cb:6d56a53c"),n.show(),i.hide(),_r_()}),_r_()}}),_r_()}),B.when({action:["hotel","unit"],events:"load"}).run(function(e){_i_("65cb:a960feee");var i=e("jquery"),t=e("tabbed-nav"),n=e("events"),r=i(".js-hp_reviews_sticky_back_btn"),_=0,a=!1,o=i('[data-tab-target="htReviews"]'),s={};function c(){_i_("65cb:68ede6cb"),a=!0,t.resetTabs(),_r_()}e("with-capla")("property-web","property-page",function(e){_i_("65cb:d5ccf150"),e.eventBus.subscribe("CAPLA_EVENT_property-web-property-page_REVIEW_TAB_HP_MOBILE_BACK_BUTTON_CLICKED",c),_r_()})(),o.each(function(){_i_("65cb:1790aab4");var e=Math.round(100*Math.random());i(this).attr("uniqueId","id_"+e),s["id_"+e]=i(this).offset().top,_r_()}),r.length&&(r.on("click",c),n.on("tabbed_nav:reset_done",function(){_i_("65cb:1ef67f70"),a&&setTimeout(function(){_i_("65cb:61c5d835"),i(window).scrollTop(_,function(){_i_("65cb:8fb7d12b"),a=!1,_r_()}),_r_()},50),_r_()})),i(document).on("click",'[data-tab-target="htReviews"]',function(e){_i_("65cb:0f44a14d");var t=i(e.target).attr("uniqueId"),n=s[t];_=n&&0<n?n-100:0,_r_()}),_r_()}),B.define("component/ugcs/dom-utils/toggle",["component","jquery"],function(e,t){return _i_("65cb:962be9bd"),_r_(e.extend({init:function(){_i_("65cb:ddd6231b"),this.$toggleWrapper=this.$el.parent().find("[data-toggle-length]"),this.hasReverter=!1,this.$toggleWrapper.length?(this.autoTruncate=!0,this.onUpdate()):(this.$toShow=this.$el.parent().find("[data-toggle-show]"),this.$toHide=this.$el.parent().find("[data-toggle-hide]"),this.$reverter=this.$el.parent().find("[data-toggle-reverter]"),this.hasReverter=0<this.$reverter.length),this.bindEvents(),this.$el.data("expanded")&&this.toggle(),_r_()},bindEvents:function(){_i_("65cb:cd639307"),this.autoTruncate&&this.$el.on("updateText.ugcs.toggle",this.onUpdate.bind(this)),this.$el.on("click.ugcs.toggle",this.toggle.bind(this)),this.$el.on("focus.ugcs.toggle",this.onFocus.bind(this)),this.$el.on("blur.ugcs.toggle",this.onBlur.bind(this)),this.hasReverter&&this.$reverter.on("click.ugcs.toggle",this.revert.bind(this)),_r_()},unBindEvents:function(){_i_("65cb:e19b4e98"),this.$el.off(".ugcs.toggle"),this.hasReverter&&this.$reverter.off(".ugcs.toggle"),_r_()},onFocus:function(e){_i_("65cb:a6c67898"),e.preventDefault(),this.$el.on("keydown.ugcs.toggle",this.onKeyDown.bind(this)),_r_()},onBlur:function(e){_i_("65cb:a6c678981"),e.preventDefault(),this.$el.on("keydown.ugcs.toggle",this.onKeyDown.bind(this)),_r_()},onKeyDown:function(e){_i_("65cb:7faddd6e"),32==e.keyCode&&(this.$el.blur(),this.toggle(e)),_r_()},onUpdate:function(e){if(_i_("65cb:df568ce2"),this.autoTruncate){this.fullText=this.$toggleWrapper.text();var t=this.$toggleWrapper.data("toggleLength");this.fullText.length>t+3?(this.$el.removeClass("bui-u-hidden"),this.$toggleWrapper.text(this.fullText.slice(0,t)+"")):this.$el.addClass("bui-u-hidden")}_r_()},revert:function(e){_i_("65cb:b19b18fd"),this.$toShow.addClass("bui-u-hidden"),this.$toHide.removeClass("bui-u-hidden"),this.$el.removeClass("bui-u-hidden"),this.hasReverter&&this.$reverter.addClass("bui-u-hidden"),_r_()},toggle:function(e){_i_("65cb:bae8aa6c"),e&&e.preventDefault();var t=this;if(window.setTimeout(function(){_i_("65cb:a369b7aa"),t.$el.addClass("bui-u-hidden"),_r_()},0),this.autoTruncate)return this.$toggleWrapper.text(this.fullText),_r_();this.$toShow.removeClass("bui-u-hidden"),this.hasReverter?(this.$toHide.addClass("bui-u-hidden"),this.$reverter.removeClass("bui-u-hidden")):(this.$toHide.remove(),this.unBindEvents()),_r_()}}))}),B.define("component/ugcs/dom-utils/dropdown-select",["component","jquery"],function(e,t){return _i_("65cb:47f5e285"),_r_(e.extend({init:function(){_i_("65cb:5a7bbc9f"),this.$text=this.$el.find(".bui-button__text"),this.$options=this.$el.find(".bui-dropdown-menu__button"),this.instance=window.BUI.createInstance("Dropdown",this.el,{onAfterOpen:this.onAfterOpen.bind(this),onItemChoose:this.onChange.bind(this)}),this.instance.mount(),this.$el.on("setVal",this.setValWithoutChange.bind(this)),_r_()},onAfterOpen:function(){_i_("65cb:71130590");var i=this;this.$options.filter(function(e,t){_i_("65cb:3b6d62d6");var n=i.$el.val();return _r_(t.dataset.value===(Array.isArray(n)?n[0]:n))}).focus(),_r_()},unBindEvents:function(){_i_("65cb:87fae48b"),this.instance.unmount(),_r_()},setValWithoutChange:function(e,n){_i_("65cb:f90c43a6"),this.$text.html(this.$options.filter(function(e,t){return _i_("65cb:189953e0"),_r_(t.dataset.value===n)}).html()),this.$el.val(n),_r_()},onChange:function(e){_i_("65cb:568a9b9c"),this.$text.html(e.el.innerHTML),this.$el.val(e.el.dataset.value),this.$el.trigger("change",[e.el.dataset.value]),_r_()}}))}),B.define("component/ugcs/review-block/photos",function(e,t,n){_i_("65cb:81b0e5b0");var i=e("component"),r=e("jquery"),_=e("jstmpl");n.exports=i.extend({init:function(){if(_i_("65cb:bf1e61c9"),B.env.ugcs=B.env.ugcs||{},B.env.ugcs.review_block=B.env.ugcs.review_block||{},B.env.ugcs.review_block.photos=B.env.ugcs.review_block.photos||{},this.id=this.$el.data("photos-group"),this.id||this.$el.remove(),!this.id)return _r_(!0);this.$all=this.$el.find("[data-photos-src]"),this.bindEvents(),this.additionalClass=B.env.b_site_type&&"www"==B.env.b_site_type?"c-review-block__gallery__inner--increased":"",_r_()},bindEvents:function(){_i_("65cb:c7973324"),this.$all.bind("click.review-block.photos",r.proxy(this.onBtnClick,this)),_r_()},onBtnClick:function(e){_i_("65cb:3eb52983"),e.preventDefault();var t=this.$all.index(r(e.currentTarget));B.env.ugcs.review_block.photos[this.id]||this.initGallery(),B.env.ugcs.review_block.photos[this.id].show(t),_r_()},initGallery:function(){_i_("65cb:e0ab0bea");var n=[];this.$all.each(function(e,t){_i_("65cb:c08200aa"),n.push(r(t).data("photos-src")),_r_()});var e=this.additionalClass,t=_("component_review_block_gallery").render({photos:n,additionalClass:e}),i=r(t);r("body").append(i),B.env.ugcs.review_block.photos[this.id]=i.component("ugcs/review-block/gallery"),_r_()}}),_r_()}),booking.jstmpl("component_review_block_gallery",function(){_i_("65cb:b4807bb9");var o,s=['\n    <div class="c-review-block__gallery">\n        <div class="c-review-block__gallery__inner ',' bui-f-depth-2">\n            <ul class="c-review-block__gallery__list">\n                ','\n                    <li index="','"\n                        class="c-review-block__gallery__item">\n                        ',"c-review-block__gallery__error-icon","iconset/warning",'\n                        <img alt=""\n                             index="','"\n                             class="c-review-block__gallery__photo"\n                             data-src="','" />\n                    </li>\n                ','\n            </ul>\n            <button class="c-review-block__gallery__previous">\n                <span>\n                    ',"24","iconset/navarrow_left",'\n                </span>\n            </button>\n            <button class="c-review-block__gallery__next">\n                <span>\n                    ',"iconset/navarrow_right",'\n                </span>\n            </button>\n            <div class="c-review-block__gallery__header">\n                <button class="c-review-block__gallery__close">\n                    ',"/private/close/name","iconset/close",'\n                </button>\n            </div>\n            <div class="c-review-block__gallery__footer">\n                <span class="c-review-block__gallery__count"></span>\n            </div>\n        </div>\n    </div>\n'],c=["additionalClass","photos"];return _r_(function(e){_i_("65cb:9afb84e8");var t="",n=this.fn;t+=[s[0],n.F.entities(n.MC(c[0])),s[1]].join("");var i=n.MC(c[1])||[];e.unshift({photo:null});for(var r,_=1,a=i.length;_<=a;_++)e[0].photo=r=i[_-1],t+=[s[2],n.F.entities(n.MI(_)-n.MI(1)),s[3],(e.unshift({class:s[4],name:s[5]}),o=n.HELPER("icon",e[0]),e.shift(),o),s[6],n.F.entities(n.MI(_)-n.MI(1)),s[7],n.F.entities(r),s[8]].join("");return e.shift(),t+=[s[9],(e.unshift({color:"#000000",height:s[10],name:s[11],width:s[10]}),o=n.HELPER("icon",e[0]),e.shift(),o),s[12],(e.unshift({color:"#000000",height:s[10],name:s[13],width:s[10]}),o=n.HELPER("icon",e[0]),e.shift(),o),s[14],n.ME(s[15],n.MB,n.MN,null),(e.unshift({name:s[16]}),o=n.HELPER("icon",e[0]),e.shift(),o),s[17]].join(""),_r_(t)})}()),B.define("component/ugcs/review-block/gallery",function(e,t,n){_i_("65cb:dfe53b28");var i=e("component"),c=e("jquery"),r=e("events");n.exports=i.extend({init:function(){_i_("65cb:d6ed96f4"),this.isRtl=c("body").hasClass("lang_is_rtl"),this.loadClass="c-review-block__gallery__photo--loaded",this.errorClass="c-review-block__gallery__item--error",this.$window=c(window),this.$close=this.$el.find(".c-review-block__gallery__close"),this.$next=this.$el.find(".c-review-block__gallery__next"),this.$previous=this.$el.find(".c-review-block__gallery__previous"),this.$photos=this.$el.find("img"),this.$count=this.$el.find(".c-review-block__gallery__count"),this.$inner=this.$el.find(".c-review-block__gallery__inner"),this.$listItem=this.$el.find(".c-review-block__gallery__item"),this.total=this.$photos.length,this.current=0,this.seenPictures=[],this.uiFixes(),_r_()},bindEvents:function(){_i_("65cb:384b6e06"),c(document).on("keydown.ugcs.review-block.gallery",c.proxy(this.onKeyboardPress,this)),this.$close.on("click.ugcs.review-block.gallery.close",c.proxy(this.onCloseClick,this)),this.$el.on("click.ugcs.review-block.gallery.wrapper",c.proxy(this.onBgClick,this)),this.$inner.on("click.ugcs.review-block.gallery.inner",c.proxy(this.onGalleryClick,this)),this.$next.on("click.ugcs.review-block.gallery.next",c.proxy(this.onNextClick,this)),this.$photos.one("load.ugcs.review-block.gallery.photo",c.proxy(this.onPhotoLoad,this)),this.$photos.one("error.ugcs.review-block.gallery.photo",c.proxy(this.onPhotoError,this)),this.$previous.on("click.ugcs.review-block.gallery.prev",c.proxy(this.onPreviousClick,this)),this.$window.on("resize.ugcs.review-block.window",c.proxy(this.onWindowResize,this)),_r_()},unbindEvents:function(){_i_("65cb:600b6e9f"),c(document).off("keydown.ugcs.review-block.gallery",c.proxy(this.onKeyboardPress,this)),this.$close.off("click.ugcs.review-block.gallery.close",c.proxy(this.onCloseClick,this)),this.$el.off("click.ugcs.review-block.gallery.wrapper",c.proxy(this.onBgClick,this)),this.$inner.off("click.ugcs.review-block.gallery.inner",c.proxy(this.onGalleryClick,this)),this.$next.off("click.ugcs.review-block.gallery.next",c.proxy(this.onNextClick,this)),this.$photos.off("load.ugcs.review-block.gallery.photo",c.proxy(this.onPhotoLoad,this)),this.$photos.off("error.ugcs.review-block.gallery.photo",c.proxy(this.onPhotoError,this)),this.$previous.off("click.ugcs.review-block.gallery.prev",c.proxy(this.onPreviousClick,this)),this.$window.off("resize.ugcs.review-block.window",c.proxy(this.onWindowResize,this)),_r_()},uiFixes:function(){if(_i_("65cb:9a7a2ccb"),1<this.total)return _r_(!0);this.$previous.remove(),this.$next.remove(),_r_()},onGalleryClick:function(e){_i_("65cb:875fad7e"),e.stopPropagation(),_r_()},onKeyboardPress:function(e){_i_("65cb:1fa57cde"),27==e.which&&this.hide(),37==e.which&&this.previous(),39==e.which&&this.next(),_r_()},onPhotoLoad:function(e){_i_("65cb:3f4980fd"),c(e.currentTarget).addClass(this.loadClass),this.fixPhotoToGallery(),_r_()},onPhotoError:function(e){_i_("65cb:fa053a03"),c(e.currentTarget).parent().addClass(this.errorClass),_r_()},onBgClick:function(e){_i_("65cb:50639143"),e.preventDefault(),this.hide(),_r_()},onCloseClick:function(e){_i_("65cb:506391431"),e.preventDefault(),this.hide(),_r_()},onWindowResize:function(){_i_("65cb:cba5eebf"),this.fixGalleryToViewport(),_r_()},onNextClick:function(e){_i_("65cb:f338ab5e"),e.preventDefault(),this.isRtl?this.previous():this.next(),_r_()},onPreviousClick:function(e){_i_("65cb:e2eafc9d"),e.preventDefault(),this.isRtl?this.next():this.previous(),_r_()},next:function(){_i_("65cb:7ad0e2aa");var e=this.current+1==this.total?0:this.current+1;this.go(e),_r_()},previous:function(){_i_("65cb:45bf9f49");var e=0==this.current?this.total-1:this.current-1;this.go(e),_r_()},hide:function(){_i_("65cb:aed5adca"),this.$el.hide(),this.unbindEvents(),_r_()},show:function(e){_i_("65cb:2390f192"),this.bindEvents(),this.$el.show(),this.go(e),this.fixGalleryToViewport(),_r_()},go:function(e){_i_("65cb:ba5103b5");var s=this;this.current=0<=e?e:this.current;var t=this.$listItem.find('img[index="'+this.current+'"]'),n=this.$listItem.filter('[index="'+this.current+'"]'),i=t.data("src");i&&t.attr("src",i),t.removeAttr("data-src"),this.$listItem.hide(),n.show(),this.$count.html(this.current+1+"/"+this.total),this.fixPhotoToGallery(),r.emit("reviews:gallery:switch",{current:this.current,total:this.total}),function(e){var t;_i_("65cb:9d4e34ed"),e&&e.length&&(t=c(e[0]));if(!(t&&t.length&&t.find(".c-review-block__gallery__photo")&&t.find(".c-review-block__gallery__photo").attr("src")))return _r_();var n=t.find(".c-review-block__gallery__photo").attr("src"),i=/xphoto\/\w+\/(\w+)\.[jpg|png|webp]/.exec(n);i&&i[1]&&-1==s.seenPictures.indexOf(i[1])&&(r="reviews_list_seen_big_photo",_=B.env.b_hotel_id,a="photo_id",o=i[1],_i_("65cb:af463583"),c.ajax({url:"/personalisationinfra/track_behaviour_property",method:"POST",data:{behaviour_name:r||"",hotel_id:_||"",attribute_name:a||null,attribute_value:o||null},success:function(e){},error:function(e){}}),_r_(),s.seenPictures.push(i[1]));var r,_,a,o;_r_()}(n),_r_()},fixGalleryToViewport:function(){_i_("65cb:bda2026d");var e=this.$window.height(),t=this.$window.width()/e,n=this.$inner.width()/this.$inner.height(),i=n<t?{width:n/t*90+"%"}:{};this.$inner.css(i),this.fixPhotoToGallery(),_r_()},fixPhotoToGallery:function(){_i_("65cb:6952e265");var e=this.$photos.eq(this.current),t=(e[0]||{}).naturalWidth/(e[0]||{}).naturalHeight<this.$inner.width()/this.$inner.height()?{height:"100%",width:"auto"}:{width:"100%",height:"auto"};e.css(t),_r_()}}),_r_()}),booking.jstmpl("component_review_block_review_read_more_button",function(){_i_("65cb:6a0e20ce");var n=['\n    <span class="c-review__read-more">\n        ',"\n    </span>\n"];return _r_(function(e){_i_("65cb:2d52ea3b");var t="";this.fn;return t+=n[0],_r_(t+=n[1])})}()),B.define("component/ugcs/review-block/review",["component","jquery"],function(e,t){return _i_("65cb:a19c000f"),_r_(e.extend({init:function(){if(_i_("65cb:88d69aff"),this.fullContent=this.$el.data("full-content"),!this.fullContent)return _r_(!0);this.$button=t(B.jstmpl("component_review_block_review_read_more_button").render({})),this.$el.after(this.$button),this.bindEvents(),_r_()},bindEvents:function(){_i_("65cb:af8f58d2"),this.$button.on("click.ugcs.review.show-more",t.proxy(this.showFullContent,this)),_r_()},unBindEvents:function(){_i_("65cb:d68f7095"),this.$button.off("click.ugcs.review.show-more",t.proxy(this.showFullContent,this)),_r_()},showFullContent:function(){_i_("65cb:aaf922ff"),this.$el.html(this.fullContent),this.unBindEvents(),this.$button.remove(),_r_()}}))}),B.when({events:"ready"}).run(function(e){_i_("65cb:74c82a86");var _=e("jquery");({init:function(){_i_("65cb:3c562241");var r=this;_("[data-js-breakdown-show-more]").each(function(e,t){_i_("65cb:00c75935");var n=_(t),i=n.parents(".c-subscores").find(".c-subscores__hide");0==i.length?n.hide():r.bindEvents(n,i),_r_()}),_r_()},bindEvents:function(e,t){_i_("65cb:8dd4a5d0"),e.on("click.ugcs.score-breakdown",_.proxy(this.showSubscores,this,e,t)),_r_()},unBindEvents:function(e,t){_i_("65cb:b8e9e706"),e.off("click.ugcs.score-breakdown",_.proxy(this.showSubscores,this,e,t)),_r_()},showSubscores:function(e,t){_i_("65cb:57f0c301"),t.show(),this.unBindEvents(e,t),e.hide(),_r_()}}).init(),_r_()}),booking.jstmpl("component_shared_review_read_more_button",function(){_i_("65cb:556b18ff");var i=['\n    <span class="c-review__read-more">\n        ',"/private/comp_ugc_read_more_cta/name","\n    </span></span>\n"];return _r_(function(e){_i_("65cb:bde66dc9");var t="",n=this.fn;return t+=[i[0],n.ME(i[1],n.MB,n.MN,null),i[2]].join(""),_r_(t)})}()),B.define("component/ugcs/shared/review",function(e,t,n){_i_("65cb:acc4453b");var i=e("jquery"),r=B.jstmpl,_=e("component");n.exports=_.extend({init:function(){_i_("65cb:2ac6b80e"),this.fullContent=this.$el.data("full-content"),this.fullContent&&(this.$button=i(r("component_shared_review_read_more_button").render({})),this.$el.after(this.$button),this.bindEvents()),_r_()},bindEvents:function(){_i_("65cb:af8f58d21"),this.$button.on("click.ugcs.review.show-more",i.proxy(this.showFullContent,this)),_r_()},unBindEvents:function(){_i_("65cb:d68f70951"),this.$button.off("click.ugcs.review.show-more",i.proxy(this.showFullContent,this)),_r_()},showFullContent:function(){_i_("65cb:ad0b280e"),this.$el.html(this.fullContent),this.unBindEvents(),this.$button.hide(),_r_()}}),_r_()}),B.define("translatable-review/modules/review-translate",function(e,t,n){_i_("65cb:b86594f4");var o=e("jquery"),i=e("event-emitter").extend({events:{TRANSLATIONS_LOADED:"TRANSLATIONS_LOADED"},translate:function(e){_i_("65cb:9d749df6");var t=e.provider,n=e.review_url,i=e.target_lang;if(!n||!i)throw"Args review_url and target_lang are required!";return _r_("google"===t?this._googleTranslate(n,i):"booking"===t?this._bookingTranslate(e):this.translateV2(e))},batchTranslate:function(e){_i_("65cb:5a0f8f1b");var t=e.provider||"booking";if(!e.review_urls||!e.target_lang)throw"Args review_urls and target_lang are required!";if("booking"===t)return _r_(this._bookingBatchTranslate(e));throw"Invalid translation provider!"},_googleTranslate:function(e,t){_i_("65cb:e4bbb887");var n=this,i={review_url:e,target:t};return _r_(o.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/translate_review",data:JSON.stringify(i)}).then(function(e){return _i_("65cb:1df0df1c"),_r_(n._generate_response(e))}))},_bookingTranslate:function(e){_i_("65cb:2f3b3a41");var i=e.review_url,t=e.target_lang,n=e.text_part,r={review_urls:[i],target:t};return n&&(r.text_parts=[n]),_r_(o.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/translate_featured_reviews",data:JSON.stringify(r)}).then(function(e){_i_("65cb:4d69f7c4");var t={success:0};if(1===e.success&&e.translations){var n=e.translations[i];n&&(t.success=1,t.translated_review={hotel_general:n})}return _r_(t)}))},_bookingBatchTranslate:function(e){_i_("65cb:a8ea45c0");var t=this,n=e.review_urls,i=e.target_lang,r=e.text_parts,_=!!e.broadcast,a={review_urls:n,target:i,version:2,support_full_review:"mdot"===B.env.b_site_type||"www"===B.env.b_site_type};return r&&0<r.length&&(a.text_parts=r),_r_(o.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/translate_featured_reviews",data:JSON.stringify(a)}).then(function(e){return _i_("65cb:ea330de5"),_r_(t._generate_response_batch(e,_))}))},translateV2:function(e){_i_("65cb:85afe12a");var t=this,n=e.review_url,i=e.target_lang;if(!n||!i)throw"Args review_urls and target_lang are required!";var r={review_urls:[n],target_lang:i};return _r_(t.batchTranslateV2(r).then(function(e){return _i_("65cb:7ae8aa51"),_r_(t._generate_response_single(e,n))}))},batchTranslateV2:function(e){_i_("65cb:bf294c37");var t=this,n=e.review_urls,i=e.target_lang,r=e.version,_=!!e.broadcast;if(!n||!i)throw"Args review_urls and target_lang are required!";var a={review_urls:n,target:i,version:r};return _r_(o.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/translate_review_batch",data:JSON.stringify(a)}).then(function(e){return _i_("65cb:ea330de51"),_r_(t._generate_response_batch(e,_))}))},_generate_response:function(e){_i_("65cb:d5951d8b");var t={success:0};if(1===e.success){var n=e.translated_review;t.success=1,t.translated_review={title:n.title,hotel_positive:n.hotel_positive,hotel_negative:n.hotel_negative,hotel_general:n.hotel_general||n.tip,translation_provider:n.translation_provider}}return _r_(t)},_generate_response_single:function(e,t){_i_("65cb:8bdf73e8");var n={success:0};if(1===e.success){var i=e.translations[t];if(!i)return _r_(n);i.hotel_general=i.hotel_general||i.hotel_positive,n.translated_review=i,n.success=1}return _r_(n)},_generate_response_batch:function(e,t){_i_("65cb:77b0eec2");var n={success:0};return 1===e.success&&e.translations&&(n.translations=this._map_translations_from_response(e.translations),n.success=1,t&&this.emit(this.events.TRANSLATIONS_LOADED,n.translations)),_r_(n)},_map_translations_from_response:function(i){return _i_("65cb:10b924a2"),_r_(Object.keys(i).reduce(function(e,t){_i_("65cb:8d1eab83");var n=i[t];return e[t]="string"==typeof n?{hotel_general:n}:{hotel_positive:n.hotel_positive,hotel_negative:n.hotel_negative,hotel_general:n.hotel_general,title:n.title,translation_provider:n.translation_provider},_r_(e)},{}))}});n.exports=i,_r_()}),B.define("translatable-review/modules/events",function(e,t,n){_i_("65cb:c1afa693");var i=e("event-emitter");n.exports=i.extend({events:{TRANSLATE_SUCCESS:"TRANSLATE_SUCCESS"}}),_r_()}),B.define("translatable-review/modules/trackers",function(e,t,n){_i_("65cb:21490f48");var i={track_show_original:function(e,t){if(_i_("65cb:402dc517"),!e||!t)return _r_();var n={review_url:e,target_lang:t};return _r_($.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/track_show_original",data:JSON.stringify(n)}))}};n.exports=i,_r_()}),B.define("component/ugcs/shared/translatable-review",function(e,t,n){_i_("65cb:3c31c6f2");var r=e("jquery"),_=e("et"),i=e("component"),a=e("translatable-review/modules/review-translate"),o=e("translatable-review/modules/trackers"),s=e("translatable-review/modules/events"),c=e("jstmpl"),l=c("provider_logo_google"),d=c("provider_logo_booking");n.exports=i.extend({originalCta:".c-review__translation-cta__original",translatedCta:".c-review__translation-cta__translated",translationProviderText:".c-review__translation-cta__provider",originalLink:".js-review-translation-show-original",translatedLink:".js-review-translation-show-translated",originalBody:".c-review__body--original",translatedBody:".c-review__body--translated",bodyExpandLink:".c-review__body-expand",reviewBlock:".c-review-block",originalTitle:".c-review-block__title--original",translatedTitle:".c-review-block__title--translated",translationLoader:".c-review__translation-loader",rtlWrappers:".c-review__inner",rtlClass:"c-review__inner--rtl",ltrClass:"c-review__inner--ltr",featuredReviewClass:"c-review",init:function(){_i_("65cb:5b43a955"),this.$ctaOriginal=this.$el.find(this.originalCta),this.$ctaTranslated=this.$el.find(this.translatedCta),this.$translationLinkOriginal=this.$el.find(this.originalLink),this.$translationLinkTranslated=this.$el.find(this.translatedLink),this.$originalTexts=this.$el.find(this.originalBody),this.$translatedTexts=this.$el.find(this.translatedBody),this.$translatedExpand=this.$el.find(this.translatedBody+"+"+this.bodyExpandLink),this.$reviewBlock=this.$el.parents(this.reviewBlock),0<this.$reviewBlock.length?(this.$titleOriginal=this.$reviewBlock.find(this.originalTitle),0<this.$titleOriginal.length&&(this.$originalTexts=this.$originalTexts.add(this.$titleOriginal),this.$titleTranslated=this.$reviewBlock.find(this.translatedTitle),this.$translatedTexts=this.$translatedTexts.add(this.$titleTranslated),this.$rtlWrappers=this.$reviewBlock.find(this.rtlWrappers))):this.$el.hasClass(this.featuredReviewClass)&&(this.$rtlWrappers=this.$el.find(this.rtlWrappers)),this.originalLang=this.$el.data("orig-lang"),this.targetLang=B.env.b_lang_for_url,this.reviewUrl=this.$el.data("review-url"),this.translationProvider=this.$el.data("translation-provider"),this.$translationLoader=this.$el.find(this.translationLoader),this.translator=a,this.translated=!!this.$el.data("pretranslated"),this.dataType=this.$el.data("type"),this.textPart=this.$el.data("text-part"),this.listenToTranslations=this.$el.data("listen-to-translations"),this.quoted=!!this.$el.data("quoted"),this.OPEN_QUOTE=this.decodeEntities(c.translations("quote_open_primary")),this.CLOSE_QUOTE=this.decodeEntities(c.translations("quote_close_primary")),this.bindEvents(),_r_()},bindEvents:function(){_i_("65cb:aea907d7"),this.$translationLinkOriginal.on("click",r.proxy(this.showOriginal,this)),this.$translationLinkTranslated.on("click",r.proxy(this.showTranslation,this)),this.listenToTranslations&&this.translator.on(this.translator.events.TRANSLATIONS_LOADED,r.proxy(this.loadAutoTranslation,this)),_r_()},showTranslation:function(){_i_("65cb:3d34b555");var n=this;if(n.translated)n.$originalTexts.hide(),n.$ctaTranslated.hide(),n.$translationLoader.hide(),n.handleRtl(n.targetLang),n.$translatedTexts.show(),n.$ctaOriginal.show(),n.translatedExpandRestore&&n.$translatedExpand.show();else{n.$ctaTranslated.hide(),n.$translationLoader.show();var e={provider:n.translationProvider,review_url:n.reviewUrl,target_lang:n.targetLang,data_type:n.dataType,text_part:n.textPart};n.translator.translate(e).then(function(e){if(_i_("65cb:2817eb64"),n.$translationLoader.hide(),1==e.success){var t=e.translated_review;n.loadTranslation(t)?(n.showTranslation(),n.trackChars(t),s.emit(s.events.TRANSLATE_SUCCESS,n)):n.translationFailure()}else n.translationFailure();_r_()}).fail(function(){_i_("65cb:05215f85"),n.translationFailure(),_r_()})}_r_()},showOriginal:function(){_i_("65cb:85e7fbe6"),this.$translatedTexts.hide(),this.$ctaOriginal.hide(),this.translatedExpandRestore=!this.$translatedExpand.is(":hidden"),this.$translatedExpand.hide(),this.handleRtl(this.originalLang),this.$originalTexts.show(),this.$ctaTranslated.show(),_.goalWithValue("js_reviewlist_show_original",1),o.track_show_original(this.reviewUrl,B.env.b_lang),_r_()},loadTranslation:function(e){if(_i_("65cb:d51815c3"),!e)return _r_(!1);if(!(e.hotel_general||e.hotel_positive||e.hotel_negative))return _r_(!1);if(this.$translatedTexts.filter(".general").text(this.formatText(e.hotel_general)),this.$translatedTexts.filter(".positive").text(this.formatText(e.hotel_positive)),this.$translatedTexts.filter(".negative").text(this.formatText(e.hotel_negative)),this.$translatedExpand.trigger("updateText"),e.title&&this.$titleTranslated&&this.$titleTranslated.length&&this.$titleTranslated.text(e.title),!this.translationProvider&&e.translation_provider){this.translationProvider=e.translation_provider;var t=this.$el.find(this.translationProviderText),n=d;"google"===e.translation_provider&&(n=l),t.html(c.translations("ugc_reviews_translated_by",null,{companyname:n.render({})}))}return this.translated=!0,_r_(!0)},translationFailure:function(){_i_("65cb:32d7fd9c"),this.$translationLoader.hide(),this.$ctaOriginal.text(c.translations("ugc_reviews_translated_failed")),this.$ctaOriginal.show(),_r_()},loadAutoTranslation:function(e){if(_i_("65cb:11cf0d99"),this.translated||!e)return _r_();this.reviewUrl&&e[this.reviewUrl]&&(this.loadTranslation(e[this.reviewUrl])&&this.showTranslation());_r_()},decodeEntities:function(e){_i_("65cb:9fde2cf7");var t=document.createElement("textarea");return t.innerHTML=e,_r_(t.value)},formatText:function(e){_i_("65cb:591dec00");var t=e||"";return this.quoted&&(t=this.OPEN_QUOTE+t+this.CLOSE_QUOTE),_r_(t)},trackChars:function(e){_i_("65cb:57fe1da1");if(!e)return _r_();var t={booking:0,google:0},n=e.translation_provider||"google",i=0;this.$originalTexts.each(function(){_i_("65cb:f689dbe7");var e=r(this),t=r.trim(e.text());i+=t.length,_r_()}),t[n]=i,_.goalWithValue("js_reviewlist_booking_translate_chars",t.booking),_.goalWithValue("js_reviewlist_google_translate_chars",t.google),_r_()},isTargetLangRtl:function(e){return _i_("65cb:ebcab777"),_r_("ar"===e||"he"===e)},handleRtl:function(e){_i_("65cb:a5c6df30");if(!e)return _r_();this.$rtlWrappers&&0<this.$rtlWrappers.length&&(this.isTargetLangRtl(e)?(this.$rtlWrappers.removeClass(this.ltrClass),this.$rtlWrappers.addClass(this.rtlClass)):(this.$rtlWrappers.removeClass(this.rtlClass),this.$rtlWrappers.addClass(this.ltrClass))),_r_()}}),_r_()}),booking.jstmpl("provider_logo_google",function(){_i_("65cb:27c41d3a");var i=["\n    ",'<svg width="49px" height="16px" viewBox="0 0 49 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="position: relative; top: 4px;">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="result" fill="#757575" fill-rule="nonzero">\n            <path d="M11.9684863,5.65009119 L6.29942857,5.65009119 L6.29942857,7.33232827 L10.32,7.33232827 C10.1213763,9.69128267 8.15878419,10.6972888 6.30623708,10.6972888 C3.93609726,10.6972888 1.86786626,8.83243769 1.86786626,6.21865046 C1.86786626,3.67241337 3.83941641,1.71146505 6.31144073,1.71146505 C8.21865046,1.71146505 9.3424924,2.92727052 9.3424924,2.92727052 L10.5203647,1.70752584 C10.5203647,1.70752584 9.00853495,0.0244620061 6.25123404,0.0244620061 C2.74047416,0.0244620061 0.0243647416,2.98781763 0.0243647416,6.18859574 C0.0243647416,9.32503343 2.57945289,12.3833678 6.34120365,12.3833678 C9.64970213,12.3833678 12.071538,10.1169119 12.071538,6.76537386 C12.071538,6.05831003 11.9688802,5.6496535 11.9688802,5.6496535 L11.9684863,5.65009119 Z" id="Path"></path>\n            <path d="M16.6128632,4.4318541 C14.2866869,4.4318541 12.6196231,6.25045593 12.6196231,8.37145289 C12.6196231,10.5238176 14.2365957,12.3762188 16.6401945,12.3762188 C18.8160973,12.3762188 20.5987112,10.7131429 20.5987112,8.41770213 C20.5987112,5.78679635 18.5251307,4.4318541 16.6128632,4.4318541 Z M16.6359942,5.99212158 C17.7799212,5.99212158 18.8639334,6.91696049 18.8639334,8.40719757 C18.8639334,9.86582371 17.7845413,10.8170213 16.6307419,10.8170213 C15.3629972,10.8170213 14.3628756,9.80167781 14.3628756,8.3956231 C14.3628756,7.01972036 15.350596,5.99212158 16.6359942,5.99212158 Z" id="Shape"></path>\n            <path d="M25.2976049,4.4318541 C22.9714286,4.4318541 21.3043647,6.25045593 21.3043647,8.37145289 C21.3043647,10.5238176 22.9213374,12.3762188 25.3249362,12.3762188 C27.5008389,12.3762188 29.2834529,10.7131429 29.2834529,8.41770213 C29.2834529,5.78679635 27.2098723,4.4318541 25.2976049,4.4318541 L25.2976049,4.4318541 Z M25.3207353,5.99212158 C26.4646624,5.99212158 27.5486745,6.91696049 27.5486745,8.40719757 C27.5486745,9.86582371 26.4692824,10.8170213 25.315483,10.8170213 C24.0477384,10.8170213 23.0476168,9.80167781 23.0476168,8.3956231 C23.0476168,7.01972036 24.0353371,5.99212158 25.3207353,5.99212158 Z" id="Shape"></path>\n            <path d="M33.815538,4.43574468 C31.6803891,4.43574468 30.0020912,6.30579939 30.0020912,8.40476596 C30.0020912,10.7956717 31.9478176,12.3811793 33.7787234,12.3811793 C34.9108328,12.3811793 35.5128024,11.9317933 35.9572523,11.4159757 L35.9572523,12.1992462 C35.9572523,13.5697021 35.125155,14.3903708 33.8691793,14.3903708 C32.6558541,14.3903708 32.0472705,13.4881945 31.835769,12.9762432 L30.309155,13.6144438 C30.8507234,14.7595866 31.9409605,15.9537994 33.8818237,15.9537994 C36.0047173,15.9537994 37.6227112,14.6166565 37.6227112,11.8123283 L37.6227112,4.67457751 L35.9573009,4.67457751 L35.9573009,5.34745289 C35.4455927,4.79567173 34.7453374,4.43589058 33.8155866,4.43589058 L33.815538,4.43574468 Z M33.9700912,5.99285106 C35.0168997,5.99285106 36.0918176,6.88671125 36.0918176,8.41317933 C36.0918176,9.96474164 35.0191854,10.8198419 33.9469422,10.8198419 C32.8086565,10.8198419 31.7494954,9.89558663 31.7494954,8.42791489 C31.7494954,6.90290578 32.8495076,5.99285106 33.9700426,5.99285106 L33.9700912,5.99285106 Z" id="Shape"></path>\n            <path d="M45.027696,4.42650456 C43.0136413,4.42650456 41.3225532,6.02893617 41.3225532,8.39343465 C41.3225532,10.8954164 43.2074894,12.3792827 45.221155,12.3792827 C46.9017872,12.3792827 47.9332766,11.4598419 48.5488632,10.6360608 L47.1757325,9.72240729 C46.819414,10.2754043 46.2237082,10.8158541 45.2295684,10.8158541 C44.1128754,10.8158541 43.5994164,10.2043526 43.2813131,9.61201216 L48.6075137,7.4019696 L48.3309957,6.75428571 C47.8162237,5.48590881 46.6158347,4.42650456 45.0275064,4.42650456 L45.027696,4.42650456 Z M45.0970845,5.95418845 C45.8228231,5.95418845 46.3451331,6.3400462 46.5669447,6.80267477 L43.0100328,8.2893617 C42.8566857,7.13838298 43.9471271,5.95418845 45.0970845,5.95418845 Z" id="Shape"></path>\n            <polygon id="Path" points="38.7838055 12.143465 40.5333495 12.143465 40.5333495 0.435258359 38.7838055 0.435258359"></polygon>\n        </g>\n    </g>\n</svg>\n',"\n"];return _r_(function(e){_i_("65cb:8db487d6");var t,n="";this.fn;return t=n+=i[0],_i_("65cb:c6deab81"),n=_r_(t+=i[1]),_r_(n+=i[2])})}()),booking.jstmpl("provider_logo_booking",function(){_i_("65cb:7b824e0f");var i=["\n    ",'<svg width="80px" height="14px" viewBox="0 0 80 14" version="1.1" xmlns="http://www.w3.org/2000/svg"\n    style="position: relative; top: 4px;">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="#757575" d="M31.463 1.344a1.21 1.21 0 112.42 0 1.21 1.21 0 11-2.42 0zm-19.86 7.545c-1.043\n        0-1.767-.828-1.767-2.01 0-1.183.724-2.01 1.766-2.01 1.049 0 1.782.827 1.782 2.01 0 1.202-.718 2.01-1.782\n        2.01zm0-5.786c-2.205 0-3.806 1.588-3.806 3.776 0 2.188 1.6 3.777 3.805 3.777 2.213 0 3.82-1.59 3.82-3.777\n        0-2.188-1.607-3.776-3.82-3.776zM29.12 7.068a1.785 1.785 0\n        00-.29-.406l-.066-.07.07-.068c.102-.107.204-.234.304-.38l1.946-2.893h-2.361L27.26\n        5.514c-.082.121-.25.182-.5.182h-.333V1.42c0-.855-.532-.972-1.108-.972h-.986v10.097h2.094V7.515h.197c.238\n        0 .4.028.475.157l1.154 2.18c.322.591.645.692 1.249.692h1.604l-1.194-1.976-.793-1.5zm10.16-3.982c-1.065\n        0-1.743.473-2.125.873l-.126.129-.046-.175c-.111-.428-.488-.664-1.056-.664h-.938l.006\n        7.293h2.079V7.18c0-.328.043-.613.13-.874.231-.787.876-1.277 1.683-1.277.649 0 .902.343.902 1.228v3.176c0\n        .755.35 1.109 1.105 1.109h.99l-.004-4.639c0-1.843-.899-2.817-2.6-2.817zm-6.582.166h-.985l.007\n        5.639h-.001v1.652h1.051l.037.002.491-.002h.487v-.003h.003l.004-6.181c0-.746-.357-1.107-1.094-1.107zm-12.93\n        5.637C18.726 8.89 18 8.061 18 6.88c0-1.183.726-2.01 1.768-2.01 1.046 0 1.78.827 1.78 2.01 0 1.202-.717\n        2.01-1.78 2.01zm0-5.786c-2.207 0-3.808 1.588-3.808 3.776 0 2.188 1.601 3.777 3.808 3.777 2.211 0\n        3.82-1.59 3.82-3.777 0-2.188-1.609-3.776-3.82-3.776zm26.496 5.466c-1.137 0-1.541-.992-1.541-1.921\n        0-.41.103-1.744 1.431-1.744.66 0 1.54.19 1.54 1.812 0 1.531-.778 1.853-1.43 1.853zm2.51-5.337c-.395\n        0-.699.158-.85.445l-.058.111-.097-.083c-.335-.29-.937-.635-1.913-.635-1.944 0-3.253 1.46-3.253 3.632 0\n        2.17 1.354 3.687 3.292 3.687.661 0 1.184-.154 1.599-.469l.16-.12v.202c0 .975-.63 1.513-1.772 1.513a4.22\n        4.22 0 01-1.398-.258c-.44-.133-.699-.024-.878.418l-.165.41-.233.596.145.077c.73.388 1.681.62 2.542.62 1.77\n        0 3.836-.907 3.836-3.458l.008-6.688h-.966zM3.86 8.806l-1.693-.002V6.781c.001-.433.169-.657.538-.709h1.155c.824\n        0 1.356.52 1.356 1.36 0 .862-.519 1.373-1.356 1.374zM2.168 3.349h.001v-.533c0-.466.197-.688.63-.716h.866c.743\n        0 1.187.444 1.187 1.187 0 .568-.304 1.23-1.16 1.23H2.169V3.348zm3.854\n        2.018l-.306-.171.267-.229c.311-.267.832-.867.832-1.905 0-1.587-1.232-2.611-3.137-2.611H1.256A1.06\n        1.06 0 00.234 1.499V10.507H3.72c2.118 0 3.487-1.153 3.487-2.938 0-.962-.443-1.784-1.186-2.202z"/>\n        <path fill="#B0B0B0" d="M50.556 9.413a1.21 1.21 0 112.419 0 1.21 1.21 0 11-2.42 0zm13.823-.524c-1.042\n        0-1.768-.828-1.768-2.01 0-1.183.726-2.01 1.768-2.01 1.046 0 1.78.827 1.78 2.01 0 1.202-.717 2.01-1.78\n        2.01zm0-5.786c-2.206 0-3.807 1.588-3.807 3.776 0 2.188 1.6 3.777 3.807 3.777 2.211 0 3.82-1.59 3.82-3.777\n        0-2.188-1.609-3.776-3.82-3.776zm13.106.007c-.862\n        0-1.696.404-2.231 1.081l-.15.191-.119-.213c-.385-.703-1.048-1.059-1.97-1.059-.966\n        0-1.613.539-1.914.86l-.197.213-.076-.28c-.11-.405-.47-.627-1.015-.627h-.874l-.008\n        7.264h1.985V7.334c0-.282.035-.56.106-.85.19-.775.71-1.608 1.585-1.525.54.052.804.47.804\n        1.275v4.306h2V7.334c0-.352.032-.614.11-.878.162-.74.705-1.498 1.55-1.498.611 0 .838.346.838\n        1.276v3.244c0 .735.327 1.062 1.06 1.062h.935l.002-4.637c0-1.853-.816-2.793-2.42-2.793zM59.37\n        8.018c-.006.007-.861.907-1.985.907-1.026 0-2.06-.628-2.06-2.031 0-1.212.802-2.06 1.95-2.06.374 0\n        .798.135.865.36l.01.037a.73.73 0 00.707.537l1.088.001v-.95c0-1.255-1.595-1.71-2.67-1.71-2.295 0-3.96\n        1.599-3.96 3.8 0 2.2 1.648 3.796 3.919 3.796 1.97 0 3.042-1.296 3.052-1.309l.057-.07-.86-1.429-.113.121z"/>\n    </g>\n</svg>\n',"\n"];return _r_(function(e){_i_("65cb:e94222af");var t,n="";this.fn;return t=n+=i[0],_i_("65cb:0b834f58"),n=_r_(t+=i[1]),_r_(n+=i[2])})}()),B.define("component/ugcs/shared/room-info",function(e,t,n){"use strict";_i_("65cb:651a8ca9");var i,r=e("jquery"),_=e("component"),a="mdot"===B.env.b_site_type,o="www"===B.env.b_site_type;a&&(i=e("tabbed-nav")),n.exports=_.extend({init:function(){if(_i_("65cb:dacaf937"),this.$rt=r(".js-rooms-table"),this.$rtFilters=r(".rt-controls"),this.$anchorTo=0<this.$rtFilters.length?this.$rtFilters:this.$rt.find("#bookForm"),this.roomId=this.$el.data("roomId"),o&&(this.$rt=r(".hprt-table")),B.env.fe_only_one_room_type)return this.hide(),this.$el.parents(".c-review-block__room-info-row").hide(),_r_();this.disableIfUnavailable(),this.$anchorTo&&this.$anchorTo.length||(this.$anchorTo=r("#roomstable_nodates")),this.$anchorTo&&this.$anchorTo.length||(this.$anchorTo=r("#form_search")),this.bindEvents(),_r_()},bindEvents:function(){_i_("65cb:3276afdc"),this.$el.on("click",r.proxy(this.onClickRoomInfo,this)),_r_()},unBindEvents:function(){_i_("65cb:8cfbeaeb"),this.$el.off("click",r.proxy(this.onClickRoomInfo,this)),_r_()},onClickRoomInfo:function(e){if(_i_("65cb:b6b23ba5"),e.preventDefault(),this.$el.hasClass("review-block__room-info--disabled"))return _r_();i&&i.activateTab("main",r(e.target)),o&&r(".sliding-panel-widget-close-button").click(),this.scrollDownRT(),_r_()},disableIfUnavailable:function(){_i_("65cb:e91f4360"),this.roomId&&!this.$rt.find('[data-room-id="'+this.roomId+'"]').length&&(this.$el.addClass("review-block__room-info--disabled"),this.$el.parent("a").removeAttr("href")),_r_()},scrollDownRT:function(){_i_("65cb:832ee938");var e=this.roomId?this.$rt.find('[data-room-id="'+this.roomId+'"]:first'):null;if(e&&e.length&&(this.$anchorTo=e),!this.$anchorTo||!this.$anchorTo.length)return _r_();var t=this.$anchorTo.parents(".rt-collapsed__wrap").find(".bui-action-bar__item button");t.size()&&t.is(":visible")&&t.click();var n=15,i=this.$rt.find(".hprt-table-header");o&&i.size()&&(n+=i[0].clientHeight),r("html, body").animate({scrollTop:this.$anchorTo.offset().top-n},750),_r_()},hide:function(){_i_("65cb:9548afb4"),this.$el.addClass("g-hidden"),_r_()}}),_r_()}),booking.lightbox=function(){_i_("65cb:490f69be");var c,l,r,_,a,o,n,i=$("body"),s={bAnimation:!0,bCloseButton:!0,bMaskClick:!0,closeOnEsc:!0,customWrapperClassName:"",customMaskClassName:"",bFullscreen:!1,hideCallBack:null,hideBeforeCallBack:null,positionBeforeCallBack:null,positionAfterCallBack:null,cloneElement:!1,bCanScroll:!1,bOverflowVisible:!1,autoCenter:!0,limitHeight:!1,opacity:.5,autoWidth:!1,position:"fixed",topMargin:0,bottomMargin:0,preventBodyScroll:!1,trapFocus:!0,addDialogStartEndText:!1,modalLabeledById:""},d={},t=[],u=function(){_i_("65cb:b0c0e96f");for(var e=["","moz","webkit"],t=0;t<3;t++)if(e[t]+(""===e[t]?"b":"B")+"oxSizing"in document.body.style)return _r_(!0);return _r_(!1)}(),f=!1;var b=function(n){var i;_i_("65cb:4cee35e6"),d.positionBeforeCallBack&&d.positionBeforeCallBack(),c.css({width:$(document).width(),height:$(document).height()});var e=$(window).width(),t=Math.max(0,$(window).height()-d.topMargin-d.bottomMargin);if(u||(e=e-parseInt(l.css("paddingLeft"))-parseInt(l.css("paddingRight")),t=t-parseInt(l.css("paddingTop"))-parseInt(l.css("paddingBottom"))),!d.limitHeight){var r=Math.max(0,$(window).height()-d.topMargin-d.bottomMargin);l.outerHeight()>r?(l.css("height",t),i=!0):(l.css("height",""),l.outerHeight()>=r&&l.css("height",t))}if(l.outerWidth()>$(window).width())l.css("width",e);else if(l.css("width",""),l.outerWidth()>=$(window).width())l.css("width",e);else if(d.autoWidth){var _=l.children().first().outerWidth();u&&(_+=parseInt(l.css("padding-left"),10)+parseInt(l.css("padding-right"),10),_+=parseInt(l.css("border-left-width"),10)+parseInt(l.css("border-right-width"),10)),l.css({width:_})}var a=0,o=0;d.bFullscreen?l.css({width:e,height:t}):(a=Math.max(d.topMargin,$(window).height()/2-l.outerHeight()/2),o=Math.max(0,$(window).width()/2-l.outerWidth()/2));var s="hidden";d.bCanScroll?s="auto":d.bOverflowVisible&&(s="visible"),"absolute"==d.position?(a=Math.max(0,$(window).height()/2-l.outerHeight()/2),a+=$(document).scrollTop(),l.css("position","absolute")):"dynamic"==d.position&&function(){_i_("65cb:247e6024");var e="modal-pos-abs",t="modal-pos-to-fix";i?(a=n&&n.preserveAbsolute&&l.hasClass(e)?(l.offset()||{}).top:$(document).scrollTop()+d.topMargin,l.css({position:"absolute",height:""}).addClass(e)):(l.css({position:"fixed"}),l.hasClass(e)?l.removeClass(e).addClass(t):l.removeClass(t)),_r_()}(),l.css({top:a,left:o,overflow:s}),d.positionAfterCallBack&&d.positionAfterCallBack(),_r_()},h=function(e){_i_("65cb:540f2962"),l&&l.is(":visible")&&b(e),_r_()},p=function(){if(_i_("65cb:881a5a71"),!l)return _r_();d.hideBeforeCallBack&&d.hideBeforeCallBack(),d.cloneElement||(_.prepend(r),r.css("display",o)),d.trapFocus&&booking.trapFocus&&booking.trapFocus.release(),c.remove(),l.remove(),f=!1,$("body").removeClass("modal-visible"),$(window).unbind("scroll",h),$(window).unbind("resize",h),d.closeOnEsc&&$(document).unbind("keyup",m),$(".modal-wrapper").off("click.userClose"),$("#calendar_popup").css("display","none"),d.hideCallBack&&d.hideCallBack(),d.preventBodyScroll&&(_i_("65cb:347a5263"),i.css({overflow:"auto",paddingRight:n}),_r_()),booking.eventEmitter.trigger("modal:close"),B.events.trigger("modal:close"),_r_()},m=function(e){_i_("65cb:53ad8b02"),27!==e.keyCode||t.length||p(),_r_()},M=function(){if(_i_("65cb:aed43410"),c=$('<div class="modal-mask"/>').appendTo(document.body),0<d.customMaskClassName.length&&c.addClass(d.customMaskClassName),l=$('<div class="modal-wrapper"/>').attr({role:"dialog","aria-label":d.ariaLabel?d.ariaLabel:"dialog","aria-modal":"true"}).appendTo(document.body),d.modalLabeledById){var e=$("#"+d.modalLabeledById),t=e.text().trim();e.length&&t?l.attr("aria-label",t):l.attr("aria-labelledby",d.modalLabeledById)}0<d.customWrapperClassName.length&&l.addClass(d.customWrapperClassName),d.addDialogStartEndText&&booking.env.a11y_dialog_content_start_text&&$('<span class="invisible_spoken"/>').text(booking.env.a11y_dialog_content_start_text).appendTo(l),d.cloneElement?r.clone().appendTo(l):l.append(r),d.bCloseButton&&$('<button class="modal-mask-closeBtn" title="'+booking.env.experiment_popups_close+'"><span class="invisible_spoken">'+booking.env.experiment_popups_close+"</span></button>").prependTo(l),d.addDialogStartEndText&&booking.env.a11y_dialog_content_end_text&&$('<span class="invisible_spoken"/>').text(booking.env.a11y_dialog_content_end_text).appendTo(l),d.bFullscreen&&l.addClass("modal-wrapper--fullscreen"),f=!0,$("body").addClass("modal-visible"),d.preventBodyScroll&&function(){_i_("65cb:0a9b623a");var e=i.width();n=parseInt(i.css("padding-right"),10),i.css("overflow","hidden");var t=i.width()-e;i.css("padding-right",n+t),_r_()}(),r.show(),b(),_i_("65cb:8fed2503"),$(".modal-wrapper .modal-mask-closeBtn").add('.modal-wrapper [data-lightbox-close=""]').one("click",function(){_i_("65cb:b5838b9c"),p(),_r_()}),$(".modal-wrapper").on("click.userClose",".lightbox-element-close",function(){_i_("65cb:ab60bbf1"),p(),_r_()}),d.bMaskClick&&$(".modal-mask").one("click",function(){_i_("65cb:2beba14a"),p(),_r_()}),d.closeOnEsc&&$(document).bind("keyup",m),$(window).bind("resize",h),"absolute"==d.position&&d.autoCenter&&$(window).bind("scroll",h),_r_(),_r_()},v=function(){if(_i_("65cb:77b79d8f"),M(),l.css("visibility","visible"),d.bAnimation){var e=d.bAnimation;"number"!=typeof e&&(e=parseInt(e,10)||1e3),c.fadeTo(Math.max(0,Math.min(600,e-400)),d.opacity),l.css("opacity","0").animate({opacity:1},e,function(){_i_("65cb:2e039ac2"),$(this).css("opacity",""),_r_()}),d.trapFocus&&booking.trapFocus&&setTimeout(function(){_i_("65cb:e718942f"),booking.trapFocus.trap(l[0],a),a=null,_r_()},100)}else c.css("opacity",d.opacity).show(),d.trapFocus&&booking.trapFocus&&(booking.trapFocus.trap(l[0],a),a=null);d.ajax&&"function"==typeof d.loadCallBack&&d.loadCallBack.call(),booking.eventEmitter.trigger("modal:open"),B.events.trigger("modal:open"),_r_()};return _r_({show:function(e,t,n){if(_i_("65cb:8db3284d"),l&&l.is(":visible"))return _r_();if(d={},$.extend(d,s,t),d.trapFocus&&void 0===booking.trapFocus&&B.debug("The trapFocus module was not defined, include please tarpFocus module in your concat"),d.trapFocus&&booking.trapFocus&&(a=$(document.activeElement)),d.iframe){var i=$('<iframe id="lightbox_iframe" src="'+e+'" width="100%" height="'+d.iframeHeight+'"></iframe> ');"function"==typeof d.loadCallBack&&i.load(d.loadCallBack),_=(r=i).parent(),o=r.css("display"),v()}else d.ajax?jQuery.ajax({url:e,cache:!0,success:function(e){_i_("65cb:7acdb394"),r=d.ajaxRawContent?$(e):$($.trim(e)).eq(0),_=r.parent(),o=r.css("display"),v(),_r_()}}):((r=$(e)).length&&"SCRIPT"===r[0].tagName&&(r=$($.trim(r.html()))),_=r.parent(),o=r.css("display"),v());return void 0!==n&&n(),_r_(l)},hide:p,rePosition:h,open:function(e,t,n,i){_i_("65cb:c48b243c"),booking.lightbox.show($("#"+i)),_r_()},isVisible:function(){return _i_("65cb:460df769"),_r_(f)},pushEscStack:function(e){_i_("65cb:5fd3d9f7"),t.push(e),_r_()},popEscStack:function(){_i_("65cb:29642ab7"),t.pop(),_r_()},hideWithFade:function(e,t){_i_("65cb:0cf0d60c"),l.fadeOut(e),c.fadeOut(e,function(){_i_("65cb:b8953fa0"),p(),t&&t(),_r_()}),_r_()}})}(),B.define("lightbox",booking.lightbox),function(i){_i_("65cb:28c410bd"),i.when({events:"ready",action:"hotel"}).run(function(e){_i_("65cb:4687b1fc");var t=e("jquery"),n=e("event-bus");i&&i.env&&"mdot"==i.env.b_site_type&&"hotel"==i.env.b_action&&n.on(i.eventNames.HP_REVIEWS_TAB_OPENED,function(){_i_("65cb:cc635399");var e=i.env.b_hotel_id;t.ajax({method:"GET",url:"/has_seen_review_list",data:{hotel_id:e},success:function(){},error:function(e){}}),_r_()}),_r_()}),_r_()}(window.booking),booking.jstmpl("reviewlist_compset_item",function(){_i_("65cb:384f1d4c");var r,_=['\n    <li class="bui-carousel__item" data-bui-ref="carousel-item">\n        <a href="','" target="_blank" class="bui-card bui-card--media bui-card--transparent">\n            <div class="bui-card__image-container">\n                <img class="bui-card__image" src="','" />\n            </div>\n            <div class="bui-card__content">\n                <div class="m-hp-compset__item-title">','</div>\n                <div class="m-hp-compset__item-sub-title">',"/private/hp_m_similar_prop_price_from/name",'</div>\n                <div class="m-hp-compset__item-review-score">\n                    '," ","/private/review_adj_bad/name","/private/review_adj_very_poor/name","/private/review_adj_poor/name","/private/review_adj_disappointing/name","/private/review_adj_average_passable/name","/private/review_adj_pleasant/name","/private/review_adj_good/name","/private/review_adj_very_good/name","/private/review_adj_fabulous/name","/private/review_adj_superb/name","/private/review_adj_exceptional/name","/private/comp_fd_lp_header_rs/name","","\n",'<div class="','"> <div class="bui-review-score__badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'"> '," </div> ",'<div class="bui-review-score__content"> <div class="bui-review-score__title"> ',"bui-review-score__text"," bui-review-score__text--with-icon","/private/extl_reviews_no_bcom_reviews/name","streamline/info_sign","small","/private/comp_num_reviews_sr_page/name","</div> ","\n                </div>\n            </div>\n        </a>\n    </li>\n"],a=["url","img","name","price","fe_classes","fe_modifier_outline","fe_modifier_end","fe_modifier_inverse","fe_modifier_inline","fe_modifier_text","fe_modifier_small","fe_modifier_smaller","fe_modifier_external","fe_modifier_external_inline","fe_allow_zero","fe_score","fe_show_adjective","fe_custom_adjective","fe_adjective_text","fe_adjective","fe_hide_low_adjectives","fe_can_show_adjective","fe_calc_score_formatted","fe_show_external_review_info_icon","fe_reviews_number","reviews","review_score"];return _r_(function(n){_i_("65cb:6ae04b3d");var e="",i=this.fn;return e+=[_[0],i.F.entities(i.MC(a[0])),_[1],i.STATIC_HOSTNAME(i.MB(a[1]),0,0,0,0),_[2],i.F.entities(i.MC(a[2])),_[3],(n.unshift({price:i.MB(a[3])}),r=i.ME(_[4],i.MB,i.MN,null),n.shift(),r),_[5]].join(""),n.unshift({fe_modifier_small:1,fe_reviews_number:i.MB(a[25]),fe_score:i.MB(a[26]),fe_show_adjective:1}),e=function(e){if(_i_("65cb:168335df"),e+=["",_[6]].join(""),i.MJ(i.MB(a[15]))||i.MJ(i.MB(a[14]))){if(i.MN("fe_classes","bui-review-score c-score"),i.MJ(i.MB(a[5]))&&i.MN("fe_classes",i.MB(a[4])+" bui-review-score--outline"),i.MJ(i.MB(a[6]))&&i.MN("fe_classes",i.MB(a[4])+" bui-review-score--end"),i.MJ(i.MB(a[7]))&&i.MN("fe_classes",i.MB(a[4])+" bui-review-score--inverse"),i.MJ(i.MB(a[8]))&&i.MN("fe_classes",i.MB(a[4])+" bui-review-score--inline"),i.MJ(i.MB(a[9]))&&i.MN("fe_classes",i.MB(a[4])+" bui-review-score--text"),i.MJ(i.MB(a[10]))&&i.MN("fe_classes",i.MB(a[4])+" bui-review-score--small"),i.MJ(i.MB(a[11]))&&i.MN("fe_classes",i.MB(a[4])+" bui-review-score--smaller"),i.MJ(i.MB(a[12]))&&i.MN("fe_classes",i.MB(a[4])+" bui-review-score--external"),i.MJ(i.MB(a[13]))&&i.MN("fe_classes",i.MB(a[4])+" bui-review-score--external-inline"),i.MJ(i.MB(a[14]))&&i.MN("fe_calc_score_formatted",0),i.MJ(i.MB(a[15]))&&i.MN("fe_calc_score_formatted",i.format_review_score_new(i.MB(a[15]))),i.MN("fe_can_show_adjective",i.MB(a[16])||i.MB(a[17])),i.MJ(i.MB(a[21]))){var t="";n.unshift({fe_hide_low_adjectives:i.MB(a[20]),fe_score:i.MB(a[15])}),t=function(e){if(_i_("65cb:624704dd"),i.MD(a[15])){var t="";i.MJ(1<=i.MB(a[15]))&&i.MJ(i.MB(a[15])<2)&&(t+=i.ME(_[7],i.MB,i.MN,null)),i.MJ(2<=i.MB(a[15]))&&i.MJ(i.MB(a[15])<3)&&(t+=i.ME(_[8],i.MB,i.MN,null)),i.MJ(3<=i.MB(a[15]))&&i.MJ(i.MB(a[15])<4)&&(t+=i.ME(_[9],i.MB,i.MN,null)),i.MJ(4<=i.MB(a[15]))&&i.MJ(i.MB(a[15])<5)&&(t+=i.ME(_[10],i.MB,i.MN,null)),i.MJ(5<=i.MB(a[15]))&&i.MJ(i.MB(a[15])<6)&&(t+=i.ME(_[11],i.MB,i.MN,null)),i.MJ(6<=i.MB(a[15]))&&i.MJ(i.MB(a[15])<7)&&(t+=i.ME(_[12],i.MB,i.MN,null)),i.MJ(7<=i.MB(a[15]))&&i.MJ(i.MB(a[15])<8)&&(t+=i.ME(_[13],i.MB,i.MN,null)),i.MJ(8<=i.MB(a[15]))&&i.MJ(i.MB(a[15])<8.6)&&(t+=i.ME(_[14],i.MB,i.MN,null)),i.MJ(8.6<=i.MB(a[15]))&&i.MJ(i.MB(a[15])<9)&&(t+=i.ME(_[15],i.MB,i.MN,null)),i.MJ(9<=i.MB(a[15]))&&i.MJ(i.MB(a[15])<9.5)&&(t+=i.ME(_[16],i.MB,i.MN,null)),i.MJ(9.5<=i.MB(a[15]))&&(t+=i.ME(_[17],i.MB,i.MN,null)),i.MN(a[19],t),i.MJ(i.MB(a[20]))&&i.MJ(i.MB(a[15])<7)&&i.MN(a[19],i.ME(_[18],i.MB,i.MN,null)),e+=[i.MC(a[19]),_[19]].join("")}return i.MN("fe_adjective",0),i.MN("fe_hide_low_adjectives",0),i.MN("fe_score",0),e+=_[20],_r_(e)}(t),n.shift(),i.MN(a[18],t),i.MJ(i.MB(a[17]))&&i.MN("fe_adjective_text",i.MB(a[17]))}e+=[_[21],i.F.entities(i.MC(a[4])),_[22],(n.unshift({review_score_number:i.MB(a[22])}),r=i.ME(_[23],i.MB,i.MN,null),n.shift(),r),_[24],i.F.entities(i.MC(a[22])),_[25]].join(""),i.MD(a[18])&&(e+=[_[26],i.MC(a[18]),_[25]].join(""),i.MD(a[24])&&(e+=_[21],e+=_[27],i.MJ(i.MB(a[12]))&&i.MJ(i.MB(a[23]))&&(e+=_[28]),e+=_[24],i.MD(a[12])?(e+=[(n.unshift({total_num_reviews:i.MI(i.MB(a[24]))+i.MI(0)}),r=i.ME(_[29],i.MB,i.MN,i.MO(i.MI(i.MC(a[24]))+i.MI(0),null,_[29])),n.shift(),r),_[6]].join(""),i.MJ(i.MB(a[23]))&&(e+=[(n.unshift({color:"#6B6B6B",name:_[30],size:_[31]}),r=i.HELPER("icon",n[0]),n.shift(),r),_[6]].join(""))):e+=[(n.unshift({num_reviews:i.format_number(i.MB(a[24]))}),r=i.ME(_[32],i.MB,i.MN,i.MO(i.MI(i.MC(a[24]))+i.MI(0),null,_[32])),n.shift(),r),_[6]].join(""),e+=_[33]),e+=_[33]),e+=_[33]}return i.MN("fe_adjective_text",0),i.MN("fe_allow_zero",0),i.MN("fe_classes",0),i.MN("fe_custom_adjective",0),i.MN("fe_hide_low_adjectives",0),i.MN("fe_modifier_end",0),i.MN("fe_modifier_inline",0),i.MN("fe_modifier_inverse",0),i.MN("fe_modifier_outline",0),i.MN("fe_modifier_text",0),i.MN("fe_reviews_number",0),i.MN("fe_score",0),i.MN("fe_calc_score_formatted",0),i.MN("fe_show_adjective",0),i.MN("fe_show_external_review_info_icon",0),e+=["",_[6]].join(""),e+=_[20],_r_(e)}(e),n.shift(),e+=_[34],_r_(e)})}()),function(_){"use strict";_i_("65cb:b92459ad"),_.when({events:'view [data-id="m_reviewlist_add_compset"]',action:"hotel"}).run(function(e){_i_("65cb:e613cc92");var n=_.jstmpl("reviewlist_compset_item"),i=$('[data-id="m_reviewlist_add_compset"]'),r=i.find('[data-bui-ref="carousel-container"]');i.find(".js-compset-container").show(),function(){_i_("65cb:e588bac0");var e={stype:_.env.b_site_type_id,aid:_.env.b_aid,label:_.env.b_label,hid:_.env.b_hotel_id,currency:_.env.b_selected_currency,checkin:_.env.b_checkin_date,checkout:_.env.b_checkout_date,lang:_.env.b_lang_for_url,max:4,src:_.env.b_action,image_840:!0},t=_.require("search-config");return e=$.extend(e,t.toObject()),_r_($.ajax({type:"GET",url:"/srla/cs"+_.env.b_query_params_no_ext,contentType:"json",data:e}))}().done(function(e){if(_i_("65cb:94b28470"),e&&e.hotels&&e.hotels.length){r.find(".js-compset-loading").remove();var t=e.hotels.map(function(e){return _i_("65cb:b04fa179"),_r_(n.render({reviews:e.b_review_count,review_score:e.b_review_score,name:e.b_name,price:e.b_price,img:e.b_image_url_840x460,url:e.b_url}))});r.append(t)}else i.remove();_r_()}),_r_()}),_r_()}(window.booking),B.define("sliding-view-model",function(e,t,n){_i_("65cb:3d31669b");var i=e("event-emitter"),r={},_={show:"sliding-view/show",showView:"sliding-view/showView",hide:"sliding-view/hide"};function a(){_i_("65cb:c041a663"),this.isShown=0,i.extend(this),_r_()}a.prototype.isPanelShown=function(){return _i_("65cb:0ec51808"),_r_(this.isShown)},a.prototype.hide=function(){_i_("65cb:e339093e"),this.isShown&&this.emit(_.hide),_r_()},a.prototype.show=function(e){if(_i_("65cb:b5dafb4d"),this.isShown)return this.emit(_.showView,e),_r_();this.emit(_.show,e),_r_()},n.exports={EVENTS:_,get:function(e){if(_i_("65cb:757623b0"),"string"!=typeof e||0===e.length)throw new Error("sliding-view-model: invalid .get() argument!");return r.hasOwnProperty(e)||(r[e]=new a,r[e].id=e),_r_(r[e])},hideAll:function(){for(var e in _i_("65cb:41b07915"),r)r[e].hide();_r_()},isAnyPanelOpen:function(){if(_i_("65cb:fac5c04d"),r)for(var e in r)if(r.hasOwnProperty(e))return _r_(r[e].isPanelShown());_r_()}},_r_()}),B.define("component/core/sliding-view-trigger",function(e,t,n){_i_("65cb:83b71692");var i=e("component"),_=e("sliding-view-model");n.exports=i.extend({init:function(){if(_i_("65cb:4aad685d"),this.panel=this.$el.data("paramPanel"),"string"!=typeof this.panel)throw new Error("core/sliding-view: `data-panel` is invalid or undefined!");this.preventDefault=void 0===this.$el.data("prevent-default")||this.$el.data("prevent-default"),this.model=_.get(this.panel);var i=this.el.dataset;if(i){this.params={};var r=new RegExp("param");Object.keys(i).forEach(function(e){_i_("65cb:7e858d44");var t=i[e];if(r.test(e)){var n=e.slice(5);n=n.toLowerCase(),this.params[n]=t}"paramIsStatic"===e&&(this.params.target=this.panel+"_static"),_r_()}.bind(this))}this._attachEvents(),_r_()},_attachEvents:function(){_i_("65cb:3c0e7bba"),this.$el.on("click",this.onClick.bind(this)),_r_()},onClick:function(e){_i_("65cb:315376a1"),e.preventDefault(),this.model.show(this.params),_r_()}}),_r_()}),B.define("component/core/sliding-view-content",function(o,e,t){"use strict";_i_("65cb:8b0b6695");var s=o("jquery"),n=o("fragment"),c=o("jstmpl");function i(e){_i_("65cb:2bf3e9b2"),this.id=e.id,this.$el=s("<div/>",{id:this.id,class:"sliding-views-group "}),e.isDefault&&(this.isDefault=e.isDefault),e.isInstant&&(this.isInstant=e.isInstant),e.title&&(this.title=e.title),e.fragment&&(this.fragmentName=e.fragment.name,this.fragmentParams=e.fragment.params,this.isLoading=!1),e.async&&(this.async=!0,this.cstName=e.async.cstName,this.loadingCstName=e.async.loadingCstName,this.concatJsFile=e.async.concatJsFile,this.concatCssFile=e.async.concatCssFile,this.isRendered=!1,this.isLoading=!1),e.datasource&&(this.datasource=e.datasource,this.isLoading=!1),e.beforeRender&&"function"==typeof e.beforeRender&&(this.beforeRender=e.beforeRender),e.afterRender&&"function"==typeof e.afterRender&&(this.afterRender=e.afterRender),e.destroyOnClose&&(this.destroyOnClose=!0),e.hasMap&&(this.hasMap=!0,this.mapId=e.fe_map_id),this.bindEvents(),_r_()}i.prototype.bindEvents=function(){},i.prototype.destroy=function(){_i_("65cb:85e23e04"),this.isRendered=!1,this.isLoading=!1,s(document).off("keyup"),this.$el.remove(),_r_()},i.prototype.setLoading=function(){_i_("65cb:4ec8c42d");var t=this,n=c(t.loadingCstName);n&&"__no_op__"!==n.name?this.isLoading?(this.isLoading=!1,this.$el.removeClass("loading"),this.$el.empty()):(this.isLoading=!0,this.$el.addClass("loading"),this.$el.html(c(this.loadingCstName).render())):o("async-loader").load({js:this.concatJsFile,css:this.concatCssFile}).then(function(e){_i_("65cb:810bec77"),"__no_op__"===n.name&&(n=c(t.loadingCstName)),t.isLoading?(t.isLoading=!1,t.$el.removeClass("loading"),t.$el.empty()):(t.isLoading=!0,t.$el.addClass("loading"),t.$el.html(n.render())),_r_()});_r_()},i.prototype._onFragmentSuccess=function(e,t,n){_i_("65cb:d2d05887");var i=this.data=n;return"function"==typeof this.beforeRender&&(i=this.beforeRender.call(this,n,t)),e.resolve(i,t),_r_(n)},i.prototype._getFragmentData=function(e,t){_i_("65cb:ba4467b6");e.resort_id||e.landmark_id||!(!e.dest_id||!e.dest_type||e.dest_id&&""===e.dest_id||e.dest_type&&""===e.dest_type)?n.call(this.fragmentName,e).then(this._onFragmentSuccess.bind(this,t,e),function(e){_i_("65cb:a5c4191f"),t.resolve({error:e}),_r_()}):t.resolve({error:"Missing fragment parameters"}),_r_()},i.prototype.getData=function(e){_i_("65cb:8ae49a99");var t=new s.Deferred,n=s.extend({},this.fragmentParams,e);return this.isRendered?t.resolve(this.data,n):this.fragmentName&&n?this._getFragmentData(n,t):this.datasource?this.datasource.then(this._onFragmentSuccess.bind(this,t,n),function(e){_i_("65cb:a5c4191f1"),t.resolve({error:e}),_r_()}):t.resolve({error:"No fragment to call"}),_r_(t)},i.prototype.render=function(t,n){_i_("65cb:d08a6944");var i=new s.Deferred,r=this;if(r.isRendered)i.resolve(r.renderedContent);else{var e,_=c(r.cstName),a=o("async-loader");_&&"__no_op__"!==_.name||(e=a.load({js:r.concatJsFile,css:r.concatCssFile})),e||_&&"__no_op__"!==_.name?e?e.then(function(e){_i_("65cb:72fa1bcd"),"__no_op__"===_.name&&(_=c(r.cstName)),r.renderedContent=_.render(t),r.isRendered=!0,r.setLoading(),i.resolve(r.renderedContent),"function"==typeof r.afterRender&&r.afterRender.call(r,t,n),_r_()}).catch(function(e){_i_("65cb:8e8639c2"),i.resolve({error:e}),_r_()}):(r.renderedContent=_.render(t),r.isRendered=!0,r.setLoading(),i.resolve(r.renderedContent),"function"==typeof r.afterRender&&r.afterRender.call(r,t,n)):i.resolve({error:"No cst"})}return _r_(i)},i.prototype.initMap=function(){_i_("65cb:8590765d");var e=this.$el.find(".tt-map-container__"+this.mapId).data("map-card-instance");e&&(this.mapApi=e,this.mapApi.initMap(this.data)),_r_()},t.exports=i,_r_()}),B.define("component/core/sliding-view",function(a,e,t){"use strict";_i_("65cb:dcac3406");var o=B.debug&&B.debug("debug_beach_team_pilot"),s=a("events"),c=a("jquery"),r="is-shown",_=a("sliding-view-model"),i="sliding-view/open",n="sliding-view/close",l="sliding-view/load_view",d="sliding-view/back",u="sliding-view/forward",f="sliding-view/back_close",b="sliding-view/backdrop_close",h="sliding-view/forward_open",p="sliding-view/view_rendered";function m(e){_i_("65cb:a9db9c17");var t=this;if(e.id&&(t.id=e.id,t.model=_.get(t.id),t.$el=c("#"+t.id)),t.$title=t.$el.find(".sliding-view__title"),t.$content=t.$el,t.$close=this.$el.find("[data-close-button]"),t.current=null,t.prev=null,t.isShown=!1,t.viewStack=[],t.views={},t.useScrollBlocker=e.useScrollBlocker,t.srMap=c(".map_full_overlay__wrapper"),e.views)e.views.forEach(function(e){_i_("65cb:53fb973f"),t.registerView(e),_r_()});else{var n=new(a("component/core/sliding-view-content"))({id:t.id+"_static",isDefault:!0});t.registerView(n)}var i=window.location.hash.slice(1);""===i||i.match(/map_opened/)||(n=t.getView(i))&&n.id&&t.showAfterDomReady(n.id);t.$backdrop=c("<div/>",{class:"sliding-view__backdrop"}).appendTo("body"),this.bindEvents(),o.log("inited"),_r_()}m.prototype.bindEvents=function(){_i_("65cb:2ef1ea91");var t=this;this.model.on(_.EVENTS.show,function(e){_i_("65cb:59732ea5"),t.show(e.target,e),_r_()}),this.model.on(_.EVENTS.showView,function(e){_i_("65cb:b186fcbf"),t.showView(e.target,e),_r_()}),this.model.on(_.EVENTS.hide,this.hide.bind(this)),this.$close.on("click",this.onCloseClick.bind(this)),"www"===B.env.b_site_type&&this.$backdrop.on("click",function(){_i_("65cb:29dfcafd"),t.current&&t.current.id&&s.emit(b,t.current.id),window.location.hash.match(/map_opened/)?history.back(-1):t.hide(),_r_()}),this.useScrollBlocker&&(this.scrollBlocker=a("page-scroll-block"),this.scrollBlocker.init()),c(window).on("hashchange",this.handleChange.bind(this)),o.log("events binded"),_r_()},m.prototype.handleChange=function(e){_i_("65cb:59db2b99");var t=window.location.hash.slice(1);if("www"===B.env.b_site_type&&this.isOpen()&&"searchresults"===B.env.b_action&&(""===t||"_"===t)&&this.srMap&&this.srMap.is(":visible"))return window.location.hash="map_opened",_r_();t.match(/map_opened/)&&(t=t.substring(11));var n=this.getView(t),i=this;if(n&&i.current){if(!i.isOpen())return _r_();var r=0;i.prev&&i.prev.id===n.id&&(r=1),r?(s.emit(d,i.current.id),i.removeView(i.current)):i.cachedParams&&i.cachedParams&&(s.emit(u,n.id),i.showView(n.id,i.cachedParams))}else n&&!i.current?n.params&&(s.emit(h,n.id),i.show(n.id,n.params)):!n&&i.current&&(s.emit(f,i.current.id),i.hide());o.log("hashChanged",n),_r_()},m.prototype.registerView=function(e){_i_("65cb:8db88fb6"),e.id&&(this.views[e.id]=e),_r_()},m.prototype.isOpen=function(){return _i_("65cb:c325f973"),_r_(this.model.isShown)},m.prototype.onCloseClick=function(){_i_("65cb:f8056d61"),history.back(-1),_r_()},m.prototype.show=function(e,t){_i_("65cb:d6e453a8"),this.model.isShown=1,this.isShown=!0,this.toggleBackDrop(),this.$el.show();var n=this;this.animateOpen(this).then(function(){_i_("65cb:8dab8fec"),e?n.showView(e,t):n.viewStack.length||Object.keys(n.views).some(function(e){_i_("65cb:aac27195");var t=n.views[e];t.isDefault&&n.showView(t.id),_r_()}),_r_()}),this.useScrollBlocker&&this.scrollBlocker.freeze(),s.emit(i,e),_r_()},m.prototype.showAfterDomReady=function(e){_i_("65cb:b9aa7989");var t=this;"sliding-view__beach"!==e&&"sliding-view__photos"!==e||("searchresults"===B.env.b_action?e="sliding-view__ufi":"hotel"===B.env.b_action&&(e="sliding-view__property")),c(document).ready(function(){_i_("65cb:25615711"),setTimeout(function(){_i_("65cb:6a0cbbf2"),t.show(e),_r_()},20),_r_()}),_r_()},m.prototype.hide=function(){_i_("65cb:671070be"),this.model.isShown=0,this.isShown=!1,this.toggleBackDrop();var e=this;this.animateClose(this).then(function(){_i_("65cb:2c5249ca"),e.$el.hide(),e.removeAllViews(),_r_()}),this.useScrollBlocker&&this.scrollBlocker.unfreeze(),this.hasError&&this.$content.find("#sliding-view__error").remove(),this.current&&s.emit(n,this.current.id),_r_()},m.prototype.getView=function(e){_i_("65cb:21199824");var t=this.views[e];if(t)return _r_(t);_r_()},m.prototype.loadView=function(e,t){if(_i_("65cb:9fe76f29"),!e.id)return _r_();if(t&&t.fromMap||window.location.hash.match(/map_opened/)?window.location.hash="map_opened-"+e.id:window.location.hash=e.id,this.viewStack.length?this.prev=this.getView(this.viewStack[this.viewStack.length-1]):this.prev=null,this.viewStack.push(e.id),this.setTitle(e,t),this.toggleBackBtn(),this.renderView(e,t),this.current&&this.current.id===e.id)return _r_();this.current=e,this.setActiveClass(),s.emit(l,e.id,t),_r_()},m.prototype.setActiveClass=function(){_i_("65cb:3a7571f1");var t=this,e=this.viewStack;e.length&&e.forEach(function(e){_i_("65cb:9fa1143b"),t.$content.removeClass("active-view__"+e),_r_()}),t.current&&t.$content.addClass("active-view__"+t.current.id),_r_()},m.prototype.removeAllViews=function(){_i_("65cb:8659ed27");var n=this;if(n.viewStack.forEach(function(e){_i_("65cb:f3a6f7af");var t=n.getView(e);t&&t.destroyOnClose&&t.destroy(),t.$el.removeClass("is-shown"),_r_()}),n.current=null,n.setActiveClass(),n.viewStack=[],n.prev=null,window.location.hash.match(/map_opened/))o.log("map open all panels closed");else{if("mdot"===B.env.b_site_type&&(window.location.href.indexOf("htMap")||window.location.href.indexOf("srMap")))return _r_();window.location.hash="_"}_r_()},m.prototype.removeView=function(e,t){_i_("65cb:a8fe4bdd");var n=this;if(this.setTitle(e,t),this.prev?this.animateClose(e).then(function(){_i_("65cb:581d0616"),e.destroyOnClose&&e.destroy(),n.hasError&&n.$content.find("#sliding-view__error").remove(),_r_()}):this.hide(),this.current=this.prev,n.setActiveClass(),this.viewStack.pop(e.id),this.toggleBackBtn(),1<this.viewStack.length){var i=this.viewStack.indexOf(this.current.id);this.prev=0<i?this.getView(this.viewStack[i-1]):null}else this.prev=null;_r_()},m.prototype.animateClose=function(e){_i_("65cb:a23082ea");var t=new c.Deferred,n=e.$el,i=e.isInstant?0:200;return n.removeClass(r),setTimeout(function(){return _i_("65cb:ddee4527"),_r_(t.resolve())},i),_r_(t)},m.prototype.animateOpen=function(e){_i_("65cb:045ee441");var t=new c.Deferred,n=e.$el,i=e.isInstant?0:400;return setTimeout(function(){return _i_("65cb:56b9f048"),n.addClass(r),_r_(t.resolve())},i),_r_(t)},m.prototype.renderView=function(n,i){_i_("65cb:361d904d");var r=this,e=r.$content.find("#"+n.id);if(e.length)e.addClass("is-shown"),this.$el.show();else{var _=n.$el;n.setLoading(),this.$content.append(_),this.animateOpen(n).then(function(){_i_("65cb:bc7330e4"),n.getData(i).then(function(e,t){_i_("65cb:624d5f73"),n.render(e,t).then(function(e){if(_i_("65cb:c025746a"),e&&"string"==typeof e&&""!==e)_.html(e),r.hasError=0,r.loadComponents(n).then(function(e){_i_("65cb:32ea9584"),o.log("rendered and components loaded"),s.emit(p,n.id),_r_()}),r.cachedParams=c.extend({},n.fragmentParams,i);else{var t=a("jstmpl")("tt_panel_error");r.$content.append(t.render()),r.hasError=1,n.destroy(),r.cachedParams=null,B&&"function"==typeof B.squeak&&e&&e.error&&B.squeak("bLWbeEFbECETWaPIEaFXPGO")}_r_()}),_r_()}),_r_()})}_r_()},m.prototype.showView=function(e,t){_i_("65cb:5656e8ec"),this.current&&this.current.id===e||this.loadView(this.getView(e),t),_r_()},m.prototype.loadComponents=function(e){_i_("65cb:e2adcccf");var t=new c.Deferred,n=this;return this.$content.find("[data-sliding-view-trigger]").on("click",function(){_i_("65cb:7856d663");var e=c(this).data("target"),t=c(this).data();n.showView(e,t),_r_()}),e.$el.loadComponents(),setTimeout(function(){_i_("65cb:eef2d633"),e.hasMap&&e.mapId&&e.initMap(),window.BUI.initComponents(e.$el[0]),t.resolve(),_r_()},20),_r_(t)},m.prototype.setTitle=function(e,t){if(_i_("65cb:eb730a6f"),t&&t.dest_title){var n=t.dest_title;n&&""!==n&&(this.prev&&(this.prev.title=this.$title.text()),this.$title.text(n))}else this.prev?this.$title.text(this.prev.title):e&&e.title&&this.$title.text(e.title);_r_()},m.prototype.toggleBackBtn=function(){_i_("65cb:189b3327"),1<this.viewStack.length?(this.$close.find(".sliding-view__icon-back").show(),this.$close.find(".sliding-view__icon-close").hide()):(this.$close.find(".sliding-view__icon-back").hide(),this.$close.find(".sliding-view__icon-close").show()),_r_()},m.prototype.toggleBackDrop=function(){_i_("65cb:ca8deae4"),this.isShown?this.$backdrop.addClass(r):this.$backdrop.removeClass(r),_r_()},t.exports=m,_r_()}),booking.jstmpl("show_reviews_text_with_number",function(){_i_("65cb:874faf54");var i,r=["\n    ","/private/ugc_mdot_show_review_num_cta/name","\n"],_=["num"];return _r_(function(e){_i_("65cb:102bf53c");var t="",n=this.fn;return t+=[r[0],(e.unshift({num:n.MB(_[0])}),i=n.ME(r[1],n.MB,n.MN,null),e.shift(),i),r[2]].join(""),_r_(t)})}()),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:ffb00eec");var t,i=e("jquery"),n=e("tabbed-nav"),r=e("hotel/reviews"),_=e("event-bus"),a=i.extend({text:""},B.env.fe_reviews_base_params),o=e("jstmpl"),s=e("component/core/sliding-view"),c="bui-u-hidden";function l(){_i_("65cb:69392ff2");var e=r.getState();e&&Object.keys(e)&&Object.keys(e).length&&(r.setState(a),r.load(a)),_r_()}function d(e){_i_("65cb:b4513896"),e&&"review_filters_tab_static"===e&&i("body").addClass("rp_reviewfilters-tab-active"),_r_()}function u(e){_i_("65cb:a6d12229"),e&&"review_filters_tab_static"===e&&i("body").removeClass("rp_reviewfilters-tab-active"),_r_()}function f(){_i_("65cb:bd2bc34c"),i(".sliding-view__loader").addClass("visible"),i("#review_filters_tab").addClass("is-loading"),_r_()}function b(){_i_("65cb:6f92ea6a");var e=r.getState().text||"";i("#reviews-filters-search-input").val(e),i("#reviews-filters-search-clear").toggle(!!e.length).attr("aria-hidden",!!e.length),i(".sliding-view__loader").removeClass("visible"),i("#review_filters_tab").removeClass("is-loading"),!function(){_i_("65cb:a351ca92");var e=r.getState();return _r_(JSON.stringify(a.sort)!==JSON.stringify(e.sort))}()?i(".sort-button-wrap .active-filter-btn").addClass(c):i(".sort-button-wrap .active-filter-btn").removeClass(c),!function(){_i_("65cb:112473b9");var e,t,n=r.getState();B.env.fe_show_room_id_filter&&(e=n.room_id||[],t=a.room_id||[]);n={lang:n.lang||[],score:n.score||[],topics:n.topics||[],type:n.type||[],text:n.text||""};var i={lang:a.lang||[],score:a.score||[],topics:a.topics||[],type:a.type||[],text:a.text||""};B.env.fe_show_room_id_filter&&(n.room_id=e,i.room_id=t);return _r_(JSON.stringify(i)!==JSON.stringify(n))}()?(i(".filters-button-wrap .active-filter-btn").addClass(c),i(".js-reviews-filters_clear_button").prop("disabled",!0)):(i(".filters-button-wrap .active-filter-btn").removeClass(c),i(".js-reviews-filters_clear_button").prop("disabled",!1)),function(e,t){_i_("65cb:a0cdccd8");var n=i("<div>").append(t).find("[data-js-reviews-count]").data("js-reviews-count")||0;i("[data-js-reviews-placeholder-count]").html(o("show_reviews_text_with_number").render({num:n})),_r_()}.apply(null,arguments),_r_()}function h(){_i_("65cb:84f7ae4d");var e=Array.prototype.slice.call(arguments)[1]||void 0;if(e&&e.fromScroll)return _r_();var t=i("#comments_wrapper .js-review-topics"),n=i("#review_filters_tab #review_filters_tab_static").find(".js-review-topics");if(!t.length)return i("[data-js-topics-filter-placeholder]").addClass("js-show-search-input js-topics-is-empty"),n&&n.length&&n.remove(),_r_();n&&n.length&&n.remove(),i("[data-js-topics-filter-placeholder]").append(t),_r_()}function p(e){_i_("65cb:ffa0b730"),e.preventDefault(),i("#reviews-filters-search-clear").hide().attr("aria-hidden",!0),i("#reviews-filters-search-input").val(""),r.load({text:""}),_r_()}function m(e){_i_("65cb:df698ea2"),e.preventDefault(),i("[data-js-topics-filter-placeholder]").addClass("js-show-search-input"),function(){_i_("65cb:3f9619fa");var e=i("[data-id='review_filters_tab'] .sliding-view__content");e.scrollTop(e.innerHeight()),i("#reviews-filters-search-input").focus(),_r_()}(),_r_()}function M(e){_i_("65cb:c06dc830"),e.preventDefault(),13===e.keyCode&&v(),_r_()}function v(){_i_("65cb:a26edb98"),function(){_i_("65cb:f1e8bc0d");var e=i("#reviews-filters-search-input").val()||"";if((r.getState().text||"")===e)return _r_(!1);r.load({text:e}),B.events.emit("m_reviewlist:free_text_filter:used",{input_value:e}),_r_(!0)}(),t.hide(),_r_()}_i_("65cb:d8110197"),"htReviews"===n.current()&&0<i(".review_list_new_item_block").length&&h(),_i_("65cb:c1694dc3"),t=new s({id:"review_filters_tab",useScrollBlocker:1}),B.events.on("sliding-view/open",d),B.events.on("sliding-view/close",u),i(".js-reviews-filters_clear_button").on("click",l),i(".ski-overview__show-property-sticky").on("click",function(){_i_("65cb:8948bfd1"),t.hide(),_r_()}),_.on("REVIEWS:fetched",h),r.on(r.events.LOAD_BEFORE,f),r.on(r.events.LOAD_SUCCESS,b),r.on(r.events.LOAD_ERROR,b),i(".js-review-filters-sticky-close").on("click",v),i("#reviews-filters-search-input").on("keyup",M),i("#reviews-filters-search-clear").on("click",p),i("[data-js-topics-filter-placeholder]").on("click","#reviews-filters-search-toggler",m),_r_(),_r_(),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:cba92e01");var n,i,a=e("jquery"),t=e("async-loader"),o=[],r={zoomEl:!1,loop:!1,shareEl:!1,captionEl:!1,fullscreenEl:!1,errorMsg:'<div class="pswp__error-msg"></div>',barsSize:{top:0,bottom:"auto"},bgOpacity:1,allowPanToNext:!0},_=a(".js-pswp-reviewlist-gallery-fullscreen-template");function s(e,t){_i_("65cb:eb167a9f"),window.PhotoSwipe&&_.length&&((n=new window.PhotoSwipe(_.get(0),window.PhotoSwipeUI_Default,e,r)).options.index=0<t?t-1:0,n.listen("afterChange",l),n.listen("gettingData",c),n.init()),_r_()}function c(e,t){_i_("65cb:f7edf492");var n=this;if(t.w<1||t.h<1){var i=new Image;i.onload=function(){_i_("65cb:da383275"),t.w=this.width,t.h=this.height,n.invalidateCurrItems(),n.updateSize(!0),_r_()},i.src=t.src}_r_()}function l(e){if(_i_("65cb:eca88a50"),!e||!e.src)return _r_();var t,n,i,r,_=/xphoto\/\w+\/(\w+)\.[jpg|png|webp]/.exec(e.src);_&&_[1]&&-1==o.indexOf(_[1])&&(t="reviews_list_seen_big_photo",n=B.env.b_hotel_id,i="photo_id",r=_[1],_i_("65cb:475875fb"),a.ajax({url:"/personalisationinfra/track_behaviour_property",method:"POST",data:{behaviour_name:t||"",hotel_id:n||"",attribute_name:i||null,attribute_value:r||null},success:function(e){},error:function(e){}}),_r_(),o.push(_[1])),_r_()}_i_("65cb:679910f2"),t.load({js:"async_photoswipe_js",css:"async_photoswipe_css"}).then(function(){_i_("65cb:0ce0ee43"),i&&s(),_r_()}),a("#guest_reviews").on("click",".c-review-block__photos__button",function(e){_i_("65cb:2768b874"),i=!0;var t=a(e.target),n=t.closest(".c-review-block__photos").find(".c-review-block__photos__button");0<n.size()&&s(function(e){_i_("65cb:1fa3a17a");var t=e.map(function(){_i_("65cb:9342dde8");var e=a(this).data();return _r_({src:e.photosLargeSrc,msrc:e.photosSrc,w:0,h:0})}).get();return _r_(t)}(n),t.data("photos-index")),_r_()}),_r_(),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:5fb22de2");var a=e("jquery"),t=e("jstmpl"),o=e("hotel/reviews");booking.jstmpl("ugcx_m_filter_status_button",function(){_i_("65cb:2d64bd86");var i,r=['\n        <button class="bui-button button--filter-status" data-js-type="','" data-js-val="','" type="button">\n            <span class="bui-button__text">\n                ','\n            </span>\n            <span class="bui-button__icon bui-button__icon--end">\n                ',"iconset/close","medium","\n            </span>\n        </button>\n    "],_=["type","val","name"];return _r_(function(e){_i_("65cb:15dadc7c");var t="",n=this.fn;return t+=[r[0],n.F.entities(n.MC(_[0])),r[1],n.F.entities(n.MC(_[1])),r[2],n.F.entities(n.MC(_[2])),r[3],(e.unshift({name:r[4],size:r[5]}),i=n.HELPER("icon",e[0]),e.shift(),i),r[6]].join(""),_r_(t)})}()),{elm:{wrapper:"[data-js-filters-status-wrapper]",button:"button.button--filter-status"},topicName:".js-review-topics [data-category-id='$val'] ~ span",typeName:".js-review-cust-type-filter[value='$val']",scoreName:".js-review-score-filter[value='$val']",langName:"#reviews_language_filter input[value='$val'] ~ span",textName:"#reviews-filters-search-input",timeofyearName:".js-review-timeofyear-filter[value='$val']",roomName:".js-review-room-filter[value='$val']",init:function(){_i_("65cb:4cb01e18"),this.$wrapper=a(this.elm.wrapper),this.bindEvents(),_r_()},bindEvents:function(){_i_("65cb:b83230f6"),this.$wrapper.on("click",this.elm.button,this.onButtonClick.bind(this)),o.on(o.events.LOAD_SUCCESS,this.onLoadSuccess.bind(this)),_r_()},onLoadSuccess:function(){if(_i_("65cb:5a66e84c"),!this.$wrapper.length)return _r_(!0);this.clearButtons(),this.generateButtons(),_r_()},onButtonClick:function(e){_i_("65cb:d4f7f5ef");var t={},n=a(e.currentTarget),i=n.data("js-type"),r=n.data("js-val"),_=o.getState();t[i]=this.unfilter(_[i],r,i),o.load(t),_r_()},unfilter:function(e,t,n){_i_("65cb:c8ee8606");var i=[];if("text"===n||"time_of_year"===n||"room_id"===n)return i.push(""),_r_(i);return e.map(function(e){_i_("65cb:323c04f3"),String(e)!==String(t)&&i.push(e),_r_()}),"type"==n&&0==i.length&&i.push("total"),_r_(i)},clearButtons:function(){_i_("65cb:3cbe5084"),this.$wrapper.find(this.elm.button).remove(),_r_()},generateButtons:function(){_i_("65cb:789a977a");var n=this,i=[],r=o.getState();if(r.lang.map(function(e){_i_("65cb:a604c783");var t=a(n.langName.replace("$val",e)).text().trim();i.push({val:e,name:t,type:"lang"}),_r_()}),r.type.map(function(e){_i_("65cb:0a341f8e");var t=(a(n.typeName.replace("$val",e)).data("js-name")||a(n.typeName.replace("$val",e)).text()).trim();"total"!=e&&i.push({val:e,name:t,type:"type"}),_r_()}),r.score.map(function(e){_i_("65cb:4d541453");var t=(a(n.scoreName.replace("$val",e)).data("js-name")||a(n.scoreName.replace("$val",e)).text()).trim();e&&i.push({val:e,name:t,type:"score"}),_r_()}),r.topics.map(function(e){_i_("65cb:f20857ca");var t=a(n.topicName.replace("$val",e)).first().text().trim();i.push({val:e,name:t,type:"topics"}),_r_()}),r.text&&i.push({val:r.text,name:r.text,type:"text"}),r.time_of_year){var e=(a(n.timeofyearName.replace("$val",r.time_of_year)).data("js-name")||a(n.timeofyearName.replace("$val",r.time_of_year)).text()).trim();i.push({val:r.time_of_year,name:e,type:"time_of_year"})}r.room_id&&Array.isArray(r.room_id)&&r.room_id.map(function(e){_i_("65cb:1ef1207e");var t=(a(n.roomName.replace("$val",e)).data("js-name")||a(n.roomName.replace("$val",e)).text()).trim();i.push({val:r.room_id,name:t,type:"room_id"}),_r_()}),i.map(function(e){_i_("65cb:0dfb8b8a"),n.$wrapper.append(t("ugcx_m_filter_status_button").render(e)),_r_()}),_r_()}}.init(),_r_()}),B.define("component/core/et-scroll-observer",function(e,t,n){_i_("65cb:d45b4d22");var i=B.eventEmitter;n.exports=e("component").extend({init:function(){_i_("65cb:e45e90af"),this.$el.on("mousewheel DOMMouseScroll scroll",this.handler),_r_()},handler:function(e){_i_("65cb:650662de"),i.trigger("et-scroll-observer:scroll",e),_r_()}}),_r_()}),B.define("page-scroll-block",function(e,t,n){"use strict";_i_("65cb:080cc4f9");var i,r=e("jquery")(window),_=document.body,a=!1;function o(){return _i_("65cb:5b4bd53e"),_r_(_.scrollHeight>document.documentElement.clientHeight)}function s(e){_i_("65cb:5359ce54"),e?r.on("resize.pageScrollBlock",c):r.off("resize.pageScrollBlock"),_r_()}function c(){if(_i_("65cb:759bcff1"),a)return _r_();o()?_.style.paddingRight=i+"px":_.style.paddingRight="",a=!0,window.setTimeout(function(){_i_("65cb:eb926743"),a=!1,_r_()},150),_r_()}t.init=function(){if(_i_("65cb:0f51db79"),void 0!==i)return _r_(i);return _r_(this.scrollWidth=i=function(){_i_("65cb:d23b429b");var e,t=document.createElement("div");return t.setAttribute("style",["width: 100px","height: 100px","overflow: scroll","position: absolute","top: -9999px"].join(";")),_.appendChild(t),e=t.offsetWidth-t.clientWidth,_.removeChild(t),_r_(e)}())},t.freeze=function(){if(_i_("65cb:75b603b9"),_.style.overflow="hidden",!i)return _r_();o()&&(_.style.paddingRight=i+"px"),s(!0),_r_()},t.unfreeze=function(){if(_i_("65cb:7093f204"),_.style.overflow="",!i)return _r_();_.style.paddingRight="",s(!1),_r_()},t.getScrollWidth=function(){return _i_("65cb:45604e79"),_r_(this.scrollWidth)},_r_()}),B.when({action:"hotel",events:"view #featured-reviews",condition:B.env.fe_autotranslate_featured_reviews}).run(function(e){_i_("65cb:fc99b978");var t=e("translatable-review/modules/review-translate"),n=B.env.fe_translatable_featured_review_urls||[];0<n.length&&t.batchTranslate({review_urls:n.join(","),target_lang:B.env.b_lang_for_url,broadcast:!0}).then(function(e){_i_("65cb:ca72462b"),"mdot"===B.env.b_site_type&&(B.env.fe_featured_reviews_translated=e.translations),_r_()}),_r_()}),B.when({action:"hotel",events:"ready",condition:B.env.fe_has_expandable_subscores_block}).run(function(e){_i_("65cb:9f19837c");var t=e("jquery"),n=t(".review-block-score-breakdown .v2_review-scores__body"),i="v2_review-scores__body--collapsed";if(0===n.length)return _r_();t(".js-toggle-score-breakdown").on("click",function(){_i_("65cb:0fabc7da"),_i_("65cb:f1be6aed"),_r_(n.hasClass(i))?n.removeClass(i):n.addClass(i),_r_()}),_r_()}),B.define("component/ugcs/review-snippet-more",function(e,t,n){_i_("65cb:f1a800a2");var i=e("jquery"),r=e("component"),_=e("jstmpl"),a=_("review_snippet_drawer");n.exports=r.extend({init:function(){_i_("65cb:dc6b1ffe"),this.initBuiDrawer(),this.bindEvents(),_r_()},bindEvents:function(){},initBuiDrawer:function(){_i_("65cb:de94d75c");var e=this;e.modalInstance=window.BUI.createInstance("mdot"===B.env.b_site_type?"Drawer":"Modal",this.$el.get(0),{id:"review-snippet-drawer",size:"mdot"===B.env.b_site_type?"default":"large",onBeforeOpen:function(){_i_("65cb:0a68b76a"),this.updateContent(e.renderFullReview()),i(this.modalEl).loadComponents(),_r_()}}),e.modalInstance.mount(),_r_()},renderFullReview:function(){_i_("65cb:26488452");var e,t=this.$el.attr("data-review_url"),n=this.$el.attr("data-index"),i=B.env.fe_featured_reviews[n];return t&&B.env.fe_featured_reviews_translated&&(e=B.env.fe_featured_reviews_translated[t]),_r_(a.render({fe_review_url:t,fe_user_uploaded_photos:i.b_user_uploaded_photos?i.b_user_uploaded_photos:0,fe_review_positive:i.b_hotel_positive,fe_review_positive_translated:e?e.hotel_positive:"",fe_review_negative:i.b_hotel_negative,fe_review_negative_translated:e?e.hotel_negative:"",fe_avatar_url:i.b_avatar_url?i.b_avatar_url:0,fe_country_name:i.b_country_name,fe_country_code:i.b_guest_countrycode,fe_guest_name:i.b_guest_name,fe_review_date:i.b_completed_date,fe_review_score:i.b_average_score_out_of_10,fe_title:i.b_title,fe_title_translated:e?e.title:"",fe_company_name:B.env.b_companyname,fe_is_desktop_site:"www"===B.env.b_site_type,fe_review_lang:i.b_language}))}}),_r_()}),booking.jstmpl("review_snippet_drawer",function(){_i_("65cb:0fda19ad");var k,E=["\n    ","\n        ","/private/review_adj_bad/name","/private/review_adj_very_poor/name","/private/review_adj_poor/name","/private/review_adj_disappointing/name","/private/review_adj_average_passable/name","/private/review_adj_pleasant/name","/private/review_adj_good/name","/private/review_adj_very_good/name","/private/review_adj_fabulous/name","/private/review_adj_superb/name","/private/review_adj_exceptional/name","/private/comp_fd_lp_header_rs/name","","\n","/private/ugc_reviews_translated_show_original/name","/private/ugc_reviews_translated_show_translation/name","/private/ugcx_reviews_translated_by_booking/name",'\n    <div class="bui-drawer__content featured_reviews-modal-content">\n        ',"\n\n\n\n\n\n\n\n\n    \n    \n    \n    \n    \n    \n    \n\n\n\n\n\n\n\n\n\n\n\n\n","\n\n    ",'\n    <div class="c-review-block" \n         itemprop="review" itemscope itemtype="http://schema.org/Review">\n\n        <div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">\n            <meta itemprop="name" content="Booking.com B.V.">\n        </div>\n        \n        ','\n            <div class="bui-u-text-right bui-u-margin-bottom--16">\n                <a class="bui-button bui-button--tertiary"\n                    role="link"\n                    tabindex="0"\n                    href="','">\n                    <span class="bui-button__text">',"/private/m_ugc_my_reviews_edit_cta/name","</span>\n                </a>\n            </div>\n        ",'\n        <div class="bui-grid">\n            <div class="bui-grid__column-3 c-review-block__left">\n                ','\n\n    \n    <div class="c-review-block__row c-review-block__guest">\n        ','<div class="','">','<img class="bui-avatar__image"','src="','"','data-component="image-fallback"\n                 data-fallback-src="','"\n                 alt="" aria-hidden="true" />','<img class="bui-avatar__image"\n                 src="',"</div>",'<div class="bui-avatar-block__text">\n                <span class="bui-avatar-block__title">',"</span>",'<span class="bui-avatar-block__subtitle">','<span class="bui-flag bui-avatar-block__flag">\n                                    <img src="','"\n                                         alt="" />\n                                </span>',"</div>\n        </div>","\n    </div>\n\n    \n    ","\n\n\n","\n\n",'\n    <div class="c-review-block__row c-review-block__room-info-row\n        '," c-review-block__meta",'"\n        data-room-id="','" data-component="ugcs/shared/room-info"\n    >\n            ','\n                <ul class="bui-list bui-list--text bui-list--icon bui_font_caption">\n                    <li class="bui-list__item" data-room-id="','" data-component="ugcs/shared/room-info">\n                        <a href="#" class="c-review-block__room-link">\n                            <span class="bui-list__icon" role="presentation">\n                                ',"streamline/bed_double","medium","\n                            </span>\n                            <span>",'</span>\n                            <div class="bui-list__body">\n                                ',"\n                            </div>\n                        </a>\n                    </li>\n                </ul>\n            ",'\n                <a href="#" class="c-review-block__room-link">\n                    <div class="c-review-block__room-info">\n\n                        <div class="bui-grid">\n                            <div class="bui-grid__column-1">\n                                ',"iconset/bed","large",'\n                            </div>\n                            <div class="bui-grid__column-11 c-review-block_room-info-content-wrap">\n                                <div class="c-review-block__room-info" data-room-id="','" data-component="ugcs/shared/room-info">\n                                    <div class="c-review-block__room-info__name">\n                                        <div class="room_info_heading">',"/private/ugcx_reviews_stayed_in_room/name","</div>\n                                        <div>\n                                            ","\n                                                ","\n\n\n\n\n\n\n",'\n        <span class="c-review-block__date">\n            ',"\n        </span>\n    ","\n                                            ",'\n                                        </div>\n                                    </div>\n                                    <div class="c-review-block__room-info__arrow">\n                                        ',"iconset/navarrow_left","larger","\n                                        ","iconset/navarrow_right","\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </a>\n            ","\n    </div>\n    \n","1","\n\n    \n    ",'\n        <ul class="bui-list bui-list--text bui-list--icon bui_font_caption c-review-block__row c-review-block__stay-date">\n            <li class="bui-list__item">\n                <span class="bui-list__icon" role="presentation">\n                    ',"streamline/calendar",'\n                </span>\n                <div class="bui-list__body">\n                    ',"\n                    ","\n                        ","/private/ugcx_guest_reviews_num_nights/name"," &middot;&nbsp;\n                    ","\n                </div>\n            </li>\n        </ul>\n    ",'\n        <ul class="bui-list bui-list--text bui-list--icon bui_font_caption review-panel-wide__traveller_type c-review-block__row">\n            <li class="bui-list__item">\n                ','\n                    <span class="bui-list__icon" role="presentation">\n                        ',"streamline/group",'\n                    </span>\n                    <div class="bui-list__body">\n                        ',"/private/ugcx_www_hp_review_panel_wide_group/name","\n                    </div>\n                ","streamline/couple","/private/ugcx_www_hp_review_panel_wide_couple/name","streamline/person","/private/ugcx_www_hp_review_panel_wide_solo/name","streamline/family","/private/ugcx_www_hp_review_panel_wide_family/name","\n            </li>\n        </ul>\n    ",'\n            </div>\n            <div class="bui-grid__column-9 c-review-block__right">\n                \n                \n                <div class="c-review-block__row">\n                    ','\n        <span class="c-review-block__badge">\n            <span class="c-review-block__badge__icon">\n                ',"iconset/star","10","\n            </span>\n            ","\n\n                    \n                    ",'\n\n                    <div class="bui-grid">\n                        <div class="bui-grid__column-11">\n                            ',"\n                                ","\n                                    ","\n            ","\n            <h3\n                ",'lang="','\n                class="'," c-review-block__title c-review-block__title--original "," "," c-review-block__title--small "," c-review__title--hidden",'"\n            >\n                ',"\n            </h3>\n            <h3\n                "," c-review-block__title c-review-block__title--translated ","c-review__title--hidden","\n                ","\n            </h3>\n        ","\n            <h3 "," c-review-block__title ",'">\n                ',"\n                            ",'\n                        </div>\n                        <div class="bui-grid__column-1 bui-u-text-right">\n                            \n                            \n                            ','"> <div class="bui-review-score__badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'"> '," </div> ",'<div class="bui-review-score__content"> <div class="bui-review-score__title"> ',"bui-review-score__text"," bui-review-score__text--with-icon","/private/extl_reviews_no_bcom_reviews/name","streamline/info_sign","small","/private/comp_num_reviews_sr_page/name","</div> ","\n                        </div>\n                    </div>\n                </div>\n\n                \n                \n                ",'\n                    <div class="c-review-block__row">\n                        ',"\n\n\n\n\n\n","c-review__inner--rtl","c-review__inner--ltr",'\n\n    <div class="c-review"\n        data-component="ugcs/shared/translatable-review"\n        data-translation-provider="','"\n        data-review-url="','"\n        data-pretranslated="','"\n        data-quoted="','"\n        data-type="','"\n        data-orig-lang="','"\n        data-text-part="','"\n        data-listen-to-translations="','"\n        >\n        \n        ','\n            <div class="c-review__row">\n                <p class="c-review__inner ','">\n                    ','<span class="c-review__prefix c-review__prefix--color-green">',"c-review__icon","iconset/review_great",'<span class="bui-u-sr-only">',"/private/comp_your_review_liked_header/name","</span> </span>",'<span class="c-review__body c-review__body--original\n                    '," c-review__body--hidden ",'"\n                    ','\n                        data-full-content="',"/private/quote_open_primary/name","/private/quote_close_primary/name",'"\n                        data-component="ugcs/shared/review"\n                    ',"\n                >",'<span class="c-review__body c-review__body--translated\n            ','"\n                ','\n                    data-full-content="','"\n                    data-component="ugcs/shared/review"\n                ','data-toggle-length="',"\n            >",'&nbsp;<a\n                    class="bui-link bui-link--primary c-review__body-expand bui-u-hidden"\n                    data-component="ugcs/dom-utils/toggle"\n                >',"/private/ugc_d_hp_reviews_read_more/name","</a>","positive","\n                </p>\n            </div>\n        ",'<span class="c-review__prefix">',"iconset/review_poor","/private/comp_your_review_disliked_header/name","\n\n                    ","negative","\n        \n        ","general","\n\n                </p>\n            </div>\n        ",'\n        <div class="c-review__row" data-no-toggle="1">\n            <span class="c-review__inner ','">\n                <span class="c-review__translation-loader c-review__translation-cta--hidden">\n                    ',"/private/ugc_reviews_loading_translations/name",'...\n                </span>\n                <span class="c-review__translation-cta c-review__translation-cta__original ',"c-review__translation-cta--hidden",' <span class="c-review__translation-cta__provider">','</span> - <a href="#" data-component="prevent-default-helper" class="c-review__translation-link js-review-translation-show-original">',"</a> ",'\n                </span>\n                <span class="c-review__translation-cta c-review__translation-cta__translated ','">\n                    <a href="#" data-component="prevent-default-helper" class="c-review__translation-link js-review-translation-show-translated">',"</a>\n                </span>\n            </span>\n        </div>\n    </div>\n    ",'\n    <div class="c-review">\n        \n        ','<span class="c-review__body"\n','data-full-content="','"\ndata-component="ugcs/shared/review"\n',">","</span>\n",'<a\nclass="bui-link bui-link--primary c-review__body-expand bui-u-hidden"\ndata-component="ugcs/dom-utils/toggle"\n>\n','\n            <div class="c-review__row">\n                <p ',' class="c-review__inner ',"\n    </div>\n    ","\n\n                \n                \n                ",'\n\n        <ul class="c-review-block__photos ','"\n            data-photos-group="','" ','data-component="ugcs/review-block/photos"',">\n            ",'\n                    <li class="c-review-block__photos__item" style="',"display:none;",'">\n                        <button class="c-review-block__photos__button"\n                            data-photos-index="','"\n                            data-photos-src="','"\n                            data-photos-large-src="','"\n                            style="background-image: url(',")",");background-image: -webkit-image-set(url(",") 1x, url(",") 2x)",'"\n                        >\n                            ','\n                                <div class="c-review-block__photos__button__cover">\n                                +',"\n                                </div>\n                            ","\n                        </button>\n                    </li>\n                    ",'\n                                <div class="c-review-block__photos__button__cover">\n                                    +',"\n        </ul>\n    ",'<div class="c-review-block__response">','<div class="c-review-block__response__title">',"c-review-block__response__icon","iconset/chat_bubbles","&nbsp;",'<div class="c-review-block__response__inner"> <span data-toggle-hide="1" class="c-review-block__response__body">',"&hellip;",'<span data-toggle-show="1" class="c-review-block__response__body bui-u-hidden">','</span> <a href="#" data-component="ugcs/dom-utils/toggle prevent-default-helper" class="c-review-block__response__read-more bui-link bui-link--primary">',"/private/comp_your_review_continue/name","</div> </div>","iconset/warning","iconset/close",'\n                    <div class="c-review-block__row c-review-block__row--helpful-vote bui-u-text-right">\n                        ','\n        <div class="c-review-block__actions">\n            ',"\n\n\n\n","\n\t","\n\t\n\t","\n\t\n\t\n\t","\n\t\t","review_helpful_vote_you_and_others_bold","review_helpful_vote_number_people_bold","    \n","            \n"," \n\n"," \n\n\n",'\n    <div class="review-helpful__container" data-component="reviews/review-helpful-unhelpful" >\n        ','\n            <p class="review-helpful__vote-feedback-message review-helpful-heart-vote-feedback-message review-helpful__vote-others-helpful "',' style="display: none;"',">\n                ",'\n            </p>\n            <p class="review-helpful__vote-feedback-message review-helpful-heart-vote-feedback-message --unhelpful">\n                \n            </p>\n        ','\n        <form class="review-helpful__form clearfix" action="/vote_review" method="post" data-current-count="','">\n            <input type="hidden" name="hotel_id"   value="','">\n            <input type="hidden" name="review_url" value="','">\n            <input type="hidden" name="review_id" value="0">\n            <input type="hidden" name="vote_type"  value="1"> \n            <input type="hidden" name="vote_value" value="1">\n            <button type="submit" class="review-helpful__form-submit review-helpful-heart-submit" data-type="helpful">\n                ',"iconset/thumbs_up",'\n            </button>\n        </form>\n        <form class="review-helpful__form --unhelpful clearfix" action="/vote_review" method="post">\n            <input type="hidden" name="hotel_id"   value="','">\n            <input type="hidden" name="review_id" value="0">\n            <input type="hidden" name="vote_type"  value="4"> \n            <input type="hidden" name="vote_value" value="1">\n            <button type="submit" class="review-helpful__form-submit review-helpful-heart-submit" data-type="unhelpful">\n                ',"iconset/thumbs_down","/private/ugcx_reviews_not_helpful/name","\n            </button>\n        </form>\n\n        ",'\n        <p class="review-helpful__vote-feedback-message review-helpful-heart-vote-feedback-message review-helpful__vote-others-helpful "','\n        </p>\n        <p class="review-helpful__vote-feedback-message review-helpful-heart-vote-feedback-message --unhelpful">\n            \n        </p>\n        ',"\n    </div>\n","\n            <div>\n                ",'\n\t\t<div class="review_item_feedback">\n\t\t\t<div class="review_report_form">\n\t\t\t\t<i class="bicon-flag"></i>\n\t\t\t\t<div class="review_report_form_pop g-hidden">\n\t\t\t\t\t<ul class="review_report_form_pop_list" data-reviewurl="','" data-hotelid="','">\n\t\t\t\t\t\t<li><label><input type="radio" name="report-review" value="offensive"><p>','</p></label></li>\n\t\t\t\t\t\t<li><label><input type="radio" name="report-review" value="fraudulent"><p>','</p></label></li>\n\t\t\t\t\t\t<li><label><input type="radio" name="report-review" value="wrong_property"><p>','</p></label></li>\n\t\t\t\t\t\t<li><label><input type="radio" name="report-review" value="other"><p>',"</p></label></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t","\n            </div>\n        </div>\n    ","\n\n            </div> \n        </div> \n    </div> \n",'\n        <div class="c-review-block" itemprop="review" itemscope itemtype="http://schema.org/Review">\n            <div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">\n                <meta itemprop="name" content="Booking.com B.V.">\n            </div>\n            \n            \n\n            ','\n                <div class="c-review-block__row">\n                    ','<div class="c-guest-with-score">\n            <div class="c-guest-with-score__guest">','</div>\n            <div class="c-guest-with-score__score">',"\n                </div>\n            ","\n\n            \n            \n            ",'\n                        <a class="bui-button bui-button--tertiary review_block__edit"\n                            role="link"\n                            tabindex="0"\n                            href="','">\n                            <span class="bui-button__text">',"</span>\n                        </a>\n                    ","\n            \n            \n            ","\n\n            ",'\n    <div class="bui-card c-review-block__stay-info">\n        <div class="bui-card__content">\n            <ul class="bui-list bui-list--text bui-list--icon bui_font_caption">\n                \n                ','\n                    <li class="bui-list__item c-review-block__stay-info-item"\n                        data-component="ugcs/shared/room-info"\n                        data-room-id="','">\n                        <a href="#" class="c-review-block__stay-info-link">\n                            <span class="bui-list__icon c-review-block__stay-info-icon" role="presentation">\n                                ','\n                            </span>\n                            <div class="bui-list__body">\n                                ',"\n                            </div>\n                        </a>\n                    </li>\n                ","\n                \n                ",'\n                    <li class="bui-list__item c-review-block__stay-info-item">\n                        <span class="bui-list__icon c-review-block__stay-info-icon" role="presentation">\n                            ','\n                        </span>\n                        <div class="bui-list__body">\n                            ',"\n                            <p>\n                            "," &middot;\n                            ","\n                            </p>\n                        </div>\n                    </li>\n                ",'\n                        <li class="bui-list__item c-review-block__stay-info-item">\n                            <span class="bui-list__icon c-review-block__stay-info-icon" role="presentation">\n                                ',"\n                            </div>\n                        </li>\n                    ","\n            </ul>\n        </div>\n    </div>\n","\n            \n            ",'\n                <div class="c-review-block__row c-review-block__row--helpful-vote">\n                    ',"\n\n        </div>\n    "],C=["fe_title","fe_adjective","fe_score","fe_hide_low_adjectives","fe_review_score","fe_copy_show_original","fe_copy_show_translated","fe_copy_translated_by","fe_company_name","fe_review_url","ip_country","b_guest_countrycode","fe_country_code","b_facts","fe_review_edit_url","fe_class_block","fe_modifier_small","fe_modifier_large","fe_avatar","fe_avatar_class","fe_modifier_larger","fe_modifier_largest","fe_name","fe_character_avatar","fe_character","fe_fallback_avatar","fe_flag_size","fe_hide_flag","fe_country_name","fe_allow_zero","fe_guest_avatar","fe_guest_country_code","fe_guest_country","fe_guest_name","fe_single_line","fe_room_id","fe_icon_color","fe_room_name","fe_date","b_review_stayed_date_formated","b_lang_is_rtl","b_stayed_rooms","fe_num_nights","fe_guest_stay_date","b_review_customer_types","b_stay_customer_type","fe_badge","fe_guest_badge","fe_review_date","fe_review_title_lang","fe_review_title_translated_lang","fe_title_direction_class","fe_review_title_size","fe_start_translated","fe_review_title","fe_title_translated_direction_class","fe_review_title_translated","fe_translatable","fe_classes","fe_modifier_outline","fe_modifier_end","fe_modifier_inverse","fe_modifier_inline","fe_modifier_text","fe_modifier_smaller","fe_modifier_external","fe_modifier_external_inline","fe_show_adjective","fe_custom_adjective","fe_adjective_text","fe_can_show_adjective","fe_calc_score_formatted","fe_show_external_review_info_icon","fe_reviews_number","fe_review_score_formatted","fe_direction_class","fe_force_rtl","fe_force_ltr","fe_translation_provider","fe_quoted","fe_data_type","fe_review_lang","fe_text_part","fe_listen_to_translations","fe_review_prefix","fe_review_body","fe_truncate","fe_prefix","fe_review_body_translated","fe_truncated","fe_review_part","fe_fold","b_site_type","fe_review_positive","fe_review_positive_translated","fe__review_extreme_topics_positive","fe_review_negative","fe_review_negative_translated","fe__review_extreme_topics_negative","fe_review_general","fe_review_general_translated","fe_review_translated","fe_review_extreme_topics_body","0","fe_uploaded_photos","fe_destination_photos","fe_additional_class","fe_displayed_counter","fe_max_thubmnails","max1280x900","max500_ao","max1024x768","square144","b_is_mobile_site","square80","square160","fe_total_photos","fe_review_id","fe_response","fe_response_title","fe_response_truncated","fe_review_response","fe_review_response_title","fe_jstmpl","b_hotel_id","review_helpful_hotel_id","b_single_review_url_path","review_helpful_review_url","b_already_voted_info","is_helpful_by_user","b_helpful_vote_count","helpful_count","review_helpful_vote_you_bold","vote_feedback_message","number_people","fe_helpful_forward_feedback","review_helpful_vote_button_confirmed","fe_hotel_id","highlight_review","b_label","b_bookings_owned","b_hotel_positive","b_hotel_negative","flag_review_inappropriate","flag_review_fraudulent","flag_review_wrong_property","flag_review_other","is_property_reviews_tab","b_is_external","b_browser","b_browser_version","b_user_auth_level","b_auth_level_high","b_is_desktop_site","fe_is_desktop_site","fe_modifier_guest_small","fe_modifier_score_small","fe_modifier_score_smaller","fe_photos_review_url","fe_review_block_customer_type_icon","fe_review_block_customer_type_text","fe_stay_customer_type","fe_show_stay_info_block","fe_disable_helpful_buttons","fe_avatar_url","anonymous","fe_title_translated","fe_user_uploaded_photos"];return _r_(function(r){_i_("65cb:e11667c0");var e,t,n,i="",_=this.fn;function a(e){if(_i_("65cb:7201980e"),e+=E[142],_.MJ(_.MB(C[93]))||_.MJ(_.MB(C[99]))||_.MJ(_.MB(C[96]))){e+=E[0],e+=E[0],e+=E[0],e+=E[0],e+=E[0],e+=E[0];var t="";if(_.MD(C[76])&&(t+=E[143]),_.MD(C[77])&&(t+=E[144]),_.MN(C[75],t),e+=[E[145],_.F.entities(_.MC(C[78])),E[146],_.F.entities(_.MC(C[9])),E[147],_.F.entities(_.MC(C[53])),E[148],_.F.entities(_.MC(C[79])),E[149],_.F.entities(_.MC(C[80])),E[150],_.F.entities(_.MC(C[81])),E[151],_.F.entities(_.MC(C[82])),E[152],_.F.entities(_.MC(C[83])),E[153]].join(""),_.MJ(_.MB(C[93]))||_.MJ(_.MB(C[95]))){e+=[E[154],_.F.entities(_.MC(C[75])),E[155]].join("");t="";t+=[E[156],(r.unshift({class:E[157],name:E[158]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[159],_.ME(E[160],_.MB,_.MN,null),E[161]].join(""),_.MN(C[84],t),e+=E[82],r.unshift({fe_fold:_.MB(C[91]),fe_quoted:_.MB(C[79]),fe_review_body:_.MB(C[93]),fe_review_body_translated:_.MB(C[94]),fe_review_extreme_topics_body:_.MB(C[95]),fe_review_lang:_.MB(C[81]),fe_review_part:E[179],fe_review_prefix:_.MB(C[84]),fe_start_translated:_.MB(C[53]),fe_truncate:_.MB(C[86])}),e=d(e),r.shift(),e+=E[180]}if(e+=E[1],_.MJ(_.MB(C[96]))||_.MJ(_.MB(C[98]))){e+=[E[154],_.F.entities(_.MC(C[75])),E[155]].join("");t="";t+=[E[181],(r.unshift({class:E[157],name:E[182]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[159],_.ME(E[183],_.MB,_.MN,null),E[161]].join(""),_.MN(C[84],t),e+=E[184],r.unshift({fe_fold:_.MB(C[91]),fe_review_body:_.MB(C[96]),fe_review_body_translated:_.MB(C[97]),fe_review_extreme_topics_body:_.MB(C[98]),fe_review_lang:_.MB(C[81]),fe_review_part:E[185],fe_review_prefix:_.MB(C[84]),fe_start_translated:_.MB(C[53]),fe_truncate:_.MB(C[86])}),e=d(e),r.shift(),e+=E[180]}e+=E[186],_.MD(C[99])&&(e+=[E[154],_.F.entities(_.MC(C[75])),E[155]].join(""),r.unshift({fe_fold:_.MB(C[91]),fe_review_body:_.MB(C[99]),fe_review_body_translated:_.MB(C[100]),fe_review_lang:_.MB(C[81]),fe_review_part:E[187],fe_start_translated:_.MB(C[53]),fe_truncate:_.MB(C[86])}),e=d(e),r.shift(),e+=E[188]),e+=[E[189],_.F.entities(_.MC(C[75])),E[190],_.ME(E[191],_.MB,_.MN,null),E[192]].join(""),_.MK(_.MB(C[53]))&&(e+=E[193]),e+=E[155],e+=[E[194],_.MC(C[7]),E[195],_.F.entities(_.MC(C[5])),E[196]].join(""),e+=E[197],_.MD(C[53])&&(e+=E[193]),e+=[E[198],_.MC(C[6]),E[199]].join(""),_.MN("fe_direction_class",0),e+=E[0],_.MN("fe_force_ltr",0),e+=E[0],_.MN("fe_force_rtl",0),e+=E[0],_.MN("fe_fold",0),e+=E[0],_.MN("fe_review_body",0),e+=E[0],_.MN("fe_start_translated",0),e+=E[0],_.MN("fe_review_general_translated",0),e+=E[0],_.MN("fe_review_negative_translated",0),e+=E[0],_.MN("fe_review_positive_translated",0),e+=E[0],_.MN("fe_listen_to_translations",0),e+=E[0],_.MN("fe_review_general",0),e+=E[0],_.MN("fe_review_negative",0),e+=E[0],_.MN("fe_review_positive",0),e+=E[0],_.MN("fe_review_prefix",0),e+=E[0],_.MN("fe_truncate",0),e+=E[0],_.MN("fe_quoted",0),e+=E[15]}return e+=E[15],_r_(e)}function o(e){if(_i_("65cb:3c1ac2d3"),e+=E[142],_.MJ(_.MB(C[93]))||_.MJ(_.MB(C[99]))||_.MJ(_.MB(C[96]))){e+=E[0],e+=E[0];var t="";if(_.MD(C[76])&&(t+=E[143]),_.MD(C[77])&&(t+=E[144]),_.MN(C[75],t),e+=E[200],_.MJ(_.MB(C[93]))||_.MJ(_.MB(C[95]))){e+=[E[154],_.F.entities(_.MC(C[75])),E[155]].join("");t="";t+=[E[156],(r.unshift({class:E[157],name:E[158]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[159],_.ME(E[160],_.MB,_.MN,null),E[161]].join(""),_.MN(C[84],t),e+=E[82],r.unshift({fe_fold:_.MB(C[91]),fe_quoted:_.MB(C[79]),fe_review_body:_.MB(C[93]),fe_review_extreme_topics_body:_.MB(C[95]),fe_review_lang:_.MB(C[81]),fe_review_prefix:_.MB(C[84]),fe_truncate:_.MB(C[86])}),e=u(e),r.shift(),e+=E[180]}if(e+=E[1],_.MJ(_.MB(C[96]))||_.MJ(_.MB(C[98]))){e+=E[207],_.MD(C[81])&&(e+=[E[111],_.F.entities(_.MC(C[81])),E[33]].join("")),e+=[E[208],_.F.entities(_.MC(C[75])),E[155]].join("");t="";t+=[E[181],(r.unshift({class:E[157],name:E[182]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[159],_.ME(E[183],_.MB,_.MN,null),E[161]].join(""),_.MN(C[84],t),e+=E[82],r.unshift({fe_fold:_.MB(C[91]),fe_review_body:_.MB(C[96]),fe_review_extreme_topics_body:_.MB(C[98]),fe_review_lang:_.MB(C[81]),fe_review_prefix:_.MB(C[84]),fe_truncate:_.MB(C[86])}),e=u(e),r.shift(),e+=E[180]}e+=E[186],_.MD(C[99])&&(e+=E[207],_.MD(C[81])&&(e+=[E[111],_.F.entities(_.MC(C[81])),E[33]].join("")),e+=[E[208],_.F.entities(_.MC(C[75])),E[155]].join(""),r.unshift({fe_fold:_.MB(C[91]),fe_review_body:_.MB(C[99]),fe_review_lang:_.MB(C[81]),fe_truncate:_.MB(C[86])}),e=u(e),r.shift(),e+=E[180]),e+=E[209],_.MN("fe_direction_class",0),e+=E[0],_.MN("fe_force_ltr",0),e+=E[0],_.MN("fe_force_rtl",0),e+=E[0],_.MN("fe_fold",0),e+=E[0],_.MN("fe_review_body",0),e+=E[0],_.MN("fe_review_general",0),e+=E[0],_.MN("fe_review_negative",0),e+=E[0],_.MN("fe_review_positive",0),e+=E[0],_.MN("fe_review_prefix",0),e+=E[0],_.MN("fe_truncate",0),e+=E[0],_.MN("fe_quoted",0),e+=E[0],_.MN("fe_review_lang",0),e+=E[15]}return e+=E[15],_r_(e)}function s(e){if(_i_("65cb:29fb3914"),e+=E[14],_.MJ(_.MB(C[22]))){e+=E[14],_.MN("fe_class_block","c-guest bui-avatar-block"),e+=E[14],_.MN("fe_class_avatar","bui-avatar"),e+=E[14],_.MN("fe_flag_size",16),e+=E[14],_.MD(C[16])&&(e+=E[14],_.MN("fe_class_block",_.MB(C[15])+" bui-avatar-block--small"),e+=E[14],_.MN("fe_flag_size",12),e+=E[14]),e+=E[14],_.MD(C[17])&&(e+=E[14],_.MN("fe_class_block",_.MB(C[15])+" bui-avatar-block--large"),e+=E[14]),e+=[E[29],_.F.entities(_.MC(C[15])),E[30]].join("");var t={fe_avatar:_.MB(C[18]),fe_modifier_large:_.MB(C[17]),fe_modifier_small:_.MB(C[16]),fe_name:_.MB(C[22])},n=r;(r=_.SV([{},{}])).unshift(t),i=e,_i_("65cb:b7138def"),i+=E[14],(_.MJ(_.MB(C[22]))||_.MJ(_.MB(C[18])))&&(i+=E[14],_.MN("fe_avatar",_.defined(_.MB(C[18]))&&_.MJ(10<_.MB(C[18]).toString().length)&&_.MJ(/https?:\/\//.test(_.MB(C[18])))?_.MB(C[18]):0),i+=E[14],_.MN("fe_avatar_class","c-avatar bui-avatar "),i+=E[14],_.MD(C[16])&&_.MN("fe_avatar_class",_.MB(C[19])+" bui-avatar--small"),i+=E[14],_.MD(C[17])&&_.MN("fe_avatar_class",_.MB(C[19])+" bui-avatar--large"),i+=E[14],_.MD(C[20])&&_.MN("fe_avatar_class",_.MB(C[19])+" bui-avatar--larger"),i+=E[14],_.MD(C[21])&&_.MN("fe_avatar_class",_.MB(C[19])+" bui-avatar--largest"),i+=E[14],_.MN("fe_character",_.MB(C[22])&&_.substr(_.MB(C[22]),0,1).toLowerCase()),i+=E[14],_.MN("fe_character_avatar",0),i+=E[14],_.MJ(/[a-z]/i.test(_.MB(C[24])))&&(i+=E[14],_.MN(C[23],_.STATIC_HOSTNAME("/static/img/review/avatars/ava-"+_.MB(C[24])+".png",0,0,0,0)),i+=E[14]),i+=E[14],_.MD(C[23])?(i+=E[14],_.MN(C[25],_.MC(C[23]))):(i+=E[14],_.MN(C[25],_.STATIC_HOSTNAME("/static/img/identity/profile.svg",0,0,0,0))),i+=E[14],i+=[E[29],_.F.entities(_.MC(C[19])),E[30]].join(""),_.MJ(_.MB(C[18]))||_.MJ(_.MB(C[23]))?(i+=E[31],_.MD(C[18])?i+=[E[32],_.MC(C[18]),E[33]].join(""):_.MD(C[23])&&(i+=[E[32],_.MC(C[23]),E[33]].join("")),i+=[E[34],_.MC(C[25]),E[35]].join("")):i+=[E[36],_.MC(C[25]),E[35]].join(""),i+=E[37]),i+=E[14],_.MN("fe_avatar",0),i+=E[14],_.MN("fe_avatar_class",0),i+=E[14],_.MN("fe_avatar_text",0),i+=E[14],_.MN("fe_character",0),i+=E[14],_.MN("fe_fallback_avatar",0),i+=E[14],_.MN("fe_modifier_large",0),i+=E[14],_.MN("fe_modifier_larger",0),i+=E[14],_.MN("fe_modifier_largest",0),i+=E[14],_.MN("fe_modifier_small",0),i+=E[14],_.MN("fe_name",0),i+=E[14],_.MN("fe_on_error_func",0),i+=E[14],i+=E[15],e=_r_(i),r=_.SV(n),e+=[E[38],_.F.js(_.MC(C[22])),E[39]].join(""),_.MJ(_.MB(C[28]))&&(e+=E[40],_.MD(C[12])&&(e+=E[14],_.MD(C[27])||(e+=[E[41],_.STATIC_HOSTNAME("/static/img/flags/"+_.MB(C[26])+"/"+_.MB(C[12])+".png",0,0,0,0),E[42]].join("")),e+=E[14]),e+=[E[14],_.F.entities(_.MC(C[28])),E[39]].join("")),e+=E[43]}var i;return e+=E[14],_.MN("fe_avatar",0),e+=E[14],_.MN("fe_class_avatar",0),e+=E[14],_.MN("fe_class_block",0),e+=E[14],_.MN("fe_country_code",0),e+=E[14],_.MN("fe_country_name",0),e+=E[14],_.MN("fe_flag_size",0),e+=E[14],_.MN("fe_modifier_large",0),e+=E[14],_.MN("fe_modifier_small",0),e+=E[14],_.MN("fe_name",0),e+=E[14],_.MN("fe_hide_flag",0),e+=E[14],e+=E[15],_r_(e)}function c(e){if(_i_("65cb:8bfdbdb2"),e+=E[14],_.MN("fe_modifier_large",0),e+=E[14],_.MN("fe_modifier_larger",0),e+=E[14],_.MN("fe_modifier_largest",0),e+=E[14],_.MN("fe_show_adjective",0),e+=E[14],_.MN("fe_reviews_number",0),e+=E[14],_.MN("fe_modifier_end",0),e+=E[14],_.MN("fe_modifier_inline",0),e+=E[14],_.MN("fe_modifier_inverse",0),e+=E[14],_.MN("fe_modifier_outline",0),e+=E[14],_.MN("fe_modifier_text",0),e+=E[14],_.MN("fe_hide_low_adjectives",0),e+=E[14],_.MJ(_.MB(C[22]))){e+=E[288];var t={fe_avatar:_.MB(C[18]),fe_country_code:_.MB(C[12]),fe_country_name:_.MB(C[28]),fe_hide_flag:_.MB(C[27]),fe_modifier_small:_.MB(C[155]),fe_name:_.MB(C[22])},n=r;(r=_.SV([{},{}])).unshift(t),e=s(e),r=_.SV(n),e+=E[289];t={fe_allow_zero:_.MB(C[29]),fe_modifier_small:_.MB(C[156]),fe_modifier_smaller:_.MB(C[157]),fe_score:_.MB(C[2])},n=r;(r=_.SV([{},{}])).unshift(t),e=function(e){if(_i_("65cb:38ad8eeb"),e+=["",E[114]].join(""),_.MJ(_.MB(C[2]))||_.MJ(_.MB(C[29]))){if(_.MN("fe_classes","bui-review-score c-score"),_.MJ(_.MB(C[59]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--outline"),_.MJ(_.MB(C[60]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--end"),_.MJ(_.MB(C[61]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--inverse"),_.MJ(_.MB(C[62]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--inline"),_.MJ(_.MB(C[63]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--text"),_.MJ(_.MB(C[16]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--small"),_.MJ(_.MB(C[64]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--smaller"),_.MJ(_.MB(C[65]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--external"),_.MJ(_.MB(C[66]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--external-inline"),_.MJ(_.MB(C[29]))&&_.MN("fe_calc_score_formatted",0),_.MJ(_.MB(C[2]))&&_.MN("fe_calc_score_formatted",_.format_review_score_new(_.MB(C[2]))),_.MN("fe_can_show_adjective",_.MB(C[67])||_.MB(C[68])),_.MJ(_.MB(C[70]))){var t="";r.unshift({fe_hide_low_adjectives:_.MB(C[3]),fe_score:_.MB(C[2])}),t=function(e){if(_i_("65cb:57448080"),_.MD(C[2])){var t="";_.MJ(1<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<2)&&(t+=_.ME(E[2],_.MB,_.MN,null)),_.MJ(2<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<3)&&(t+=_.ME(E[3],_.MB,_.MN,null)),_.MJ(3<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<4)&&(t+=_.ME(E[4],_.MB,_.MN,null)),_.MJ(4<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<5)&&(t+=_.ME(E[5],_.MB,_.MN,null)),_.MJ(5<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<6)&&(t+=_.ME(E[6],_.MB,_.MN,null)),_.MJ(6<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<7)&&(t+=_.ME(E[7],_.MB,_.MN,null)),_.MJ(7<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<8)&&(t+=_.ME(E[8],_.MB,_.MN,null)),_.MJ(8<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<8.6)&&(t+=_.ME(E[9],_.MB,_.MN,null)),_.MJ(8.6<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<9)&&(t+=_.ME(E[10],_.MB,_.MN,null)),_.MJ(9<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<9.5)&&(t+=_.ME(E[11],_.MB,_.MN,null)),_.MJ(9.5<=_.MB(C[2]))&&(t+=_.ME(E[12],_.MB,_.MN,null)),_.MN(C[1],t),_.MJ(_.MB(C[3]))&&_.MJ(_.MB(C[2])<7)&&_.MN(C[1],_.ME(E[13],_.MB,_.MN,null)),e+=[_.MC(C[1]),E[14]].join("")}return _.MN("fe_adjective",0),_.MN("fe_hide_low_adjectives",0),_.MN("fe_score",0),e+=E[15],_r_(e)}(t),r.shift(),_.MN(C[69],t),_.MJ(_.MB(C[68]))&&_.MN("fe_adjective_text",_.MB(C[68]))}e+=[E[29],_.F.entities(_.MC(C[58])),E[128],(r.unshift({review_score_number:_.MB(C[71])}),k=_.ME(E[129],_.MB,_.MN,null),r.shift(),k),E[130],_.F.entities(_.MC(C[71])),E[131]].join(""),_.MD(C[69])&&(e+=[E[132],_.MC(C[69]),E[131]].join(""),_.MD(C[73])&&(e+=E[29],e+=E[133],_.MJ(_.MB(C[65]))&&_.MJ(_.MB(C[72]))&&(e+=E[134]),e+=E[130],_.MD(C[65])?(e+=[(r.unshift({total_num_reviews:_.MI(_.MB(C[73]))+_.MI(0)}),k=_.ME(E[135],_.MB,_.MN,_.MO(_.MI(_.MC(C[73]))+_.MI(0),null,E[135])),r.shift(),k),E[114]].join(""),_.MJ(_.MB(C[72]))&&(e+=[(r.unshift({color:"#6B6B6B",name:E[136],size:E[137]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[114]].join(""))):e+=[(r.unshift({num_reviews:_.format_number(_.MB(C[73]))}),k=_.ME(E[138],_.MB,_.MN,_.MO(_.MI(_.MC(C[73]))+_.MI(0),null,E[138])),r.shift(),k),E[114]].join(""),e+=E[139]),e+=E[139]),e+=E[139]}return _.MN("fe_adjective_text",0),_.MN("fe_allow_zero",0),_.MN("fe_classes",0),_.MN("fe_custom_adjective",0),_.MN("fe_hide_low_adjectives",0),_.MN("fe_modifier_end",0),_.MN("fe_modifier_inline",0),_.MN("fe_modifier_inverse",0),_.MN("fe_modifier_outline",0),_.MN("fe_modifier_text",0),_.MN("fe_reviews_number",0),_.MN("fe_score",0),_.MN("fe_calc_score_formatted",0),_.MN("fe_show_adjective",0),_.MN("fe_show_external_review_info_icon",0),e+=["",E[114]].join(""),e+=E[15],_r_(e)}(e),r=_.SV(n),e+=E[43]}return e+=E[14],_.MN("fe_allow_zero",0),e+=E[14],_.MN("fe_avatar",0),e+=E[14],_.MN("fe_country_code",0),e+=E[14],_.MN("fe_country_name",0),e+=E[14],_.MN("fe_modifier_small",0),e+=E[14],_.MN("fe_name",0),e+=E[14],_.MN("fe_score",0),e+=E[14],_.MN("fe_hide_flag",0),e+=E[14],_r_(e)}function l(e){if(_i_("65cb:b2d772da"),e+=E[14],_.MJ(_.MB(C[22]))){e+=E[14],_.MN("fe_class_block","c-guest bui-avatar-block"),e+=E[14],_.MN("fe_class_avatar","bui-avatar"),e+=E[14],_.MN("fe_flag_size",16),e+=E[14],_.MD(C[16])&&(e+=E[14],_.MN("fe_class_block",_.MB(C[15])+" bui-avatar-block--small"),e+=E[14],_.MN("fe_flag_size",12),e+=E[14]),e+=E[14],_.MD(C[17])&&(e+=E[14],_.MN("fe_class_block",_.MB(C[15])+" bui-avatar-block--large"),e+=E[14]),e+=[E[29],_.F.entities(_.MC(C[15])),E[30]].join("");var t={fe_avatar:_.MB(C[18]),fe_modifier_large:_.MB(C[17]),fe_modifier_small:_.MB(C[16]),fe_name:_.MB(C[22])},n=r;(r=_.SV([{},{}])).unshift(t),i=e,_i_("65cb:425df06c"),i+=E[14],(_.MJ(_.MB(C[22]))||_.MJ(_.MB(C[18])))&&(i+=E[14],_.MN("fe_avatar",_.defined(_.MB(C[18]))&&_.MJ(10<_.MB(C[18]).toString().length)&&_.MJ(/https?:\/\//.test(_.MB(C[18])))?_.MB(C[18]):0),i+=E[14],_.MN("fe_avatar_class","c-avatar bui-avatar "),i+=E[14],_.MD(C[16])&&_.MN("fe_avatar_class",_.MB(C[19])+" bui-avatar--small"),i+=E[14],_.MD(C[17])&&_.MN("fe_avatar_class",_.MB(C[19])+" bui-avatar--large"),i+=E[14],_.MD(C[20])&&_.MN("fe_avatar_class",_.MB(C[19])+" bui-avatar--larger"),i+=E[14],_.MD(C[21])&&_.MN("fe_avatar_class",_.MB(C[19])+" bui-avatar--largest"),i+=E[14],_.MN("fe_character",_.MB(C[22])&&_.substr(_.MB(C[22]),0,1).toLowerCase()),i+=E[14],_.MN("fe_character_avatar",0),i+=E[14],_.MJ(/[a-z]/i.test(_.MB(C[24])))&&(i+=E[14],_.MN(C[23],_.STATIC_HOSTNAME("/static/img/review/avatars/ava-"+_.MB(C[24])+".png",0,0,0,0)),i+=E[14]),i+=E[14],_.MD(C[23])?(i+=E[14],_.MN(C[25],_.MC(C[23]))):(i+=E[14],_.MN(C[25],_.STATIC_HOSTNAME("/static/img/identity/profile.svg",0,0,0,0))),i+=E[14],i+=[E[29],_.F.entities(_.MC(C[19])),E[30]].join(""),_.MJ(_.MB(C[18]))||_.MJ(_.MB(C[23]))?(i+=E[31],_.MD(C[18])?i+=[E[32],_.MC(C[18]),E[33]].join(""):_.MD(C[23])&&(i+=[E[32],_.MC(C[23]),E[33]].join("")),i+=[E[34],_.MC(C[25]),E[35]].join("")):i+=[E[36],_.MC(C[25]),E[35]].join(""),i+=E[37]),i+=E[14],_.MN("fe_avatar",0),i+=E[14],_.MN("fe_avatar_class",0),i+=E[14],_.MN("fe_avatar_text",0),i+=E[14],_.MN("fe_character",0),i+=E[14],_.MN("fe_fallback_avatar",0),i+=E[14],_.MN("fe_modifier_large",0),i+=E[14],_.MN("fe_modifier_larger",0),i+=E[14],_.MN("fe_modifier_largest",0),i+=E[14],_.MN("fe_modifier_small",0),i+=E[14],_.MN("fe_name",0),i+=E[14],_.MN("fe_on_error_func",0),i+=E[14],i+=E[15],e=_r_(i),r=_.SV(n),e+=[E[38],_.F.js(_.MC(C[22])),E[39]].join(""),_.MJ(_.MB(C[28]))&&(e+=E[40],_.MD(C[12])&&(e+=E[14],_.MD(C[27])||(e+=[E[41],_.STATIC_HOSTNAME("/static/img/flags/"+_.MB(C[26])+"/"+_.MB(C[12])+".png",0,0,0,0),E[42]].join("")),e+=E[14]),e+=[E[14],_.F.entities(_.MC(C[28])),E[39]].join("")),e+=E[43]}var i;return e+=E[14],_.MN("fe_avatar",0),e+=E[14],_.MN("fe_class_avatar",0),e+=E[14],_.MN("fe_class_block",0),e+=E[14],_.MN("fe_country_code",0),e+=E[14],_.MN("fe_country_name",0),e+=E[14],_.MN("fe_flag_size",0),e+=E[14],_.MN("fe_modifier_large",0),e+=E[14],_.MN("fe_modifier_small",0),e+=E[14],_.MN("fe_name",0),e+=E[14],_.MN("fe_hide_flag",0),e+=E[14],e+=E[15],_r_(e)}function d(e){return _i_("65cb:e593bc06"),e+=E[15],e+=[E[14],"",E[14]].join(""),_.MD(C[85])&&(e+=E[14],_.MJ(_.MB(C[86]))&&_.MJ(160<_.MB(C[85]).toString().length)&&(e+=E[14],_.MN("fe_truncated",_.substr(_.MB(C[85]),0,160)+"..."),e+=E[14]),e+=E[14]),e+=E[14],_.MN("fe_prefix",""),e+=E[14],_.MD(C[84])&&(e+=E[14],_.MN("fe_prefix",_.MB(C[87])+""+_.MB(C[84])+"&nbsp;&middot;&nbsp;"),e+=E[14]),e+=E[14],_.MD(C[85])&&(e+=E[14],e+=[E[14],_.MC(C[87]),E[162]].join(""),_.MJ(_.MB(C[88]))&&_.MJ(_.MB(C[53]))&&(e+=E[163]),e+=E[164],_.MD(C[89])&&(e+=E[165],_.MD(C[79])&&(e+=_.ME(E[166],_.MB,_.MN,null)),e+=_.F.html(_.MC(C[85])),_.MD(C[79])&&(e+=_.ME(E[167],_.MB,_.MN,null)),e+=E[168]),e+=E[14],_.MD(C[81])&&(e+=[E[111],_.F.entities(_.MC(C[81])),E[33]].join("")),e+=E[169],_.MD(C[79])&&(e+=_.ME(E[166],_.MB,_.MN,null)),e+=[E[14],_.MC(C[89])||_.MC(C[85])].join(""),_.MD(C[79])&&(e+=_.ME(E[167],_.MB,_.MN,null)),e+=E[39],e+=E[14]),e+=E[14],e+=E[170],_.MD(C[90])&&(e+=[E[14],_.F.entities(_.MC(C[90])),E[14]].join("")),e+=E[14],_.MK(_.MB(C[53]))&&(e+=E[163]),e+=E[171],_.MD(C[89])&&(e+=E[172],_.MD(C[79])&&(e+=_.ME(E[166],_.MB,_.MN,null)),e+=_.F.html(_.MC(C[88])),_.MD(C[79])&&(e+=_.ME(E[167],_.MB,_.MN,null)),e+=E[173]),e+=E[14],_.MD(C[91])&&(e+=[E[174],_.F.entities(_.MC(C[91])),E[33]].join("")),e+=E[175],_.MD(C[79])&&(e+=_.ME(E[166],_.MB,_.MN,null)),e+=[E[14],_.MC(C[89])||_.MC(C[88])].join(""),_.MD(C[79])&&(e+=_.ME(E[167],_.MB,_.MN,null)),e+=E[39],_.MD(C[91])&&(e+=E[176],_.MJ(_.MC(C[92])+""=="mdot")||_.MJ(_.MC(C[92])+""=="www")||(e+=[E[14],_.ME(E[177],_.MB,_.MN,null),E[14]].join("")),e+=E[178]),e+=E[14],e+=E[14],_.MN("fe_fold",0),e+=E[14],_.MN("fe_prefix",0),e+=E[14],_.MN("fe_review_body_type",0),e+=E[14],_.MN("fe_review_body",0),e+=E[14],_.MN("fe_review_prefix",0),e+=E[14],_.MN("fe_truncate",0),e+=E[14],_.MN("fe_truncated",0),e+=[E[14],"",E[14]].join(""),e+=E[15],_r_(e)}function u(e){return _i_("65cb:3c94fb43"),e+=E[15],e+=[E[14],"",E[14]].join(""),_.MD(C[85])&&(e+=E[14],_.MJ(_.MB(C[86]))&&_.MJ(160<_.MB(C[85]).toString().length)&&(e+=E[14],_.MN("fe_truncated",_.substr(_.MB(C[85]),0,160)+"..."),e+=E[14]),e+=E[14]),e+=E[14],_.MN("fe_prefix",""),e+=E[14],_.MD(C[84])&&(e+=E[14],_.MN("fe_prefix",_.MB(C[87])+""+_.MB(C[84])+'<span aria-hidden="true">&nbsp;&middot;&nbsp;</span>'),e+=E[14]),e+=E[14],_.MD(C[85])&&(e+=[_.MC(C[87]),E[201]].join(""),_.MD(C[89])&&(e+=E[202],_.MD(C[79])&&(e+=_.ME(E[166],_.MB,_.MN,null)),e+=_.MC(C[85]),_.MD(C[79])&&(e+=_.ME(E[167],_.MB,_.MN,null)),e+=E[203]),_.MD(C[91])&&(e+=[E[174],_.F.entities(_.MC(C[91])),E[33]].join("")),_.MD(C[81])&&(e+=[E[111],_.F.entities(_.MC(C[81])),E[33]].join("")),e+=E[204],_.MD(C[79])&&(e+=_.ME(E[166],_.MB,_.MN,null)),e+=_.MC(C[89])||_.MC(C[85]),_.MD(C[79])&&(e+=_.ME(E[167],_.MB,_.MN,null)),e+=E[205],_.MJ(_.MB(C[91]))&&_.MJ(_.MB(C[85]).toString().length>_.MB(C[91]))&&(e+=E[206],_.MJ(_.MC(C[92])+""=="mdot")||_.MJ(_.MC(C[92])+""=="www")||(e+=[_.ME(E[177],_.MB,_.MN,null),E[15]].join("")),e+=E[178]),_.MD(C[102])&&(e+=[_.MC(C[102]),E[15]].join(""),_.MN("fe_review_extreme_topics_body",_.MB(C[103])))),e+=E[14],_.MN("fe_fold",0),e+=E[14],_.MN("fe_prefix",0),e+=E[14],_.MN("fe_review_body",0),e+=E[14],_.MN("fe_review_prefix",0),e+=E[14],_.MN("fe_truncate",0),e+=E[14],_.MN("fe_review_lang",0),e+=E[14],_.MN("fe_truncated",0),e+=[E[14],"",E[14]].join(""),e+=E[15],_r_(e)}function f(e){return _i_("65cb:1ab1be86"),e+=["",E[0]].join(""),_.MD(C[54])&&(e+=E[1],_.MD(C[49])&&(e+=E[109],_.MN("fe_title_direction_class",_.MJ(/^(ar|he)$/.test(_.MB(C[49])))?"c-review__title--rtl":"c-review__title--ltr"),e+=E[1]),e+=E[1],_.MD(C[50])&&(e+=E[109],_.MN("fe_title_translated_direction_class",_.MJ(/^(ar|he)$/.test(_.MB(C[50])))?"c-review__title--rtl":"c-review__title--ltr"),e+=E[1]),e+=E[1],_.MD(C[57])?(e+=E[110],_.MD(C[49])&&(e+=[E[111],_.F.entities(_.MC(C[49])),E[33]].join("")),e+=E[112],e+=[E[113],_.F.entities(_.MC(C[51])),E[114]].join(""),_.MJ(_.MB(C[52]))&&_.MJ(_.MB(C[52])+""=="small")&&(e+=E[115]),e+=E[114],_.MJ(_.MB(C[53]))&&(e+=E[116]),e+=E[114],e+=[E[117],_.MC(C[54]),E[118]].join(""),_.MD(C[50])&&(e+=[E[111],_.F.entities(_.MC(C[50])),E[33]].join("")),e+=E[112],e+=[E[119],_.F.entities(_.MC(C[55])),E[114]].join(""),_.MK(_.MB(C[53]))&&(e+=E[120]),e+=E[114],e+=E[117],_.MD(C[56])?e+=[E[82],_.MC(C[56]),E[121]].join(""):e+=[E[82],_.MC(C[54]),E[121]].join(""),e+=E[122]):(e+=E[123],_.MD(C[49])&&(e+=[E[111],_.F.entities(_.MC(C[49])),E[33]].join("")),e+=E[112],e+=[E[124],_.F.entities(_.MC(C[51])),E[114]].join(""),_.MJ(_.MB(C[52]))&&_.MJ(_.MB(C[52])+""=="small")&&(e+=E[115]),e+=E[114],e+=[E[125],_.MC(C[54]),E[122]].join("")),e+=E[0]),e+=E[0],_.MN("fe_review_title",0),e+=E[0],_.MN("fe_start_translated",0),e+=E[0],_.MN("fe_review_title_translated",0),e+=E[0],_.MN("fe_review_title_translated_lang",0),e+=E[0],_.MN("fe_review_title_lang",0),e+=E[0],_.MN("fe_title_direction_class",""),e+=E[0],_.MN("fe_title_translated_direction_class",""),e+=[E[15],"",E[15]].join(""),_r_(e)}function b(e){return _i_("65cb:ff41b4a2"),e+=["",E[0],(r.unshift({name:E[243]}),k=_.HELPER("icon_export",r[0]),r.shift(),k),E[0],(r.unshift({name:E[74]}),k=_.HELPER("icon_export",r[0]),r.shift(),k),E[0],(r.unshift({name:E[71]}),k=_.HELPER("icon_export",r[0]),r.shift(),k),E[0],(r.unshift({name:E[244]}),k=_.HELPER("icon_export",r[0]),r.shift(),k),E[15],""].join(""),_r_(e)}function h(e){if(_i_("65cb:7497d00b"),e+=["",E[114]].join(""),_.MJ(_.MB(C[2]))||_.MJ(_.MB(C[29]))){if(_.MN("fe_classes","bui-review-score c-score"),_.MJ(_.MB(C[59]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--outline"),_.MJ(_.MB(C[60]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--end"),_.MJ(_.MB(C[61]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--inverse"),_.MJ(_.MB(C[62]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--inline"),_.MJ(_.MB(C[63]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--text"),_.MJ(_.MB(C[16]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--small"),_.MJ(_.MB(C[64]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--smaller"),_.MJ(_.MB(C[65]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--external"),_.MJ(_.MB(C[66]))&&_.MN("fe_classes",_.MB(C[58])+" bui-review-score--external-inline"),_.MJ(_.MB(C[29]))&&_.MN("fe_calc_score_formatted",0),_.MJ(_.MB(C[2]))&&_.MN("fe_calc_score_formatted",_.format_review_score_new(_.MB(C[2]))),_.MN("fe_can_show_adjective",_.MB(C[67])||_.MB(C[68])),_.MJ(_.MB(C[70]))){var t="";r.unshift({fe_hide_low_adjectives:_.MB(C[3]),fe_score:_.MB(C[2])}),t=function(e){if(_i_("65cb:48ed71d1"),_.MD(C[2])){var t="";_.MJ(1<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<2)&&(t+=_.ME(E[2],_.MB,_.MN,null)),_.MJ(2<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<3)&&(t+=_.ME(E[3],_.MB,_.MN,null)),_.MJ(3<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<4)&&(t+=_.ME(E[4],_.MB,_.MN,null)),_.MJ(4<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<5)&&(t+=_.ME(E[5],_.MB,_.MN,null)),_.MJ(5<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<6)&&(t+=_.ME(E[6],_.MB,_.MN,null)),_.MJ(6<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<7)&&(t+=_.ME(E[7],_.MB,_.MN,null)),_.MJ(7<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<8)&&(t+=_.ME(E[8],_.MB,_.MN,null)),_.MJ(8<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<8.6)&&(t+=_.ME(E[9],_.MB,_.MN,null)),_.MJ(8.6<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<9)&&(t+=_.ME(E[10],_.MB,_.MN,null)),_.MJ(9<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<9.5)&&(t+=_.ME(E[11],_.MB,_.MN,null)),_.MJ(9.5<=_.MB(C[2]))&&(t+=_.ME(E[12],_.MB,_.MN,null)),_.MN(C[1],t),_.MJ(_.MB(C[3]))&&_.MJ(_.MB(C[2])<7)&&_.MN(C[1],_.ME(E[13],_.MB,_.MN,null)),e+=[_.MC(C[1]),E[14]].join("")}return _.MN("fe_adjective",0),_.MN("fe_hide_low_adjectives",0),_.MN("fe_score",0),e+=E[15],_r_(e)}(t),r.shift(),_.MN(C[69],t),_.MJ(_.MB(C[68]))&&_.MN("fe_adjective_text",_.MB(C[68]))}e+=[E[29],_.F.entities(_.MC(C[58])),E[128],(r.unshift({review_score_number:_.MB(C[71])}),k=_.ME(E[129],_.MB,_.MN,null),r.shift(),k),E[130],_.F.entities(_.MC(C[71])),E[131]].join(""),_.MD(C[69])&&(e+=[E[132],_.MC(C[69]),E[131]].join(""),_.MD(C[73])&&(e+=E[29],e+=E[133],_.MJ(_.MB(C[65]))&&_.MJ(_.MB(C[72]))&&(e+=E[134]),e+=E[130],_.MD(C[65])?(e+=[(r.unshift({total_num_reviews:_.MI(_.MB(C[73]))+_.MI(0)}),k=_.ME(E[135],_.MB,_.MN,_.MO(_.MI(_.MC(C[73]))+_.MI(0),null,E[135])),r.shift(),k),E[114]].join(""),_.MJ(_.MB(C[72]))&&(e+=[(r.unshift({color:"#6B6B6B",name:E[136],size:E[137]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[114]].join(""))):e+=[(r.unshift({num_reviews:_.format_number(_.MB(C[73]))}),k=_.ME(E[138],_.MB,_.MN,_.MO(_.MI(_.MC(C[73]))+_.MI(0),null,E[138])),r.shift(),k),E[114]].join(""),e+=E[139]),e+=E[139]),e+=E[139]}return _.MN("fe_adjective_text",0),_.MN("fe_allow_zero",0),_.MN("fe_classes",0),_.MN("fe_custom_adjective",0),_.MN("fe_hide_low_adjectives",0),_.MN("fe_modifier_end",0),_.MN("fe_modifier_inline",0),_.MN("fe_modifier_inverse",0),_.MN("fe_modifier_outline",0),_.MN("fe_modifier_text",0),_.MN("fe_reviews_number",0),_.MN("fe_score",0),_.MN("fe_calc_score_formatted",0),_.MN("fe_show_adjective",0),_.MN("fe_show_external_review_info_icon",0),e+=["",E[114]].join(""),e+=E[15],_r_(e)}function p(e){return _i_("65cb:5813735b"),e+=["",E[22]].join(""),_.MD(C[14])&&(e+=[E[23],_.F.entities(_.MC(C[14])),E[24],_.ME(E[25],_.MB,_.MN,null),E[26]].join("")),e=function(e){_i_("65cb:19f1dce2"),e+=["",E[28]].join(""),r.unshift({fe_allow_zero:_.MB(C[29]),fe_avatar:_.MB(C[30]),fe_country_code:_.MB(C[31]),fe_country_name:_.MB(C[32]),fe_hide_flag:_.MB(C[27]),fe_name:_.MB(C[33]),fe_score:_.MB(C[4])}),e=l(e),r.shift(),e+=E[44],_.MD(C[37])&&(e+=E[1],r.unshift({fe_room_id:_.MB(C[35]),fe_room_name:_.MB(C[37]),fe_single_line:E[77]}),e=M(e),r.shift(),e+=E[0]);e+=E[78],_.MJ(_.MB(C[43]))&&(e+=[E[79],(r.unshift({name:E[80],size:E[54]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[81]].join(""),_.MN("fe_num_nights",_.MC(C[41])&&_.MC(C[41])[0]?_.MC(C[41])[0].b_nights:0),e+=E[82],_.MD(C[42])&&(e+=[E[83],(r.unshift({num:_.MB(C[42])}),k=_.ME(E[84],_.MB,_.MN,_.MO(_.MC(C[42]),null,E[84])),r.shift(),k),E[85]].join("")),e+=E[82],_.MJ(_.MC(C[39]))&&(e+=E[83],r.unshift({fe_date:_.MC(C[39])}),e=function(e){_i_("65cb:f693a8a3"),e+=[E[66],"",E[0]].join(""),_.MD(C[38])&&(e+=[E[67],_.MC(C[38]),E[68]].join(""));return e+=E[0],_.MN("fe_date",0),e+=[E[15],"",E[15]].join(""),_r_(e)}(e),r.shift(),e+=E[82]),e+=E[86]);e+=E[78],_.MN("fe_customer_type",_.MC(C[44])),e+=E[0],_.MJ(_.MC(C[45]))&&(e+=E[87],_.MJ(_.MC(C[45])+""=="group")||_.MJ(_.MC(C[45])+""=="with friends")||_.MJ(_.MC(C[45])+""=="colleagues")?e+=[E[88],(r.unshift({name:E[89],size:E[54]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[90],_.ME(E[91],_.MB,_.MN,null),E[92]].join(""):_.MJ(_.MC(C[45])+""=="young couple")||_.MJ(_.MC(C[45])+""=="mature couple")?e+=[E[88],(r.unshift({name:E[93],size:E[54]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[90],_.ME(E[94],_.MB,_.MN,null),E[92]].join(""):_.MJ(_.MC(C[45])+""=="solo traveller")?e+=[E[88],(r.unshift({name:E[95],size:E[54]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[90],_.ME(E[96],_.MB,_.MN,null),E[92]].join(""):(_.MJ(_.MC(C[45])+""=="family with young children")||_.MJ(_.MC(C[45])+""=="family with older children"))&&(e+=[E[88],(r.unshift({name:E[97],size:E[54]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[90],_.ME(E[98],_.MB,_.MN,null),E[92]].join("")),e+=E[99]);return e+=[E[46],"",E[15]].join(""),_r_(e)}(e+=E[27]),e+=E[100],r.unshift({fe_badge:_.MB(C[47])}),e=function(e){_i_("65cb:aa8f82cc"),e+=[E[66],"",E[0]].join(""),_.MJ(_.MB(C[46]))&&(e+=[E[101],(r.unshift({color:"#FFFFFF",name:E[102],width:E[103]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[104],_.MC(C[46]),E[68]].join(""));return e+=E[0],_.MN("fe_badge",0),e+=[E[15],"",E[15]].join(""),_r_(e)}(e),r.shift(),e+=E[105],_.MJ(_.MB(C[48]))&&(e+=E[83],r.unshift({fe_date:_.MB(C[48])}),e=w(e),r.shift(),e+=E[82]),e+=E[106],_.MD(C[54])&&(e+=E[107],_.MD(C[57])?(e+=E[108],r.unshift({fe_review_title:_.MB(C[54]),fe_review_title_lang:_.MB(C[49]),fe_review_title_translated:_.MB(C[56]),fe_review_title_translated_lang:_.MB(C[50]),fe_start_translated:_.MB(C[53]),fe_translatable:_.MB(C[57])})):(e+=E[108],r.unshift({fe_review_title:_.MB(C[54]),fe_review_title_lang:_.MB(C[49])})),e=f(e),r.shift(),e+=E[107],e+=E[126]),e+=E[127],r.unshift({fe_allow_zero:_.MB(C[29]),fe_score:_.MB(C[4]),fe_score_formatted:_.MB(C[74])}),e=h(e),r.shift(),e+=E[140],(_.MJ(_.MB(C[93]))||_.MJ(_.MB(C[96]))||_.MJ(_.MB(C[99])))&&(e+=E[141],_.MD(C[57])?(e+=E[126],r.unshift({fe_copy_show_original:_.MB(C[5]),fe_copy_show_translated:_.MB(C[6]),fe_copy_translated_by:_.MB(C[7]),fe_force_ltr:_.MB(C[77]),fe_force_rtl:_.MB(C[76]),fe_review_general:_.MB(C[99]),fe_review_general_translated:_.MB(C[101]),fe_review_lang:_.MB(C[81]),fe_review_negative:_.MB(C[96]),fe_review_negative_translated:_.MB(C[97]),fe_review_positive:_.MB(C[93]),fe_review_positive_translated:_.MB(C[94]),fe_review_url:_.MB(C[9]),fe_start_translated:_.MB(C[53]),fe_truncate:_.MB(C[86])}),e=a(e)):(e+=E[126],r.unshift({fe_force_ltr:_.MB(C[77]),fe_force_rtl:_.MB(C[76]),fe_review_general:_.MB(C[99]),fe_review_lang:_.MB(C[81]),fe_review_negative:_.MB(C[96]),fe_review_positive:_.MB(C[93]),fe_truncate:_.MB(C[86])}),e=o(e)),r.shift(),e+=E[83],e+=E[92]),e+=E[210],(_.MJ(_.MB(C[105]))||_.MJ(_.MB(C[104])))&&(e+=E[141],r.unshift({fe_destination_photos:_.MB(C[105]),fe_review_id:_.MB(C[117]),fe_uploaded_photos:_.MB(C[104])}),e=B(e),r.shift(),e+=E[92]),e+=E[210],_.MJ(_.MB(C[121]))&&(e+=E[141],r.unshift({fe_response:_.MB(C[121]),fe_response_title:_.MB(C[122]),fe_truncate:1}),e=m(e),r.shift(),e+=E[92]),e+=E[210],_.MK(_.MB(C[123]))&&(_.MJ(_.MB(C[105]))||_.MJ(_.MB(C[104])))&&(e=b(e+=E[82]),e+=E[121]),e+=E[210],_.MJ(_.MB(C[137]))&&_.MJ(_.MB(C[9]))&&(e+=E[245],r.unshift({fe_helpful_forward_feedback:E[77],fe_hotel_id:_.MB(C[137]),fe_review_url:_.MB(C[9])}),e=g(e),r.shift(),e+=E[92]),e+=[E[285],"",E[15]].join(""),_r_(e)}function m(e){return _i_("65cb:26f62f0e"),e+=[E[14],"",E[14]].join(""),_.MD(C[118])&&(_.MJ(_.MB(C[86]))&&_.MJ(60<_.MB(C[118]).toString().length)&&_.MN("fe_response_truncated",_.substr(_.MB(C[118]),0,60)),e+=E[232],_.MD(C[119])&&(e+=[E[233],(r.unshift({class:E[234],name:E[235]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[236],_.F.html(_.MC(C[119])),E[37]].join("")),e+=[E[237],_.F.html(_.MC(C[120])||_.MC(C[118])),E[14]].join(""),_.MD(C[120])&&(e+=E[238]),e+=E[39],_.MD(C[120])&&(e+=[E[239],_.F.html(_.MC(C[118])),E[240],_.ME(E[241],_.MB,_.MN,null),E[178]].join("")),e+=E[242]),e+=E[14],_.MN("fe_response",0),e+=E[14],_.MN("fe_response_title",0),e+=E[14],_.MN("fe_truncate",0),e+=E[14],_.MN("fe_response_truncated",0),e+=[E[14],"",E[14]].join(""),e+=E[15],_r_(e)}function M(e){return _i_("65cb:bcc5ae8d"),e+=[E[45],"",E[46]].join(""),_.MJ(_.MB(C[35]))&&_.MJ(_.MB(C[37]))&&(e+=E[47],_.MD(C[34])||(e+=E[48]),e+=[E[49],_.F.entities(_.MC(C[35])),E[50]].join(""),_.MD(C[34])?e+=[E[51],_.F.entities(_.MC(C[35])),E[52],(r.unshift({name:E[53],size:E[54]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[55],_.F.entities(_.MC(C[36])),E[56],_.F.entities(_.MC(C[37])),E[57]].join(""):(e+=[E[58],(r.unshift({color:"#6B6B6B",name:E[59],size:E[60]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[61],_.F.entities(_.MC(C[35])),E[62],(r.unshift({room_name:_.MB(C[37])}),k=_.ME(E[63],_.MB,_.MN,null),r.shift(),k),E[64]].join(""),_.MJ(_.MC(C[39]))&&(e+=E[65],r.unshift({fe_date:_.MC(C[39])}),e=v(e),r.shift(),e+=E[69]),e+=E[70],_.MD(C[40])?e+=[E[69],(r.unshift({color:"#BDBDBD",name:E[71],size:E[72]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[73]].join(""):e+=[E[69],(r.unshift({color:"#BDBDBD",name:E[74],size:E[72]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[73]].join(""),e+=E[75]),e+=E[76]),e+=E[15],_.MN("fe_room_id",0),e+=E[15],_.MN("fe_room_name",0),e+=[E[15],"",E[15]].join(""),_r_(e)}function v(e){return _i_("65cb:643aa65f"),e+=[E[66],"",E[0]].join(""),_.MD(C[38])&&(e+=[E[67],_.MC(C[38]),E[68]].join("")),e+=E[0],_.MN("fe_date",0),e+=[E[15],"",E[15]].join(""),_r_(e)}function g(e){var t,n;return _i_("65cb:9fbe1e5e"),e+=[E[66],"",E[0]].join(""),_.MJ(_.MB(C[9]))&&_.MJ(_.MB(C[137]))&&(e+=E[246],r.unshift({fe_helpful_forward_feedback:_.MB(C[135]),review_helpful_hotel_id:_.MB(C[137]),review_helpful_review_url:_.MB(C[9])}),e=function(e){if(_i_("65cb:84476a65"),e+=E[247],_.MK(_.MB(C[125]))&&(e+=E[248],_.MN("review_helpful_hotel_id",_.MC(C[124])),e+=E[15]),e+=E[247],_.MK(_.MB(C[127]))&&(e+=E[248],_.MN("review_helpful_review_url",_.MC(C[126])),e+=E[15]),e+=E[247],_.MK(_.MB(C[129]))&&(e+=E[248],_.MN("is_helpful_by_user",_.MC(C[128])&&_.MC(C[128]).helpful),e+=E[15]),e+=E[247],_.MK(_.MB(C[131]))&&(e+=E[248],_.MN("helpful_count",_.MC(C[130])),e+=E[249],_.MN("number_people",_.MC(C[130])),e+=E[15]),e+=E[45],_.MN("start_bold","<strong>"),e+=E[15],_.MN("end_bold","</strong>"),e+=E[15],_.MJ(_.MB(C[129]))&&_.MJ(_.MB(C[131])<=1))e+=E[249],_.MN("vote_feedback_message",_.MB(C[132])),e+=E[15];else if(_.MJ(_.MB(C[129]))&&_.MJ(1<_.MB(C[131]))){e+=E[250];var t="";t+=E[251],_.MN("number_people",_.MI(_.MB(C[134]))-_.MI(1)),t+=[E[251],_.VP(E[252],_.MO(_.MC(C[134]),null,E[252])),E[248]].join(""),_.MN(C[133],t),e+=E[15]}else _.MK(_.MB(C[129]))&&_.MJ(0<_.MB(C[131]))&&(e+=E[249],_.MN(C[133],[E[251],_.VP(E[253],_.MO(_.MC(C[134]),null,E[253])),E[248]].join("")),e+=E[15]);return e+=E[45],e+=E[254],e+=E[255],e+=E[256],e+=E[257],_.MJ(_.MB(C[125]))&&_.MJ(_.MB(C[127]))&&(e+=E[258],_.MD(C[135])&&(e+=E[259],_.MK(_.MB(C[133]))&&(e+=E[260]),e+=[E[261],_.MB(C[133]),E[262]].join("")),e+=[E[263],_.F.entities(_.MB(C[131])),E[264],_.F.entities(_.MB(C[125])),E[265],_.F.entities(_.MB(C[127])),E[266],(r.unshift({color:"#0071C2",name:E[267],size:E[137]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[121],_.MB(C[136]),E[268],_.F.entities(_.MB(C[125])),E[265],_.F.entities(_.MB(C[127])),E[269],(r.unshift({color:"#0071C2",name:E[270],size:E[137]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[121],_.ME(E[271],_.MB,_.MN,null),E[272]].join(""),_.MD(C[135])||(e+=E[273],_.MK(_.MB(C[133]))&&(e+=E[260]),e+=[E[215],_.MB(C[133]),E[274]].join("")),e+=E[275]),e+=E[45],_.MN("review_helpful_hotel_id",""),e+=E[15],_.MN("review_helpful_review_url",""),e+=E[15],_.MN("is_helpful_by_user",""),e+=E[15],_.MN("helpful_count",""),e+=E[15],_.MN("number_people",""),e+=E[15],_.MN("vote_feedback_message",""),e+=E[15],_r_(e)}(e),r.shift(),e+=E[276],n=e,_i_("65cb:de773d60"),n+=E[45],_.MN("show_review_feedback_form",_.MK(_.MB(C[138])&&_.MJ(_.MC(C[139])+""=="review_am"))&&_.MC(C[140])&&(_.MC(C[141])||_.MC(C[142]))),n+=E[46],n+=E[15],e=_r_(n),e+=E[121],t=e,_i_("65cb:a2b939ef"),t+=E[248],_.MJ(_.MB(C[147]))&&_.MK(_.MC(C[148]))&&_.MK(_.MJ(_.MC(C[149])+""=="msie")&&_.MJ(7==_.MC(C[150])))&&_.MJ(_.MC(C[151])==_.MC(C[152]))&&(t+=[E[277],_.MC(C[126]),E[278],_.F.entities(_.MC(C[124])),E[279],_.MB(C[143]),E[280],_.MB(C[144]),E[281],_.MB(C[145]),E[282],_.MB(C[146]),E[283]].join("")),t+=E[15],e=_r_(t),e+=E[284]),e+=E[0],_.MN("fe_hotel_id",0),e+=E[0],_.MN("fe_review_url",0),e+=E[0],_.MN("module_review_feedback",0),e+=[E[15],"",E[15]].join(""),_r_(e)}function w(e){return _i_("65cb:8376961b"),e+=[E[66],"",E[0]].join(""),_.MD(C[38])&&(e+=[E[67],_.MC(C[38]),E[68]].join("")),e+=E[0],_.MN("fe_date",0),e+=[E[15],"",E[15]].join(""),_r_(e)}function B(e){if(_i_("65cb:b1a0d485"),e+=[E[66],"",E[0]].join(""),_.MN("fe_total_photos",_.MI(_.array_length(_.MB(C[104])))+_.MI(_.array_length(_.MB(C[105])))),e+=E[0],_.MJ(0<_.MB(C[116]))){if(e+=E[1],_.MN("fe_displayed_counter",1),e+=E[1],_.MN("fe_max_thubmnails",4),e+=E[1],_.MN("fe_additional_class",""),e+=E[1],_.MJ(_.MC(C[92])+""=="mdot")&&(e+=E[109],_.MN("fe_additional_class","c-review-block__photos--mobile"),e+=E[1]),e+=[E[211],_.F.entities(_.MC(C[106])),E[212],_.F.entities(_.MC(C[9])),E[213]].join(""),_.MJ(_.MC(C[92])+""!="mdot")&&(e+=E[214]),e+=E[215],_.MD(C[104])){e+=E[121];var t=_.MC(C[104])||[];r.unshift(null);for(var n=1,i=t.length;n<=i;n++)r[0]=t[n-1],e+=E[216],_.MJ(_.MB(C[107])>_.MB(C[108]))&&(e+=E[217]),e+=[E[218],_.F.entities(_.MC(C[107])),E[219]].join(""),_.MJ(_.MC(C[92])+""=="www")?e+=_.F.entities(_.MC(C[109])):e+=_.F.entities(_.MC(C[110])),e+=[E[220],_.F.entities(_.MC(C[111])),E[221]].join(""),_.MD(C[113])?e+=[_.F.entities(_.MC(C[112])),E[222]].join(""):e+=[_.F.entities(_.MC(C[114])),E[223],_.F.entities(_.MC(C[114])),E[224],_.F.entities(_.MC(C[115])),E[225]].join(""),e+=E[226],_.MJ(_.MB(C[116])>_.MB(C[107]))&&_.MJ(_.MB(C[107])==_.MB(C[108]))&&(e+=[E[227],_.F.entities(_.MI(_.MC(C[116]))-_.MI(_.MC(C[107]))),E[228]].join("")),e+=E[229],_.MN("fe_displayed_counter",_.MI(_.MB(C[107]))+_.MI(1)),e+=E[121];r.shift(),e+=E[109]}if(e+=E[109],_.MD(C[105])){e+=E[121];t=_.MC(C[105])||[];r.unshift(null);for(n=1,i=t.length;n<=i;n++)r[0]=t[n-1],e+=E[216],_.MJ(_.MB(C[107])>_.MB(C[108]))&&(e+=E[217]),e+=[E[218],_.F.entities(_.MC(C[107])),E[219]].join(""),_.MJ(_.MC(C[92])+""=="www")?e+=_.F.entities(_.MC(C[109])):e+=_.F.entities(_.MC(C[110])),e+=[E[220],_.F.entities(_.MC(C[111])),E[221]].join(""),_.MD(C[113])?e+=[_.F.entities(_.MC(C[112])),E[222]].join(""):e+=[_.F.entities(_.MC(C[114])),E[223],_.F.entities(_.MC(C[114])),E[224],_.F.entities(_.MC(C[115])),E[225]].join(""),e+=E[226],_.MJ(_.MB(C[116])>_.MB(C[107]))&&_.MJ(_.MB(C[107])==_.MB(C[108]))&&(e+=[E[230],_.F.entities(_.MI(_.MC(C[116]))-_.MI(_.MC(C[107]))),E[228]].join("")),e+=E[229],_.MN("fe_displayed_counter",_.MI(_.MB(C[107]))+_.MI(1)),e+=E[121];r.shift(),e+=E[109]}e+=E[231]}return e+=E[0],_.MN("fe_destination_photos",0),e+=E[0],_.MN("fe_displayed_counter",0),e+=E[0],_.MN("fe_review_url",0),e+=E[0],_.MN("fe_total_photos",0),e+=E[0],_.MN("fe_uploaded_photos",0),e+=[E[15],"",E[15]].join(""),_r_(e)}if(i+=E[0],!_.MD(C[0])){i+=E[1];var y="";r.unshift({fe_score:_.MB(C[4])}),y=function(e){if(_i_("65cb:e66dcfcc"),_.MD(C[2])){var t="";_.MJ(1<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<2)&&(t+=_.ME(E[2],_.MB,_.MN,null)),_.MJ(2<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<3)&&(t+=_.ME(E[3],_.MB,_.MN,null)),_.MJ(3<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<4)&&(t+=_.ME(E[4],_.MB,_.MN,null)),_.MJ(4<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<5)&&(t+=_.ME(E[5],_.MB,_.MN,null)),_.MJ(5<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<6)&&(t+=_.ME(E[6],_.MB,_.MN,null)),_.MJ(6<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<7)&&(t+=_.ME(E[7],_.MB,_.MN,null)),_.MJ(7<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<8)&&(t+=_.ME(E[8],_.MB,_.MN,null)),_.MJ(8<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<8.6)&&(t+=_.ME(E[9],_.MB,_.MN,null)),_.MJ(8.6<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<9)&&(t+=_.ME(E[10],_.MB,_.MN,null)),_.MJ(9<=_.MB(C[2]))&&_.MJ(_.MB(C[2])<9.5)&&(t+=_.ME(E[11],_.MB,_.MN,null)),_.MJ(9.5<=_.MB(C[2]))&&(t+=_.ME(E[12],_.MB,_.MN,null)),_.MN(C[1],t),_.MJ(_.MB(C[3]))&&_.MJ(_.MB(C[2])<7)&&_.MN(C[1],_.ME(E[13],_.MB,_.MN,null)),e+=[_.MC(C[1]),E[14]].join("")}return _.MN("fe_adjective",0),_.MN("fe_hide_low_adjectives",0),_.MN("fe_score",0),e+=E[15],_r_(e)}(y),r.shift(),_.MN(C[0],y),i+=E[0]}return i+=E[0],_.MD(C[9])&&(i+=E[1],_.MN(C[5],_.ME(E[16],_.MB,_.MN,null)),i+=E[1],_.MN(C[6],_.ME(E[17],_.MB,_.MN,null)),i+=E[1],_.MN(C[7],(r.unshift({b_companyname:_.MB(C[8])}),k=_.ME(E[18],_.MB,_.MN,null),r.shift(),k)),i+=E[0]),i+=E[0],_.MN("fe_hide_flag",_.MJ(_.MB(C[10])+""=="cn")&&_.MJ(_.MC(C[11])+""=="tw")),i+=E[0],_.MN("fe_country_code",_.MJ(_.MB(C[12])+""=="tw")&&_.MK(_.MC(C[13]).taiwan_is_a_country)?0:_.MB(C[12])),i+=E[19],r.unshift({fe_guest_avatar:_.MB(C[164]),fe_guest_country:_.MB(C[28]),fe_guest_country_code:_.MB(C[12]),fe_guest_name:_.MB(C[33])?_.MB(C[33]):_.MB(C[165]),fe_hide_flag:_.MB(C[27]),fe_is_desktop_site:_.MB(C[154]),fe_jstmpl:E[77],fe_photos_review_url:_.MB(C[9]),fe_review_date:_.MB(C[48]),fe_review_negative:_.MB(C[96]),fe_review_negative_translated:_.MB(C[97]),fe_review_positive:_.MB(C[93]),fe_review_positive_translated:_.MB(C[94]),fe_review_score:_.MB(C[4]),fe_review_title:_.MB(C[0]),fe_review_title_lang:_.MB(C[81]),fe_review_title_translated:_.MB(C[166]),fe_review_url:_.MB(C[9]),fe_start_translated:_.MB(C[9])?1:0,fe_translatable:_.MB(C[9])?1:0,fe_uploaded_photos:_.MB(C[167])}),e=i,_i_("65cb:e554cf67"),e+=[E[20],"",E[21]].join(""),_.MJ(_.MC(C[153]))||_.MJ(_.MB(C[154]))?(e=p(e+=E[1]),e+=E[0]):(e+=E[286],_.MD(C[33])&&(e+=E[287],r.unshift({fe_allow_zero:_.MB(C[29]),fe_avatar:_.MB(C[30]),fe_country_code:_.MB(C[31]),fe_country_name:_.MB(C[32]),fe_hide_flag:_.MB(C[27]),fe_name:_.MB(C[33]),fe_score:_.MB(C[4])}),e=c(e),r.shift(),e+=E[290]),e+=E[291],(_.MJ(_.MB(C[54]))||_.MJ(_.MB(C[48])))&&(e+=E[287],r.unshift({fe_badge:_.MB(C[47])}),n=e,_i_("65cb:92628406"),n+=[E[66],"",E[0]].join(""),_.MJ(_.MB(C[46]))&&(n+=[E[101],(r.unshift({color:"#FFFFFF",name:E[102],width:E[103]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[104],_.MC(C[46]),E[68]].join("")),n+=E[0],_.MN("fe_badge",0),n+=[E[15],"",E[15]].join(""),e=_r_(n),r.shift(),e+=E[184],r.unshift({fe_date:_.MB(C[48])}),e=w(e),r.shift(),e+=E[105],_.MD(C[14])&&(e+=[E[292],_.F.entities(_.MC(C[14])),E[293],_.ME(E[25],_.MB,_.MN,null),E[294]].join("")),e+=E[184],_.MD(C[57])?(e+=E[83],r.unshift({fe_review_title:_.MB(C[54]),fe_review_title_lang:_.MB(C[49]),fe_review_title_size:_.MB(C[52]),fe_review_title_translated:_.MB(C[56]),fe_review_title_translated_lang:_.MB(C[50]),fe_start_translated:_.MB(C[53]),fe_translatable:_.MB(C[57])})):(e+=E[83],r.unshift({fe_review_title:_.MB(C[54]),fe_review_title_lang:_.MB(C[49])})),e=f(e),r.shift(),e+=E[82],e+=E[290]),e+=E[291],(_.MJ(_.MB(C[93]))||_.MJ(_.MB(C[96]))||_.MJ(_.MB(C[99])))&&(e+=E[287],_.MD(C[57])?(e+=E[83],r.unshift({fe_copy_show_original:_.MB(C[5]),fe_copy_show_translated:_.MB(C[6]),fe_copy_translated_by:_.MB(C[7]),fe_data_type:_.MB(C[80]),fe_force_ltr:_.MB(C[77]),fe_force_rtl:_.MB(C[76]),fe_review_general:_.MB(C[99]),fe_review_general_translated:_.MB(C[101]),fe_review_lang:_.MB(C[81]),fe_review_negative:_.MB(C[96]),fe_review_negative_translated:_.MB(C[97]),fe_review_positive:_.MB(C[93]),fe_review_positive_translated:_.MB(C[94]),fe_review_url:_.MB(C[9]),fe_start_translated:_.MB(C[53]),fe_truncate:_.MB(C[86])}),e=a(e)):(e+=E[83],r.unshift({fe_force_ltr:_.MB(C[77]),fe_force_rtl:_.MB(C[76]),fe_review_general:_.MB(C[99]),fe_review_lang:_.MB(C[81]),fe_review_negative:_.MB(C[96]),fe_review_positive:_.MB(C[93]),fe_truncate:_.MB(C[86])}),e=o(e)),r.shift(),e+=E[82],e+=E[290]),e+=E[295],(_.MJ(_.MB(C[105]))||_.MJ(_.MB(C[104])))&&(e+=E[287],r.unshift({fe_destination_photos:_.MB(C[105]),fe_review_url:_.MB(C[158]),fe_uploaded_photos:_.MB(C[104])}),e=B(e),r.shift(),e+=E[290]),e+=E[296],_.MD(C[162])&&(e+=E[287],r.unshift({fe_guest_stay_date:_.MB(C[43]),fe_room_id:_.MB(C[35]),fe_room_name:_.MB(C[37]),fe_stay_customer_type:_.MB(C[161])}),t=e,_i_("65cb:a6cc0cd6"),t+=["",E[46]].join(""),(_.MJ(_.MB(C[37]))||_.MJ(_.MB(C[43]))||_.MJ(_.MB(C[161])))&&(t+=E[297],_.MD(C[37])&&(t+=[E[298],_.F.entities(_.MC(C[35])),E[299],(r.unshift({name:E[53],size:E[137]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[300],_.F.entities(_.MC(C[37])),E[301]].join("")),t+=E[302],_.MD(C[43])&&(t+=[E[303],(r.unshift({name:E[80],size:E[137]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[304]].join(""),_.MN("fe_num_nights",_.MC(C[41])&&_.MC(C[41])[0]?_.MC(C[41])[0].b_nights:0),t+=E[305],_.MD(C[42])&&(t+=[E[107],(r.unshift({num:_.MB(C[42])}),k=_.ME(E[84],_.MB,_.MN,_.MO(_.MC(C[42]),null,E[84])),r.shift(),k),E[306]].join("")),t+=E[126],_.MJ(_.MC(C[39]))&&(t+=E[107],r.unshift({fe_date:_.MC(C[39])}),t=v(t),r.shift(),t+=E[126]),t+=E[307]),t+=E[302],_.MD(C[161])&&(t+=E[82],_.MN(C[159],void 0),t+=E[82],_.MN(C[160],void 0),t+=E[82],_.MJ(_.MC(C[45])+""=="group")||_.MJ(_.MC(C[45])+""=="with friends")||_.MJ(_.MC(C[45])+""=="colleagues")?(t+=E[83],_.MN(C[159],E[89]),t+=E[83],_.MN(C[160],_.ME(E[91],_.MB,_.MN,null)),t+=E[82]):_.MJ(_.MC(C[45])+""=="young couple")||_.MJ(_.MC(C[45])+""=="mature couple")?(t+=E[83],_.MN(C[159],E[93]),t+=E[83],_.MN(C[160],_.ME(E[94],_.MB,_.MN,null)),t+=E[82]):_.MJ(_.MC(C[45])+""=="solo traveller")?(t+=E[83],_.MN(C[159],E[95]),t+=E[83],_.MN(C[160],_.ME(E[96],_.MB,_.MN,null)),t+=E[82]):(_.MJ(_.MC(C[45])+""=="family with young children")||_.MJ(_.MC(C[45])+""=="family with older children"))&&(t+=E[83],_.MN(C[159],E[97]),t+=E[83],_.MN(C[160],_.ME(E[98],_.MB,_.MN,null)),t+=E[82]),t+=E[82],_.MJ(_.MB(C[159]))&&_.MJ(_.MB(C[160]))&&(t+=[E[308],(r.unshift({name:_.MB(C[159]),size:E[137]}),k=_.HELPER("icon",r[0]),r.shift(),k),E[300],_.F.entities(_.MC(C[160])),E[309]].join("")),t+=E[121]),t+=E[310]),t+=E[46],_.MN("fe_guest_stay_date",0),t+=E[15],_.MN("fe_room_id",0),t+=E[15],_.MN("fe_room_name",0),t+=E[15],_.MN("fe_stay_customer_type",0),t+=[E[15],"",E[15]].join(""),e=_r_(t),r.shift(),e+=E[290]),e+=E[291],_.MJ(_.MB(C[121]))&&(e+=E[287],r.unshift({fe_response:_.MB(C[121]),fe_response_title:_.MB(C[122]),fe_truncate:1}),e=m(e),r.shift(),e+=E[290]),e+=E[295],_.MK(_.MB(C[123]))&&(_.MJ(_.MB(C[105]))||_.MJ(_.MB(C[104])))&&(e=b(e+=E[121]),e+=E[109]),e+=E[296],_.MJ(_.MB(C[37]))&&_.MK(_.MB(C[162]))&&(e+=E[121],r.unshift({fe_room_id:_.MB(C[35]),fe_room_name:_.MB(C[37])}),e=M(e),r.shift(),e+=E[109]),e+=E[311],_.MJ(_.MB(C[137]))&&_.MJ(_.MB(C[9]))&&_.MK(_.MB(C[163]))&&(e+=E[312],r.unshift({fe_hotel_id:_.MB(C[137]),fe_review_url:_.MB(C[9])}),e=g(e),r.shift(),e+=E[290]),e+=E[313]),e+=E[0],_.MN("fe_allow_zero",0),e+=E[0],_.MN("fe_destination_photos",0),e+=E[0],_.MN("fe_force_ltr",0),e+=E[0],_.MN("fe_force_rtl",0),e+=E[0],_.MN("fe_guest_avatar",0),e+=E[0],_.MN("fe_guest_badge",0),e+=E[0],_.MN("fe_guest_country",0),e+=E[0],_.MN("fe_guest_country_code",0),e+=E[0],_.MN("fe_guest_name",0),e+=E[0],_.MN("fe_guest_stay_date",0),e+=E[0],_.MN("fe_hotel_id",0),e+=E[0],_.MN("fe_jstmpl",0),e+=E[0],_.MN("fe_review_date",0),e+=E[0],_.MN("fe_review_general",0),e+=E[0],_.MN("fe_review_general_translated",0),e+=E[0],_.MN("fe_review_is_rtl",0),e+=E[0],_.MN("fe_review_negative",0),e+=E[0],_.MN("fe_review_negative_translated",0),e+=E[0],_.MN("fe_review_positive",0),e+=E[0],_.MN("fe_review_positive_translated",0),e+=E[0],_.MN("fe_review_response",0),e+=E[0],_.MN("fe_review_response_title",0),e+=E[0],_.MN("fe_review_response_truncate",0),e+=E[0],_.MN("fe_review_score",0),e+=E[0],_.MN("fe_review_subscores",0),e+=E[0],_.MN("fe_review_title",0),e+=E[0],_.MN("fe_review_truncate",0),e+=E[0],_.MN("fe_review_url",0),e+=E[0],_.MN("fe_photos_review_url",0),e+=E[0],_.MN("fe_start_translated",0),e+=E[0],_.MN("fe_translatable",0),e+=E[0],_.MN("fe_uploaded_photos",0),e+=E[0],_.MN("fe_review_title_lang",0),e+=E[0],_.MN("fe_review_title_translated_lang",0),e+=E[0],_.MN("fe_review_lang",0),e+=E[0],_.MN("fe_visitor_cc1",0),e+=E[0],_.MN("fe_content_accuracy_url",0),e+=E[0],_.MN("fe_is_desktop_site",0),e+=[E[15],"",E[15]].join(""),i=_r_(e),r.shift(),i+=E[275],_r_(i)})}()),B.define("component/ugc/featured-reviews-carousel",function(e,t,n){_i_("65cb:446b6446");var i=e("component"),r=e("events");n.exports=i.extend({init:function(){_i_("65cb:e89c2c91"),window.BUI.createInstance("Carousel",this.el,{onAfterNavigate:function(){_i_("65cb:f8295160"),r.emit("featured-reviews-carousel:navigate"),_r_()}}).mount(),_r_()}}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:71a1606f");var t=e("with-capla"),n=e("persistent-view");t("property-web","property-page",function(e){_i_("65cb:e1dafe98");var t=e.eventBus;t.subscribe("CAPLA_EVENT_property-web-property-page_ON_READ_ALL_REVIEWS_MOBILE_CLICKED",function(){_i_("65cb:560d8783"),$(".js-review-tab-link").length&&$(".js-review-tab-link")[0].click(),_r_()}),t.subscribe("CAPLA_EVENT_property-web-property-page_REVIEW_TAB_HP_MOBILE_CLOSED",function(){if(_i_("65cb:52545bef"),window.history.state&&0<window.history.state.step)n.back(-1);else{var e=n.current;n.replaceWith(n.defaultView),n.push(e),n.back(-1)}_r_()}),_r_()})(),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:45a53acb");var t=e("event-bus"),n=e("with-capla");"htReviews"===e("tabbed-nav").current()?n("property-web","property-page",function(e){_i_("65cb:ac6e703e"),e.eventBus.publish("CAPLA_EVENT_property-web-property-page_OPEN_REVIEWS_TAB"),_r_()})():t.on(B.eventNames.HP_REVIEWS_TAB_OPENED,function(){_i_("65cb:13c4f5fd"),n("property-web","property-page",function(e){_i_("65cb:ff130294"),e.eventBus.publish("CAPLA_EVENT_property-web-property-page_OPEN_REVIEWS_TAB"),_r_()})(),_r_()}),_r_()}),B.define("ugc/behavior-tracker",function(e,t,n){_i_("65cb:1f1bddf2");var r=e("jquery"),_=e("c360Tracker"),a=e("report-error");n.exports={fields:{REVIEW_SUMMARY:"travel_product_review_summary",PRODUCT_TYPE:"travel_product_type",PRODUCT_ID:"travel_product_id",REVIEW_NUMBER:"review_number",REVIEW_SCORE:"review_score",SORT_VALUE:"sort_value",FILTER_NAME:"filter_name",FILTER_VALUES:"filter_values",PAGE_NUMBER:"page_number",SHOWN_TOPICS_ORDER:"shown_topics_order",INPUT_VALUE:"input_value"},trackBehavior:function(e,t,n){if(_i_("65cb:ee6cb6af"),!e||!t)return a("[ugc/behavior-tracker] Action name and version is required!"),_r_(!1);var i={action_name:e,action_version:t,content:n};return _r_(_.track(i))},trackOnClick:function(e,t,n,i){_i_("65cb:082d0bde"),r(e).on("click",function(){_i_("65cb:bc3ba571"),this.trackBehavior(t,n,i),_r_()}.bind(this)),_r_()}},_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:0ca8b374");var i=e("ugc/behavior-tracker"),t=e("events"),n=e("event-bus"),r=function(){_i_("65cb:2e34e526");var e={};return e[i.fields.PRODUCT_TYPE]="accommodation",e[i.fields.PRODUCT_ID]=B.env.b_hotel_id||"0",e[i.fields.REVIEW_NUMBER]=B.env.b_review_nr?parseInt(B.env.b_review_nr):0,e[i.fields.REVIEW_SCORE]=B.env.b_review_score_detailed?parseFloat(B.env.b_review_score_detailed):0,_r_(e)}();function _(){_i_("65cb:4e128121");var n=[];return document.querySelector(".js-review-topics").querySelectorAll(":scope label > input").forEach(function(e){_i_("65cb:a2cbffdf");var t=Number(e.dataset.categoryId);t&&n.push(t),_r_()}),_r_(n)}function a(){_i_("65cb:88a11caa");var e={};return e[i.fields.REVIEW_SUMMARY]=r,_r_(e)}function o(){_i_("65cb:59726583");var n={},e=Array.from(arguments);if(!e||0===e.length)return _r_(n);return e.forEach(function(e){_i_("65cb:dc4ce7b9");var t=r[e];t&&(e===i.fields.PRODUCT_ID?n[e]=parseInt(t):n[e]=t),_r_()}),_r_(n)}i.trackOnClick(".js-hp-header-review-cta","ugc__hp_top_bar_review_cta_clicked","0.1.x",a()),i.trackOnClick("#featured-reviews .review-block-cta","ugc__hp_review_block_footer_clicked","0.1.x",o(i.fields.PRODUCT_TYPE,i.fields.PRODUCT_ID)),i.trackOnClick("#featured-reviews  .js-toggle-score-breakdown","ugc__hp_review_block_expand_summary_clicked","1.0.x",o(i.fields.PRODUCT_TYPE,i.fields.PRODUCT_ID)),n.on(B.eventNames.HP_REVIEWS_TAB_OPENED,function(){_i_("65cb:13223912"),i.trackBehavior("ugc__reviewlist_opened","1.0.x",a()),_r_()}),t.on("featured-reviews-carousel:navigate",function(){_i_("65cb:eb0a1654"),i.trackBehavior("ugc__hp_review_block_carousel_clicked","0.1.x",o(i.fields.PRODUCT_TYPE,i.fields.PRODUCT_ID)),_r_()}),t.on("m_reviewlist:sort:changed",function(e){_i_("65cb:afad68a7");var t=o(i.fields.PRODUCT_TYPE,i.fields.PRODUCT_ID);t[i.fields.SORT_VALUE]=e.value,i.trackBehavior("ugc__reviewlist_sort_used","0.1.x",t),_r_()}),t.on("m_reviewlist:filter:changed",function(e){_i_("65cb:4fa55cb6");var t=o(i.fields.PRODUCT_TYPE,i.fields.PRODUCT_ID);t[i.fields.FILTER_NAME]=e.name,t[i.fields.FILTER_VALUES]=e.values,t[i.fields.SHOWN_TOPICS_ORDER]=_(),i.trackBehavior("ugc__reviewlist_filter_used","1.0.x",t),_r_()}),t.on("m_reviewlist:page:changed",function(e){_i_("65cb:c5d66b0c");var t=o(i.fields.PRODUCT_TYPE,i.fields.PRODUCT_ID);t[i.fields.PAGE_NUMBER]=e.value,i.trackBehavior("ugc__reviewlist_pagination_used","0.1.x",t),_r_()}),t.on("m_reviewlist:free_text_filter:used",function(e){if(_i_("65cb:16dfb873"),e.input_value.length){var t={};t[i.fields.INPUT_VALUE]=e.input_value,i.trackBehavior("ugc__reviewlist_free_text_filter_used","1.0.x",t)}_r_()}),$(document).on("click","#reviews-filters-search-toggler",function(){_i_("65cb:cdddb35d");var e=o(i.fields.PRODUCT_TYPE,i.fields.PRODUCT_ID);e[i.fields.SHOWN_TOPICS_ORDER]=_(),i.trackBehavior("ugc__reviewlist_topics_magnifying_glass_clicked","1.0.x",e),_r_()}),_r_()}),function(a){"use strict";_i_("65cb:2167f9f2"),a.require(["require"],function(e){_i_("65cb:68b1ec7f");var t=e("jquery"),n=e("persistent-view"),i=!!+a.env.fe_new_selection_cart,r=t("#hotel-photos");if(0===r.length&&(r=t("#bigHotelPhoto")),r.length&&i&&2!==Number(a.env.fe_new_selection_cart)){var _=r.offset().top;t(window).on("scroll",function(){_i_("65cb:acfc4b97");var e=t(".c-selection_cart");window.scrollY<_||n&&0===n.getCurrent().indexOf("room_")?e.hide():e.show(),_r_()})}_r_()}),_r_()}(booking),B.define("component/clipboard",function(e,t,n){_i_("65cb:730c721c");var i=e("component"),r=e("read-data-options"),_=e("events");n.exports=i.extend({init:function(){_i_("65cb:5550f143"),this.optionsSpec=this.optionsSpec||{},this.optionsSpec=$.extend(this.optionsSpec,{text:{name:"text",type:String}}),this.options=r(this.$el,this.optionsSpec),this.$el.on("click",".js-copy",this.copyText.bind(this,this.options.text)),_r_()},copyText:function(e){_i_("65cb:f87fa8b3");var t=B.env.b_lang_rtl,n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="fixed",n.style[t?"right":"left"]="-9999px",n.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",n.setAttribute("readonly",""),n.value=this.options.text,document.body.appendChild(n),$(n).select(),n.setSelectionRange&&n.setSelectionRange(0,9999),this.execCopyText(),$(n).remove(),_r_()},execCopyText:function(){var t;_i_("65cb:250ad4fe");try{t=document.execCommand("copy")}catch(e){t=!1}this.handleResult(t),_r_()},handleResult:function(e){_i_("65cb:b53c3a09"),this.$el.toggleClass("-success",e),this.$el.toggleClass("-error",!e),_.emit("CLIPBOARD.copy_"+(e?"success":"error")),_r_()}}),_r_()}),function(e,t){_i_("65cb:0c93924c");var n=e.env.b_has_valid_dates?"#new_rooms_table_2":"#roomstable_nodates",i=e.require("server-data");e.et.on("view",n).goal("rt_onview"),203==+i.b_accommodationtype_id&&e.et.on("view",n).goal("hostel_rt_onview"),e.require("core/utils/onview").run(t(n),function(){_i_("65cb:70989d2b"),t.ajax({method:"POST",dataType:"json",url:"/hotel_rt_onview",data:{hotel_id:e.env.b_hotel_id,has_valid_dates:e.env.b_has_valid_dates}}),_r_()}),_r_()}(B,jQuery),function(e){"use strict";_i_("65cb:04c9d9be");var t=e.require("events"),n=e.require("et");t.on(t.EVENTS.RT_ROOM_EXPAND,function(e){if(_i_("65cb:b388c5a5"),e&&e.fullpage&&e.fullpage.$container){var t=e.fullpage.$container.find(".inline-feedback_room-missing-facilities");n.on("view",t).goal("mdot_rp_facilities_survey_on_view")}_r_()}),_r_()}(window.booking),B.when({events:"ready"}).run(function(e){_i_("65cb:4d8d7c09");var i=e("jquery"),n=e("server-data"),u=e("hotel/store"),f=e("hotel/roomstable/actions"),r=e("events"),_=e("hotel/roomstable").RT,b={blocks:null,rfpFlag:null,totalRooms:0,compareArrs:function(e,n){_i_("65cb:b3b53fe0"),e=e.sort(),n=n.sort();var t=e.length==n.length&&e.every(function(e,t){return _i_("65cb:31a78011"),_r_(e===n[t])});return _r_(t)},sendData:function(e){if(_i_("65cb:5204f05a"),!("b_hotel_id"in n))return _r_();var t=Object.keys(e);i.ajax({url:"/intent_to_book_blocks",method:"POST",data:{hotel_id:n.b_hotel_id,block_ids:t.join(",")}}).then(function(){}),_r_()},storeChange:function(){_i_("65cb:ee399cd2");var t=u.getState().roomsTable.selection.blocks,e=u.getState().roomsTable.selection.totalRooms,n=u.getState().roomsTable.isLoading,i=Object.keys(t),r=Object.keys(b.blocks),_=b.compareArrs(i,r),a=u.getState().roomsTable.roomPage.isVisible,o=b.rfpFlag,s={};if(b.rfpFlag=a,1<e&&"bbasic_"!==Object.keys(t)[0]&&!n&&b.totalRooms!==e){t=u.getState().roomsTable.selection.blocks;var c=Object.keys(t),l={};for(var d in t)l[d]=t[d].count;u.dispatch(f.calculateTotalPrice(c,l))}if(b.totalRooms=e,a||!a&&o)return _r_();Object.keys(t).length||(_=!0),Object.keys(t).forEach(function(e){_i_("65cb:f4c20424"),e in b.blocks&&b.blocks[e].count===t[e].count||(_=!0),s[e]=t[e].count,_r_()}),b.blocks=Object.assign({},t),_&&b.sendData(s),_r_()},kickstart:function(){_i_("65cb:b0ccec8a"),b.blocks=Object.assign({},u.getState().roomsTable.selection.blocks),b.rfpFlag=u.getState().roomsTable.roomPage.isVisible,u.subscribe(b.storeChange),i(".rt_card--highlight").on("click",function(e){_i_("65cb:5981b088"),e.preventDefault();var t=i(this).siblings(".room.room_info_cta").data("block-id");if(!t)return _r_();if(u.getState().roomsTable.selection.blocks[t])return _r_();var n=_.room(t);r.emit(r.EVENTS.RT_ROOM_SELECT,{$room:n.$room}),u.dispatch(f.addSelection(t)),_r_()}),_r_()}};b.kickstart(),_r_()}),B.define("hotel/roomstable/upsort-matched",function(e,t,n){"use strict";_i_("65cb:f7b4f35c");var i=e("event-bus");n.exports={init:function(){_i_("65cb:1a99f3ab");var e="hotel"===B.env.b_action&&B.env.b_has_valid_dates_not_in_past&&B.env.b_hotel_blocks,l="db-card__room-minimised";if(!e)return _r_();i.on(B.eventNames.RT_FILTER_APPLY,function(e,t){_i_("65cb:c9047acf");var n,i,r,_=$(".db-card__room").not(".db-card__room-sold-out"),a=$(".js-room_position");$(".active-non-matching-banner").remove(),(i=t.$displayedRooms.closest(".db-card__room:not(.wholesalers_card_wrapper)").toArray()).sort(function(e,t){return _i_("65cb:48702f4a"),_r_(Number($(e).find(".room.room_info_cta").data("position"))-Number($(t).find(".room.room_info_cta").data("position")))}),r=_.not(i).not(".wholesalers_card_wrapper:not(."+l+")").toArray(),n=i.concat(r),$(".db-card__room.wholesalers_card_wrapper:not(."+l+")").each(function(e,t){_i_("65cb:baa1776e"),n.unshift(t),_r_()});for(var o=0;o<n.length;o++){var s=$(n[o]),c=a.get(o);s.insertAfter(c)}_r_()}),_r_()}},_r_()}),B.when({action:"hotel",events:"ready",condition:function(e){return _i_("65cb:fe06f7bf"),_r_(e.b_has_group_recommendation)}}).run(function(e){_i_("65cb:98b2d292");var t=e("event-bus"),n=t.EVENTS,i=e("et");t.on(n.RECO_SELECT,function(){_i_("65cb:ab93d3c8"),i.goal("hp_reco_block_select"),_r_()}),t.on(n.RECO_UNSELECT,function(){_i_("65cb:383526d2"),i.goal("hp_reco_block_deselect"),_r_()}),_r_()}),B.define("watcher",function(e,t,n){"use strict";_i_("65cb:04598cf31");var f=e("jquery"),r=e("utils/throttled"),b=[],h=[];function i(t,e,n){_i_("65cb:fadcf08b1");var i=b.filter(function(e){return _i_("65cb:d8f694c22"),_r_(e.el===t&&e.parent===n)})[0];if(!i)return _r_();var r=h.filter(function(e){return _i_("65cb:9d4e9b452"),_r_(e.el===n)})[0];if(e){var _=i.conditions.indexOf(e);i.conditions.splice(_,1),i.checks.splice(_,1),0===i.checks.length&&r.children.splice(r.children.indexOf(i),1)}else r.children.splice(r.children.indexOf(i),1);0===r.children.length&&(f(i.parent).off("resize scroll",r.handler),h.splice(h.indexOf(r),1)),_r_()}function _(_,t,a,o,s){_i_("65cb:2b4917031");var c=f(_),l=f(t),d=s&&"function"==typeof s,u=t===window,e=function(){_i_("65cb:2391de691");var e=c.offset().top,t=c.innerHeight(),n={top:e,bottom:e+t,height:t},i=u?window.pageYOffset:l.offset().top,r=u?l.height():l.innerHeight();a(n,{top:i,bottom:i+r,height:r})?o(_):d&&s(_),_r_()},n=b.filter(function(e){return _i_("65cb:d8f694c23"),_r_(e.el===_&&e.parent===t)})[0];n?(n.conditions.push(a),n.checks.push(e)):(n={el:_,parent:t,conditions:[a],checks:[e]},b.push(n));var i=h.filter(function(e){return _i_("65cb:9d4e9b453"),_r_(e.el===t)})[0];i?i.children.push(n):(i={el:t,children:[n],handler:r(function(){_i_("65cb:3ef8b0391"),i.children.forEach(function(e){_i_("65cb:fa0590ce1"),e.checks.forEach(function(e){_i_("65cb:0af2e9441"),e(),_r_()}),_r_()}),_r_()},150)},h.push(i),l.on("resize scroll",i.handler)),e(),_r_()}return _r_({conditions:{isInViewport:function(e,t){return _i_("65cb:b78d60b61"),_r_(e.top<=t.bottom&&e.bottom>=t.top)},isFullyInViewport:function(e,t){return _i_("65cb:74e6c26e1"),_r_(e.bottom<=t.bottom&&e.top>=t.top)},isOutOfViewport:function(e,t){return _i_("65cb:a70bfd921"),_r_(e.top>t.bottom||e.bottom<t.top)},isCloseToOrInViewport:function(e,t){return _i_("65cb:08d1ea981"),t.bottom+=t.height/2,t.top-=t.height/2,_r_(e.top<=t.bottom&&e.bottom>=t.top)},isPartiallyInViewport:function(e,t){return _i_("65cb:43d0faf81"),t.bottom+=t.height/2,t.top-=t.height/2,_r_(e.top>=t.top&&e.top<=t.bottom||e.bottom>=t.top&&e.bottom<=t.bottom)}},unwatch:function(e,t,n){_i_("65cb:7ec0c4c11"),n=n instanceof f?n[0]:n||window,e instanceof f?e.each(function(){_i_("65cb:cdfeb4df1"),i(this,t,n),_r_()}):i(e,t,n),_r_()},watch:function(i,r){return _i_("65cb:bed8bf4e1"),_r_({when:function(n){return _i_("65cb:4a13cbc21"),r=r instanceof f?r[0]:r||window,_r_({then:function(e,t){if(_i_("65cb:c0457ca31"),i instanceof f)i.each(function(){_i_("65cb:d244cd941"),_(this,r,n,e,t),_r_()});else{if(!(i instanceof Node))throw new TypeError("invalid element provided to watcher");_(i,r,n,e,t)}_r_()}})}})}})}),B.define("search-config",["tmpl_data","event-emitter"],function(t,n,i){"use strict";function r(e){if(_i_("65cb:e7f2ca2d"),!(this instanceof r))return _r_(new r(e));this.adults=Number(e.b_adults)||0,this.children=Number(e.b_children)||0,this.childrenAges=this.children?e.b_children_ages.map(Number):[],this.order=Number(e.b_room_order),_r_()}function _(e){_i_("65cb:90281b16"),e===i&&(e=t("b_search_config")||window.__be_data__&&window.__be_data__.b_search_config),e?this._set(e):(this.isDefault=!0,this.isGroupSearch=!1,this.adults=2,this.children=0,this.rooms=[r({b_adults:2,b_children:0,b_children_ages:[],b_room_order:1})],this.childrenAges=[],this.tripLeg="roundtrip",this.travelClass="",this.infants=0),n.extend(this),_r_()}return _i_("65cb:e92bb476"),r.prototype.toString=function(){_i_("65cb:961d1e29");for(var e=[],t=0;t<this.adults;t++)e.push("A");return e=e.concat(this.childrenAges),_r_(e.join(","))},_.prototype._set=function(e){_i_("65cb:722ff569"),e.b_rooms||(e.b_rooms=[]),this.isDefault=!1,this.isGroupSearch=Boolean(Number(e.b_is_group_search)),this.adults=Number(e.b_adults_total),this.children=Number(e.b_children_total)||0,this.infants=Number(e.b_infants_total)||0,this.pets=Number(e.b_pets_total)||0,this.rooms=e.b_rooms.map(r),this.childrenAges=this.rooms.reduce(function(e,t){return _i_("65cb:3ec3ada4"),_r_(e.concat(t.childrenAges))},[]),0==this.rooms.length&&0<this.children&&e.b_children_ages_total&&(this.childrenAges=e.b_children_ages_total),B.env&&B.env.search_box_keep_children_ages_order||this.childrenAges.sort(),this.travelClass=e.travel_class?e.travel_class:"",this.tripLeg=e.trip_leg?e.trip_leg:"roundtrip",_r_()},_.prototype.set=function(e){_i_("65cb:ac19c19f"),this._set(e),this.emit("change"),_r_()},_.prototype.toArray=function(e){return _i_("65cb:ad251652"),_r_(e?new _(e).toArray():this.rooms.map(Function.prototype.call,r.prototype.toString))},_.prototype.toObject=function(e){return _i_("65cb:4783e94e"),_r_(this.toArray(e).reduce(function(e,t,n){return _i_("65cb:074a9374"),e["room"+(n+1)]=t,_r_(e)},{}))},_.prototype.getRawValue=function(){return _i_("65cb:548cb758"),_r_({b_adults_total:this.adults,b_nr_rooms_needed:this.rooms.length,b_children_total:this.children,b_children_ages_total:this.childrenAges,b_is_group_search:this.isGroupSearch?1:0,b_pets_total:this.pets,b_rooms:this.rooms.map(function(e){_i_("65cb:ae9e70ac");var t={b_adults:e.adults,b_room_order:e.order};return e.children&&(t.b_children=e.children,t.b_children_ages=e.childrenAges),_r_(t)})})},_r_(new _)}),booking.jstmpl("media_card_carousel_helper_review_one_liner",function(){_i_("65cb:8639016c");var i=["\n    ","&nbsp;","\n"],r=["carousel_item"];return _r_(function(e){_i_("65cb:29816d14");var t="",n=this.fn;return t+=[i[0],n.F.entities((n.MC(r[0])||{}).b_review_score),i[1],n.F.entities((n.MC(r[0])||{}).b_review_title),i[2]].join(""),_r_(t)})}()),booking.jstmpl("media_card_carousel_helper_footer_show_more",function(){_i_("65cb:1222563e");var i=['\n    <span class="bui-link">',"/private/m_sxp_sr_country_carousel_cta/name","</span>\n"];return _r_(function(e){_i_("65cb:bde66dc91");var t="",n=this.fn;return t+=[i[0],n.ME(i[1],n.MB,n.MN,null),i[2]].join(""),_r_(t)})}()),booking.jstmpl("media_card_carousel",function(){_i_("65cb:fdf6661b");var o,s=["\n",'<div role="region" class="bui-carousel bui-carousel--',"large"," c-media-card-carousel--title-clamp",' bui-u-bleed@small" data-bui-component="Carousel"><ul class="bui-carousel__inner" data-bui-ref="carousel-container">',"",'<li class="bui-carousel__item c-media-card-carousel__carousel-item" data-bui-ref="carousel-item">','<a href="','" class="bui-card bui-card--media bui-card--transparent" data-id="','" ',' target="_blank" '," >",'<div data-id="','" class="bui-card bui-card--media bui-card--transparent" >','<div class="bui-card__image-container c-media-card-carousel__image-container"><img class="bui-card__image c-media-card-carousel__image" src="','"></div>','<div class="bui-card__content">','<header class="c-media-card-carousel__carousel-item-header"><h3 class="bui-card__title bui-f-font-strong">',"</h3>",'<h4 class="bui-card__subtitle">',"</h4>",'</header><div class="c-media-card-carousel__carousel-item-content">',"</div>",'<footer class="c-media-card-carousel__carousel-item-footer">',"</footer>","</a>","</li>",'</ul><div class="bui-carousel__nav"><button type="button" class="bui-carousel__button" data-bui-ref="carousel-prev" aria-label="">',"bui-carousel__prev","iconset/navarrow_left","presentation","32",'</button><button type="button" class="bui-carousel__button" data-bui-ref="carousel-next" aria-label="">',"bui-carousel__next","iconset/navarrow_right","</button></div></div>"],c=["size","titleClamp","carousel_data","fe_carousel_item_url","fe_carousel_item_id","open_in_new_tab","fe_carousel_item_photo_url","fe_carousel_item_name","show_more_item"];return _r_(function(e){_i_("65cb:0de89d3e");var t="",n=this.fn;t+=s[0],t+=s[1],n.MD(c[0])?t+=n.F.entities(n.MC(c[0])):t+=s[2],n.MD(c[1])&&(t+=s[3]),t+=s[4];var i=n.MC(c[2])||[];e.unshift({carousel_item:null});for(var r,_=1,a=i.length;_<=a;_++)e[0].carousel_item=r=i[_-1],t+=s[5],n.MN("fe_carousel_item_url",r.url||r.b_url),t+=s[5],n.MN("fe_carousel_item_id",r.id||r.b_id),t+=s[5],n.MN("fe_carousel_item_photo_url",r.photo_url||r.b_photo_url),t+=s[5],n.MN("fe_carousel_item_name",r.name||r.b_name),t+=s[6],n.MD(c[3])?(t+=[s[7],n.F.entities(n.MC(c[3])),s[8],n.F.entities(n.MC(c[4])),s[9]].join(""),n.MD(c[5])&&(t+=s[10]),t+=s[11]):t+=[s[12],n.F.entities(n.MC(c[4])),s[13]].join(""),t+=s[5],n.MD(c[6])&&(t+=[s[14],n.STATIC_HOSTNAME(n.MB(c[6]),0,0,0,0),s[15]].join("")),t+=s[16],n.MJ(n.MG((r||{}).before_title))&&(t+=[s[5],(r||{}).before_title,s[5]].join("")),t+=[s[17],n.F.entities(n.MC(c[7])),s[18]].join(""),n.MJ(n.MG((r||{}).subtitle))&&(t+=[s[19],(r||{}).subtitle,s[20]].join("")),t+=s[21],n.MJ(n.MG((r||{}).content))&&(t+=[s[5],(r||{}).content,s[5]].join("")),t+=s[22],n.MJ(n.MG((r||{}).footer))&&(t+=[s[23],(r||{}).footer,s[24]].join("")),t+=s[22],n.MD(c[3])?t+=s[25]:t+=s[22],t+=s[26];return e.shift(),t+=s[5],n.MD(c[8])&&(t+=[s[6],n.MC(c[8]),s[26]].join("")),t+=[s[27],(e.unshift({class:s[28],name:s[29],role:s[30],width:s[31]}),o=n.HELPER("icon",e[0]),e.shift(),o),s[32],(e.unshift({class:s[33],name:s[34],role:s[30],width:s[31]}),o=n.HELPER("icon",e[0]),e.shift(),o),s[35]].join(""),t+=s[0],_r_(t)})}()),B.define("component/media-card-carousel",function(r,e,t){_i_("65cb:b5b27f47");var n,i=r("component"),_=r("et"),a=r("jquery"),o=r("jstmpl"),s=r("server-data"),c=r("read-data-options");if("mdot"===s.b_site_type){var l=s.b_search_config||{};n={nr_rooms_needed:l.b_nr_rooms_needed,adults_total:l.b_adults_total,children_total:l.b_children_total,children_ages_total:l.b_children_ages_total&&l.b_children_ages_total.join(",")}}else if("www"===s.b_site_type){l=r("search-config");n={nr_rooms_needed:l.rooms?l.rooms.length:1,adults_total:l.adults,children_total:l.children,children_ages_total:l.childrenAges&&l.childrenAges.join(",")}}var d=s.b_ufi,u=s.b_checkin_date,f=s.b_checkout_date,b=s.b_selected_currency||s.b_currency_code||s.b_derived_currency||(s.b_selected_currency_is_hotel_currency?"hotel_currency":void 0),h=s.b_dest_id,p=s.b_dest_type,m=i.extend({init:function(e){_i_("65cb:110d907f"),this.options=e||c(this.$el,{action:{name:"action",type:String,defaultValue:""},manualLoad:{name:"manual-load",type:Boolean,defaultValue:!1},beforeTitleTmpl:{name:"before-title-tmpl",type:String,defaultValue:""},subtitleTmpl:{name:"subtitle-tmpl",type:String,defaultValue:""},contentTmpl:{name:"content-tmpl",type:String,defaultValue:""},footerTmpl:{name:"footer-tmpl",type:String,defaultValue:""},showMoreTmpl:{name:"show-more-tmpl",type:String,defaultValue:""},type:{name:"type",type:Number,defaultValue:void 0},version:{name:"version",type:Number,defaultValue:void 0},filterAggregates:{name:"fa",type:String,defaultValue:""},forBusiness:{name:"business",type:Boolean,defaultValue:!1},actionAdditionalParams:{name:"action-additional-params",type:String,defaultValue:void 0},size:{name:"size",type:String,defaultValue:"large"},dismissible:{name:"dismissible",type:String,defaultValue:""},openInNewTab:{name:"open-in-new-tab",type:Boolean,defaultValue:!1},onItemClick:{name:"on-item-click",type:String,defaultValue:""},onPrevClick:{name:"on-prev-click",type:String,defaultValue:""},onNextClick:{name:"on-next-click",type:String,defaultValue:""},titleClamp:{name:"clamp-card-title",type:Boolean,defaultValue:!1},priceFooter:{name:"price-footer",type:Boolean,defaultValue:!1}}),this.options.actionAdditionalParams&&this.setAdditionalRequestParams(this._parseActionAdditionalParams(this.options.actionAdditionalParams)),this.$carouselContainer=this.$el.find("[data-carousel-container]"),this.options.manualLoad||this.load(),_r_()},setAdditionalRequestParams:function(e){_i_("65cb:ad2eaafc"),this.additionalRequestParams=e,_r_()},setOnLoadCallback:function(e){_i_("65cb:a484cc39"),this.onLoadCallback=e,_r_()},setLoadedDataTransformer:function(e){_i_("65cb:18ac44d6"),this.loadedDataTransformer=e,_r_()},setOnInitCallback:function(e){_i_("65cb:fb59663e"),this.onInitCallback=e,_r_()},abortRequest:function(){_i_("65cb:61274dd7"),this.loadRequest&&this.loadRequest.abort(),_r_()},onRequestFail:function(){_i_("65cb:bd0194ab"),this.$el.remove(),_r_()},load:function(){if(_i_("65cb:7e19590f"),this.loaded)return _r_();this.loaded=!0,this.loadRequest=a.post(this.options.action||"/acid_carousel",Object.assign({dest_id:h,dest_type:p,ufi:d,checkin:u,checkout:f,currency:b,filter_aggregates:this.options.filterAggregates,sb_travel_purpose:this.forBusiness?"business":"leisure",version:this.options.version,type:this.options.type,carousel_type:this.options.type},n,this.additionalRequestParams)),this.loadRequest.then(function(e){_i_("65cb:2e3366ab"),this.loadedDataTransformer&&(e=this.loadedDataTransformer(e)),this.$el.removeClass("c-media-card-carousel--hidden"),this.onLoadCallback&&this.onLoadCallback(e),this.initComponents(e),_r_()}.bind(this)).fail(function(e,t,n){_i_("65cb:899185c4"),this.onRequestFail(e,t,n),_r_()}.bind(this)),_r_()},reload:function(){_i_("65cb:7e585039"),this.loaded=!1,this.load(),_r_()},initComponents:function(e){_i_("65cb:7d6538fa");var t,n=(e=e||{}).b_hotels||e.data||e.acid_cards;if(!n||!n.length)return this.onRequestFail(),_r_();if(this.template=o("media_card_carousel"),(this.options.beforeTitleTmpl||this.options.subtitleTmpl||this.options.contentTmpl||this.options.footerTmpl)&&n.forEach(function(e){_i_("65cb:24ab601d"),this.options.beforeTitleTmpl&&(e.before_title=o(this.options.beforeTitleTmpl).render({carousel_item:e})),this.options.subtitleTmpl&&(e.subtitle=o(this.options.subtitleTmpl).render({carousel_item:e})),this.options.contentTmpl&&(e.content=o(this.options.contentTmpl).render({carousel_item:e,priceFooter:this.options.priceFooter})),this.options.footerTmpl&&(e.footer=o(this.options.footerTmpl).render({carousel_item:e,priceFooter:this.options.priceFooter})),_r_()}.bind(this)),this.options.showMoreTmpl&&(t=o(this.options.showMoreTmpl).render({data:e})),this.$carouselContainer.html(this.template.render({version:this.options.version,type:this.options.type,carousel_data:n,show_more_item:t,size:this.options.size,open_in_new_tab:this.options.openInNewTab,titleClamp:this.options.titleClamp})),e.b_show_more_url||e.show_more_url){var i="data-show-more-link";void 0!==e.show_more_details_button_show_in_header&&(i=e.show_more_details_button_show_in_header?"data-carousel-show-more-header":"data-carousel-show-more-footer"),a(this.$el.find("["+i+"]")).attr("href",e.b_show_more_url||e.show_more_url).show()}(e.b_title||e.title)&&this.$el.find(".c-media-card-carousel__title-text").html(e.b_title||e.title),this.$el.removeClass("c-media-card-carousel--animate-title"),window.BUI.initComponents(this.$el.get(0)),this._initHandlers(),this.onInitCallback&&this.onInitCallback(e),_r_()},_initHandlers:function(){if(_i_("65cb:aa7bdbcc"),45===this.options.type&&this.$el.on("click","li[data-index]",function(e){_i_("65cb:b4fd5285");var t=a(e.currentTarget).data("index");_.goalWithValue("js_mdotvalue_pp_carousel_card_click",t),_r_()}),this.options.onItemClick&&this._initOnClickTracking('[data-bui-ref="carousel-item"]',this.options.onItemClick),this.options.onPrevClick&&this._initOnClickTracking('[data-bui-ref="carousel-prev"]',this.options.onPrevClick),this.options.onNextClick&&this._initOnClickTracking('[data-bui-ref="carousel-next"]',this.options.onNextClick),this.options.dismissible){var e=r("dismiss-item");this.$el.find(".bui-banner__close").on("click",function(){_i_("65cb:37bc1eef"),e(this.options.dismissible),_r_()}.bind(this))}_r_()},_initOnClickTracking:function(e,t){_i_("65cb:fb1975ae");var n=r("et"),i=t.split(",");this.$el.on("click",e,function e(){_i_("65cb:a537c57e"),i.forEach(function(e){_i_("65cb:a2f8a909"),e=e.split(":"),n.customGoal(e[0],e[1]),_r_()}),this.$el.unbind("click",e),_r_()}.bind(this)),_r_()},_parseActionAdditionalParams:function(e){return _i_("65cb:457577ca"),_r_((e=e||"").split("|").map(function(e){_i_("65cb:8aae5f5f");var t=(e||"").split("=");return _r_([t[0],t.slice(1).join("=")])}).reduce(function(e,t){return _i_("65cb:c384affa"),t&&t[0]&&(e[t[0]]=t[1]),_r_(e)},{}))}});t.exports=m,_r_()}),booking.jstmpl("property_carousel_before_title_tmpl",function(){_i_("65cb:9c06e69e");var o,s=["\n","",'<div class="c-property-carousel__before-header">',"\n\n\n","\n    ","\n\n","\n\n\n\n"," \n",'\n\n<span\n    class="',"bh-quality-bars bh-quality-bars--"," ",'"\n    ','\n    data-bui-component="Popover"\n    data-popover-position="bottom"\n    data-popover-content-id="bhqc_explanation_popover"\n    ','\n    data-bui-component="Tooltip"\n        ','\n        title="',"/private/bhqc_sr_qc_desc_tooltip_affiliate/name",'"\n        ',"/private/bh_sr_quality_explanationv3/name",'\n        data-tooltip-position="bottom"\n    ','data-et-click="','"','data-et-mouseenter="',"\n>\n    ","iconset/square_rating","\n\n    ",'\n        <span style="margin: ',"0 0 0 ","0 "," 0 0",';">\n            ',"streamline/question_mark_circle","smaller","\n        </span>\n    ","\n</span>\n\n","medium","c-property-carousel__class-rating","\n\n\n\n\n\n\n\n","\n\n\n\n\n\n\n\n\n    \n    ","\n\n    \n    ",".5","\n        ","5","\n\n    \n    \n    \n    ","\n         ",'\n         <div class="',"china_stars_categories ","ms-china-stars-categories",'">\n            ','\n                \n                <span class="china_stars_categories_title">',"</span>\n            ","\n\n            \n            ","sprite/ratings_circles_","_half",'\n\n            <i class="\n                bk-icon-wrapper\n                zhcn-ratings\n                ',"\n                ","jq_tooltip ratings_stars_tooltip","ms-title-stars",'\n                "\n                title="','"\n            >',"true","1","false","</i>\n\n        </div>\n\n    \n    \n    \n    ","\n\n        ","/5","\n            ","\n\n        \n        ",'\n\n        <i class="\n            bk-icon-wrapper\n            ','\n            "\n            title="','"\n            ','\n                data-toponly="true"\n            ',"\n        >",'\n            <span class="invisible_spoken">',"</span>","\n        </i>\n        \n        \n        \n        ",'\n            <span data-bui-component="Tooltip" title="','" style="margin: ',"; position: relative; top: ","-2px","-4px",';">\n                ',"\n            </span>\n        ","\n\n    \n    \n    \n    \n    ","\n            \n            ","sprite/ratings_stars_",'\n            <i\n                class="\n                    bk-icon-wrapper\n                    bk-icon-stars\n                    ',"\n                    ","\n                    star_track",'\n                    "\n                title="','"\n                ','\n                    rel="300"\n                    data-toponly="true"\n                ',"\n            >\n                ",'\n                    <span class="invisible_spoken">',"\n            </i>\n    ","\n\n            ","small","</div>"],c=["carousel_item","fe_bar_size","fe_icon_width","fe_custom_classes","fe_show_extended_tooltip","fe_bar_level","fe_is_affiliate","fe_companyname","fe_site_type","fe_no_tooltip","fe_click_tracking","fe_mouseenter_tracking","fe_icon_height","fe_icon_size","b_lang_is_rtl","cc1","b_cc1","b_countrycode","b_common_cc1","b_booker_cc1","b_hotel_cc1","b_common_class_is_estimated","ip_country","b_locale","b_action","fe_show_estimated_rating","fe_show_rating_tooltip","decimal_halfstar","rating_score","b_common_class","b_common_class_half","b_common_rating_score_localized","fe_small_stars","fe_large_stars","b_user_auth_level","b_site_type","fe_nostar_rating_stars","b_lang","rating_icon__path","star_rating_dots_tooltip_zhcn","fe_rating_symbols_height","fe_china_estimated_rating","rating_score_pure","fe_estimated_rating_tooltip_text","fe_estimated_tooltip","sr_unofficial_star_or_dot_rating_tooltip","fe_style_rating_tooltip","star_rating_text","sr_star_property","b_accommodationtype_id","star_rating_1_half","star_rating_1","star_rating_2_half","star_rating_2","star_rating_3_half","star_rating_3","star_rating_4_half","star_rating_4","star_rating_5","sr_official_star_rating_tooltip","b_common_stars_type","sr_star_rating_tooltip_legal","b_guest_country","loc_star_rating_color","loc_star_rating_tracking","b_bh_quality_class","fe_class_on_map","b_companyname","b_site_info","class","class_is_estimated"];return _r_(function(r){_i_("65cb:92f2aba9");var e="",_=this.fn;function a(e){_i_("65cb:643c313b"),e+=["",s[3]].join(""),_.MJ(/\d+/.test(_.MB(c[1])))&&(e+=s[4],_.MN("fe_icon_width",_.MB(c[1])),e+=s[4],_.MN("fe_icon_height",_.MB(c[1])),e+=s[0]),e+=s[5],_.MK(_.MB(c[1]))&&(e+=s[4],_.MN("fe_bar_size","medium"),e+=s[0]),e+=s[6],_.MJ(_.MB(c[1])+""=="small")?(e+=s[4],_.MN("fe_icon_size","smaller"),e+=s[7]):_.MJ(_.MB(c[1])+""=="large")?(e+=s[4],_.MN("fe_icon_size","medium"),e+=s[7]):_.MK(_.MB(c[2]))&&(e+=s[4],_.MN("fe_icon_size","small"),e+=s[7]),e+=s[8],e+=[s[9],_.F.entities(_.MC(c[1])),s[10],_.F.entities(_.MC(c[3])),s[1]].join(""),e+=s[11],_.MK(_.MJ(_.MB(c[8])+""=="mdot")||_.MB(c[9]))&&(e+=s[4],_.MD(c[4])?e+=s[12]:(e+=s[13],_.MD(c[6])?e+=[s[14],(r.unshift({num_rating:_.MB(c[5])}),o=_.ME(s[15],_.MB,_.MN,null),r.shift(),o),s[16]].join(""):e+=[s[14],(r.unshift({b_companyname:_.MB(c[7]),end_bold:"</strong>",start_bold:"<strong>"}),o=_.ME(s[17],_.MB,_.MN,null),r.shift(),o),s[16]].join(""),e+=s[18]),e+=s[4]),e+=s[4],_.MD(c[10])&&(e+=[s[19],_.F.entities(_.MC(c[10])),s[20]].join("")),e+=s[4],_.MD(c[11])&&(e+=[s[21],_.F.entities(_.MC(c[11])),s[20]].join("")),e+=s[22];var t=_.seq(1,_.MB(c[5]))||[];r.unshift(null);for(var n=1,i=t.length;n<=i;n++)r[0]=t[n-1],e+=[(r.unshift({color:"#FEBB02",height:_.MB(c[12]),name:s[23],size:_.MB(c[13]),width:_.MB(c[2])}),o=_.HELPER("icon",r[0]),r.shift(),o),s[1]].join("");return r.shift(),e+=s[24],_.MD(c[4])&&(e+=s[25],_.MD(c[14])?e+=[s[26],_.F.entities("4px")].join(""):e+=[s[27],_.F.entities("4px"),s[28]].join(""),e+=[s[29],(r.unshift({color:"#6B6B6B",name:s[30],size:s[31]}),o=_.HELPER("icon",r[0]),r.shift(),o),s[32]].join("")),e+=[s[33],"",s[0]].join(""),_r_(e)}function t(e){_i_("65cb:122a73b6"),e+=["",s[3]].join(""),_.MJ(/\d+/.test(_.MB(c[1])))&&(e+=s[4],_.MN("fe_icon_width",_.MB(c[1])),e+=s[4],_.MN("fe_icon_height",_.MB(c[1])),e+=s[0]),e+=s[5],_.MK(_.MB(c[1]))&&(e+=s[4],_.MN("fe_bar_size","medium"),e+=s[0]),e+=s[6],_.MJ(_.MB(c[1])+""=="small")?(e+=s[4],_.MN("fe_icon_size","smaller"),e+=s[7]):_.MJ(_.MB(c[1])+""=="large")?(e+=s[4],_.MN("fe_icon_size","medium"),e+=s[7]):_.MK(_.MB(c[2]))&&(e+=s[4],_.MN("fe_icon_size","small"),e+=s[7]),e+=s[8],e+=[s[9],_.F.entities(_.MC(c[1])),s[10],_.F.entities(_.MC(c[3])),s[1]].join(""),e+=s[11],_.MK(_.MJ(_.MB(c[8])+""=="mdot")||_.MB(c[9]))&&(e+=s[4],_.MD(c[4])?e+=s[12]:(e+=s[13],_.MD(c[6])?e+=[s[14],(r.unshift({num_rating:_.MB(c[5])}),o=_.ME(s[15],_.MB,_.MN,null),r.shift(),o),s[16]].join(""):e+=[s[14],(r.unshift({b_companyname:_.MB(c[7]),end_bold:"</strong>",start_bold:"<strong>"}),o=_.ME(s[17],_.MB,_.MN,null),r.shift(),o),s[16]].join(""),e+=s[18]),e+=s[4]),e+=s[4],_.MD(c[10])&&(e+=[s[19],_.F.entities(_.MC(c[10])),s[20]].join("")),e+=s[4],_.MD(c[11])&&(e+=[s[21],_.F.entities(_.MC(c[11])),s[20]].join("")),e+=s[22];var t=_.seq(1,_.MB(c[5]))||[];r.unshift(null);for(var n=1,i=t.length;n<=i;n++)r[0]=t[n-1],e+=[(r.unshift({color:"#FEBB02",height:_.MB(c[12]),name:s[23],size:_.MB(c[13]),width:_.MB(c[2])}),o=_.HELPER("icon",r[0]),r.shift(),o),s[1]].join("");return r.shift(),e+=s[24],_.MD(c[4])&&(e+=s[25],_.MD(c[14])?e+=[s[26],_.F.entities("4px")].join(""):e+=[s[27],_.F.entities("4px"),s[28]].join(""),e+=[s[29],(r.unshift({color:"#6B6B6B",name:s[30],size:s[31]}),o=_.HELPER("icon",r[0]),r.shift(),o),s[32]].join("")),e+=[s[33],"",s[0]].join(""),_r_(e)}if(e+=s[0],e+=s[1],_.MJ(_.MC(c[0]).accommodation_type)||_.MJ(_.MC(c[0]).quality_and_class)||_.MJ(_.MC(c[0]).class)){if(e+=s[2],_.MJ(_.MG((_.MC(c[0])||{}).accommodation_type))&&(e+=[s[1],_.F.entities((_.MC(c[0])||{}).accommodation_type),s[1]].join("")),e+=s[1],_.MJ(_.MG((_.MC(c[0])||{}).quality_and_class))){e+=s[1];var n={fe_bar_level:_.MG((_.MC(c[0])||{}).quality_and_class),fe_bar_size:s[34],fe_custom_classes:s[35],fe_no_tooltip:1},i=r;(r=_.SV([{},{}])).unshift(n),e=t(e),r=_.SV(i),e+=s[1]}else if(_.MJ(_.defined(_.MC(c[0]).b_accommodation_classification_rating_data))&&_.MJ(_.defined(_.MC(c[0]).b_accommodation_classification_rating_data.type))&&_.MJ(_.MC(c[0]).b_accommodation_classification_rating_data.type+""=="tiles")){e+=s[1];n={fe_bar_level:_.MG(((_.MC(c[0])||{}).b_accommodation_classification_rating_data||{}).rating),fe_bar_size:s[34],fe_custom_classes:s[35],fe_no_tooltip:1},i=r;(r=_.SV([{},{}])).unshift(n),e=t(e),r=_.SV(i),e+=s[1]}else _.MJ(_.MG((_.MC(c[0])||{}).class))&&(e+=s[1],_.MN("class",_.MG((_.MC(c[0])||{}).class)),e+=s[1],_.MN("class_is_estimated",_.MG((_.MC(c[0])||{}).class_is_estimated)),e+=s[1],_.MN("cc1",_.MG((_.MC(c[0])||{}).cc1)),e+=s[1],_.MD(c[69])&&(e+=s[1],r.unshift({b_common_cc1:_.MB(c[15]),b_common_class:_.MB(c[69]),b_common_class_is_estimated:_.MB(c[70]),fe_custom_classes:s[35]}),e=function(e){if(_i_("65cb:d70bedf5"),e+=["",s[36]].join(""),_.MJ(_.MC(c[29]))&&_.MJ(0<_.MC(c[29]))){e+=s[37],_.MN("fe_china_estimated_rating",_.MJ(_.MB(c[15])+""=="cn")||_.MJ(_.MC(c[16])+""=="cn")||_.MJ(_.MC(c[17])+""=="cn")||_.MJ(_.MC(c[18])+""=="cn")||_.MJ(_.MC(c[19])+""=="cn")&&_.MJ(_.MC(c[20])+""=="cn")),e+=s[38],_.MN("fe_show_estimated_rating",_.MJ(/^ph$/.test(_.MC(c[18])))||_.MC(c[21])&&_.MJ(/^de|ru|fr|be$/.test(_.MC(c[18])))||_.MJ(_.MB(c[22])+""=="us")&&_.MJ(_.MC(c[23])+""=="en-us")&&_.MJ(_.MC(c[24])+""!="confirmationmg")),e+=s[38],_.MN("fe_show_rating_tooltip",(_.MJ(_.MC(c[18])+""=="de")||_.MB(c[25])&&_.MJ(!/^fr|be$/.test(_.MC(c[18]))))&&_.MJ(/^searchresults|hotel$/.test(_.MC(c[24])))),e+=s[38],_.MN("fe_style_rating_tooltip",_.MB(c[26])&&_.MJ(_.MC(c[24])+""=="searchresults")),e+=s[24],_.MN(c[27],s[39]),e+=s[4];var t="";t+=_.F.entities(parseInt(_.MC(c[29]))),_.MD(c[30])&&(t+=_.F.entities(_.MB(c[27]))),_.MN(c[28],t),e+=s[38],_.MD(c[31])?(e+=s[40],_.MN(c[28],_.MC(c[31]))):(_.MJ(5==_.MB(c[28]))||_.MJ(5.5==_.MB(c[28])))&&_.MJ(_.MC(c[30]))?(e+=s[40],_.MN(c[28],s[41])):(e+=s[40],_.MN(c[28],_.format_number_decimal(_.MB(c[28])))),e+=s[4],e+=s[38],_.MD(c[32])?(e+=s[40],_.MN("fe_rating_symbols_height","8")):_.MD(c[33])?(e+=s[40],_.MN("fe_rating_symbols_height","13")):(e+=s[40],_.MN("fe_rating_symbols_height","10")),e+=s[4],e+=s[42],_.MD(c[41])?(e+=s[43],_.MN("fe_nostar_rating_stars","{nostar_rating_filter_"+_.MC(c[29])+"}"),e+=s[44],e+=s[45],_.MJ(_.MC(c[34]))&&_.MJ(_.MC(c[35])+""=="www")&&_.MJ(_.MC(c[24])+""=="mywishlist")&&(e+=s[46]),e+=s[47],_.MJ(_.MB(c[36]))&&_.MJ(_.MC(c[37])+""=="zh")&&(e+=[s[48],_.MB(c[36]),s[49]].join("")),e+=s[50],t="",t+=[s[51],parseInt(_.MC(c[29]))].join(""),_.MJ(_.MC(c[30]))&&_.MJ(parseInt(_.MC(c[29]))<5)&&(t+=s[52]),_.MN(c[38],t),e+=s[53],_.MD(c[3])&&(e+=_.F.entities(_.MC(c[3]))),e+=s[54],_.MD(c[39])&&(e+=s[55]),e+=s[54],_.MJ(_.MC(c[34]))&&_.MJ(_.MC(c[35])+""=="www")&&_.MJ(_.MC(c[24])+""=="mywishlist")&&(e+=s[56]),e+=[s[57],_.F.html(_.MB(c[39])),s[58]].join(""),e+=(r.unshift({"aria-hidden":s[59],critical:s[60],focusable:s[61],height:_.MB(c[40]),name:_.MB(c[38])}),o=_.HELPER("icon",r[0]),r.shift(),o),e+=s[62]):_.MJ(_.MB(c[25]))?(e+=s[63],_.MN(c[42],_.F.entities(_.MB(c[28]))),e+=s[40],_.MN(c[28],[_.F.entities(_.MB(c[28])),s[64]].join("")),e+=s[63],(_.MJ(_.MB(c[26]))||_.MJ(_.MB(c[44])))&&(e+=s[65],_.MD(c[44])?(e+=s[54],_.MN(c[43],_.MC(c[44]))):(e+=s[54],_.MN(c[43],_.MB(c[45]))),e+=s[65],e+=s[40]),e+=s[66],t="",t+=[s[51],parseInt(_.MC(c[29]))].join(""),_.MJ(_.MC(c[30]))&&_.MJ(parseInt(_.MC(c[29]))<5)&&(t+=s[52]),_.MN(c[38],t),e+=s[67],_.MD(c[3])&&(e+=_.F.entities(_.MC(c[3]))),e+=s[65],(_.MJ(_.MB(c[46]))||_.MJ(_.MC(c[24])+""=="searchresults")&&_.MJ(_.MB(c[44])))&&(e+=s[55]),e+=s[65],_.MJ(_.MC(c[34]))&&_.MJ(_.MC(c[35])+""=="www")&&_.MJ(_.MC(c[24])+""=="mywishlist")&&(e+=s[56]),e+=[s[68],_.MB(c[43]),s[69]].join(""),_.MJ(_.MC(c[24])+""=="searchresults")&&(e+=s[70]),e+=s[71],e+=[(r.unshift({"aria-hidden":s[59],critical:s[60],focusable:s[61],height:_.MB(c[40]),name:_.MB(c[38])}),o=_.HELPER("icon",r[0]),r.shift(),o),s[72],_.MB(c[43]),s[73]].join(""),e+=s[74],_.MJ(_.MB(c[26]))&&_.MJ(_.MB(c[22])+""=="de")&&_.MJ(_.MC(c[18])+""=="de")&&_.MJ(_.MC(c[35])+""=="www")&&(_.MJ(_.MC(c[24])+""=="searchresults")||_.MJ(_.MC(c[24])+""=="hotel"))&&(e+=[s[75],_.F.entities(_.MC(c[43])),s[76]].join(""),_.MD(c[14])?e+=[s[26],_.F.entities("4px")].join(""):e+=[s[27],_.F.entities("4px"),s[28]].join(""),e+=s[77],_.MJ(_.MC(c[24])+""=="hotel")?e+=s[78]:e+=s[79],e+=[s[80],(r.unshift({color:"#6B6B6B",name:s[30],size:s[31]}),o=_.HELPER("icon",r[0]),r.shift(),o),s[81]].join("")),e+=s[82]):(e+=s[40],_.MJ(204!=_.MC(c[49]))?(e+=s[83],_.MN(c[47],_.MB(c[48]))):(e+=s[65],t="",_.MJ(1==_.MC(c[29]))?_.MD(c[30])?t+=_.MB(c[50]):t+=_.MB(c[51]):_.MJ(2==_.MC(c[29]))?_.MD(c[30])?t+=_.MB(c[52]):t+=_.MB(c[53]):_.MJ(3==_.MC(c[29]))?_.MD(c[30])?t+=_.MB(c[54]):t+=_.MB(c[55]):_.MJ(4==_.MC(c[29]))?_.MD(c[30])?t+=_.MB(c[56]):t+=_.MB(c[57]):_.MJ(5==_.MC(c[29]))&&(t+=_.MB(c[58])),_.MN(c[47],t)),e+=s[40],e+=s[63],_.MD(c[26])&&(e+=s[65],_.MN(c[47],_.MB(c[59])),e+=s[40]),e+=s[63],_.MN(c[60],_.MC(c[60])||"4"),e+=s[66],_.MJ(_.MC(c[62])+""=="nl")&&_.MJ(_.MC(c[35])+""=="www")&&(_.MJ(_.MC(c[24])+""=="searchresults")||_.MJ(_.MC(c[24])+""=="hotel"))&&(e+=s[65],_.MN("fe_style_rating_tooltip",1),e+=s[65],_.MN("star_rating_text",_.MB(c[61])),e+=s[40]),e+=s[66],t="",t+=[s[84],parseInt(_.MC(c[29]))].join(""),_.MJ(_.MC(c[30]))&&_.MJ(parseInt(_.MC(c[29]))<5)&&(t+=s[52]),_.MN(c[38],t),e+=s[85],_.MD(c[3])&&(e+=_.F.entities(_.MC(c[3]))),e+=s[86],_.MD(c[46])&&(e+=s[55]),e+=[s[87],_.MB(c[63]),s[86]].join(""),_.MJ(_.MC(c[34]))&&_.MJ(_.MC(c[35])+""=="www")&&_.MJ(_.MC(c[24])+""=="mywishlist")&&(e+=s[56]),e+=[s[88],_.F.html(_.MB(c[47])),s[89]].join(""),_.MD(c[46])&&(e+=s[90]),e+=[s[54],_.MB(c[64]),s[91]].join(""),e+=[(r.unshift({"aria-hidden":s[59],critical:s[60],focusable:s[61],height:_.MB(c[40]),name:_.MB(c[38])}),o=_.HELPER("icon",r[0]),r.shift(),o),s[92],_.F.html(_.MB(c[47])),s[73]].join(""),e+=s[93]),e+=s[0]}else{if(e+=s[4],_.MJ(_.MC(c[65]))){if(e+=s[63],_.MJ(_.MC(c[35])+""=="www")){e+=s[65];var n={fe_bar_level:_.MC(c[65]),fe_bar_size:_.MB(c[66])?"small":"medium",fe_companyname:_.MC(c[67]),fe_is_affiliate:_.MC(c[68])&&_.MC(c[68]).is_hybrid,fe_show_extended_tooltip:_.MJ(_.MB(c[22])+""=="de")&&(_.MJ(_.MC(c[24])+""=="searchresults")||_.MJ(_.MC(c[24])+""=="hotel")),fe_site_type:_.MC(c[35])},i=r;(r=_.SV([{},{}])).unshift(n),e=a(e),r=_.SV(i),e+=s[40]}else _.MJ(_.MC(c[35])+""=="mdot")?(e+=s[94],n={fe_bar_level:_.MC(c[65]),fe_bar_size:s[95],fe_is_affiliate:_.MC(c[68])&&_.MC(c[68]).is_hybrid,fe_no_tooltip:1,fe_site_type:_.MC(c[35])},i=r,(r=_.SV([{},{}])).unshift(n),e=a(e),r=_.SV(i),e+=s[63]):_.MJ(_.MC(c[35])+""=="tdot")&&(e+=s[94],n={fe_bar_level:_.MC(c[65]),fe_bar_size:"small",fe_is_affiliate:_.MC(c[68])&&_.MC(c[68]).is_hybrid,fe_no_tooltip:1,fe_site_type:_.MC(c[35])},i=r,(r=_.SV([{},{}])).unshift(n),e=a(e),r=_.SV(i),e+=s[63]);e+=s[24]}e+=s[0]}return e+=[s[5],"",s[0]].join(""),_r_(e)}(e),r.shift(),e+=s[1]),e+=s[1]);e+=s[96]}return e+=s[1],e+=s[0],_r_(e)})}()),booking.jstmpl("property_carousel_subtitle_tmpl",function(){_i_("65cb:8790965d");var i=["\n  ","\n    ","&nbsp;","\n"],r=["carousel_item"];return _r_(function(e){_i_("65cb:c2443fa4");var t="",n=this.fn;return t+=i[0],n.MJ(n.MG((n.MC(r[0])||{}).review_score))&&(t+=[i[1],n.F.entities((n.MC(r[0])||{}).review_score),i[2],n.F.entities((n.MC(r[0])||{}).review_title),i[0]].join("")),t+=i[3],_r_(t)})}()),booking.jstmpl("property_carousel_content_tmpl",function(){_i_("65cb:c1e2c095");var n,a=["\n\n  ",'\n    \n    <div class="c-property-carousel__location">\n      ',"12","streamline/geo_pin"," ",", ","\n    </div>\n  ",'\n    \n    <div class="c-property-carousel__location">\n        ',"\n        ","/private/m_sr_fuzzy_auto_extension_from_centre/name","\n  ",'\n      <div class="c-property-carousel__sustainable-badge">\n        ',"streamline/travel_sustainable","/private/sustainability_sp_trav_sus_label/name","\n      </div>\n  ",'\n    <div class="c-property-carousel__review-container">\n      <div class="c-property-carousel__review--collapsed">\n        ','\n      </div>\n      <span class="c-property-carousel__review-show-more bui-link">\n        ',"/private/sxp_sr_thematic_carousel_show_more/name","\n      </span>\n    </div>\n    ","",'<div class="','">','<img class="bui-avatar__image"','src="','"','data-component="image-fallback"\n                 data-fallback-src="','"\n                 alt="" aria-hidden="true" />','<img class="bui-avatar__image"\n                 src="',"</div>","\n",'<div class="bui-avatar-block__text">\n                <span class="bui-avatar-block__title">',"</span>",'<span class="bui-avatar-block__subtitle">','<span class="bui-flag bui-avatar-block__flag">\n                                    <img src="','"\n                                         alt="" />\n                                </span>',"</div>\n        </div>","\n    ",'\n    <div class="bui-price-display c-property-carousel__price">\n      <div class="bui-price-display__label">',"/private/sxp_sr_thematic_search_starting_from_no_price/name",'</div>\n      <div class="bui-price-display__value">',"</div>\n    </div>\n  ",'\n    <div class="c-property-carousel__not-available">\n      ',"/private/sxp_sh_carousel_unavailable/name"],o=["carousel_item","fe_class_block","fe_modifier_small","fe_modifier_large","fe_avatar","fe_avatar_class","fe_modifier_larger","fe_modifier_largest","fe_name","fe_character_avatar","fe_character","fe_fallback_avatar","fe_flag_size","fe_country_code","fe_hide_flag","fe_country_name","priceFooter"];return _r_(function(r){_i_("65cb:790bc1f9");var e,t="",_=this.fn;return t+=a[0],_.MJ(_.MG((_.MC(o[0])||{}).dest_name))?(t+=[a[1],(r.unshift({height:a[2],name:a[3],width:a[2]}),n=_.HELPER("icon",r[0]),r.shift(),n),a[4],_.F.entities((_.MC(o[0])||{}).dest_name)].join(""),_.MJ(_.MG((_.MC(o[0])||{}).country_name))&&(t+=[a[5],_.F.entities((_.MC(o[0])||{}).country_name)].join("")),t+=a[6]):_.MJ(_.MG(((_.MC(o[0])||{}).distance_from_cc||{}).distance_formatted))&&(t+=[a[7],(r.unshift({height:a[2],name:a[3],width:a[2]}),n=_.HELPER("icon",r[0]),r.shift(),n),a[8],(r.unshift({distanceInKmFromCentre:_.MG(((_.MC(o[0])||{}).distance_from_cc||{}).distance_formatted)}),n=_.ME(a[9],_.MB,_.MN,null),r.shift(),n),a[6]].join("")),t+=a[10],_.MK(_.track_experiment("HINZJLeUXSaZbdKNKNKHYYfPNRAPLSIfJdYO"))&&_.MJ(_.MC(o[0]).is_sustainable_property)&&(t+=[a[11],(r.unshift({height:a[2],name:a[12],width:a[2]}),n=_.HELPER("icon",r[0]),r.shift(),n),a[8],_.ME(a[13],_.MB,_.MN,null),a[14]].join("")),t+=a[10],_.MJ(_.MG((_.MC(o[0])||{}).review))&&(t+=[a[15],((_.MC(o[0])||{}).review||{}).hotel_positive,a[16],_.ME(a[17],_.MB,_.MN,null),a[18]].join(""),r.unshift({fe_country_code:_.MG(((_.MC(o[0])||{}).review||{}).guest_country_code),fe_country_name:_.MG(((_.MC(o[0])||{}).review||{}).guest_country_name),fe_name:_.MG(((_.MC(o[0])||{}).review||{}).guest_name)}),t=function(e){if(_i_("65cb:9aaf2130"),e+=a[19],_.MJ(_.MB(o[8]))){e+=a[19],_.MN("fe_class_block","c-guest bui-avatar-block"),e+=a[19],_.MN("fe_class_avatar","bui-avatar"),e+=a[19],_.MN("fe_flag_size",16),e+=a[19],_.MD(o[2])&&(e+=a[19],_.MN("fe_class_block",_.MB(o[1])+" bui-avatar-block--small"),e+=a[19],_.MN("fe_flag_size",12),e+=a[19]),e+=a[19],_.MD(o[3])&&(e+=a[19],_.MN("fe_class_block",_.MB(o[1])+" bui-avatar-block--large"),e+=a[19]),e+=[a[20],_.F.entities(_.MC(o[1])),a[21]].join("");var t={fe_avatar:_.MB(o[4]),fe_modifier_large:_.MB(o[3]),fe_modifier_small:_.MB(o[2]),fe_name:_.MB(o[8])},n=r;(r=_.SV([{},{}])).unshift(t),i=e,_i_("65cb:6ed06cb4"),i+=a[19],(_.MJ(_.MB(o[8]))||_.MJ(_.MB(o[4])))&&(i+=a[19],_.MN("fe_avatar",_.defined(_.MB(o[4]))&&_.MJ(10<_.MB(o[4]).toString().length)&&_.MJ(/https?:\/\//.test(_.MB(o[4])))?_.MB(o[4]):0),i+=a[19],_.MN("fe_avatar_class","c-avatar bui-avatar "),i+=a[19],_.MD(o[2])&&_.MN("fe_avatar_class",_.MB(o[5])+" bui-avatar--small"),i+=a[19],_.MD(o[3])&&_.MN("fe_avatar_class",_.MB(o[5])+" bui-avatar--large"),i+=a[19],_.MD(o[6])&&_.MN("fe_avatar_class",_.MB(o[5])+" bui-avatar--larger"),i+=a[19],_.MD(o[7])&&_.MN("fe_avatar_class",_.MB(o[5])+" bui-avatar--largest"),i+=a[19],_.MN("fe_character",_.MB(o[8])&&_.substr(_.MB(o[8]),0,1).toLowerCase()),i+=a[19],_.MN("fe_character_avatar",0),i+=a[19],_.MJ(/[a-z]/i.test(_.MB(o[10])))&&(i+=a[19],_.MN(o[9],_.STATIC_HOSTNAME("/static/img/review/avatars/ava-"+_.MB(o[10])+".png",0,0,0,0)),i+=a[19]),i+=a[19],_.MD(o[9])?(i+=a[19],_.MN(o[11],_.MC(o[9]))):(i+=a[19],_.MN(o[11],_.STATIC_HOSTNAME("/static/img/identity/profile.svg",0,0,0,0))),i+=a[19],i+=[a[20],_.F.entities(_.MC(o[5])),a[21]].join(""),_.MJ(_.MB(o[4]))||_.MJ(_.MB(o[9]))?(i+=a[22],_.MD(o[4])?i+=[a[23],_.MC(o[4]),a[24]].join(""):_.MD(o[9])&&(i+=[a[23],_.MC(o[9]),a[24]].join("")),i+=[a[25],_.MC(o[11]),a[26]].join("")):i+=[a[27],_.MC(o[11]),a[26]].join(""),i+=a[28]),i+=a[19],_.MN("fe_avatar",0),i+=a[19],_.MN("fe_avatar_class",0),i+=a[19],_.MN("fe_avatar_text",0),i+=a[19],_.MN("fe_character",0),i+=a[19],_.MN("fe_fallback_avatar",0),i+=a[19],_.MN("fe_modifier_large",0),i+=a[19],_.MN("fe_modifier_larger",0),i+=a[19],_.MN("fe_modifier_largest",0),i+=a[19],_.MN("fe_modifier_small",0),i+=a[19],_.MN("fe_name",0),i+=a[19],_.MN("fe_on_error_func",0),i+=a[19],i+=a[29],e=_r_(i),r=_.SV(n),e+=[a[30],_.F.js(_.MC(o[8])),a[31]].join(""),_.MJ(_.MB(o[15]))&&(e+=a[32],_.MD(o[13])&&(e+=a[19],_.MD(o[14])||(e+=[a[33],_.STATIC_HOSTNAME("/static/img/flags/"+_.MB(o[12])+"/"+_.MB(o[13])+".png",0,0,0,0),a[34]].join("")),e+=a[19]),e+=[a[19],_.F.entities(_.MC(o[15])),a[31]].join("")),e+=a[35]}var i;return e+=a[19],_.MN("fe_avatar",0),e+=a[19],_.MN("fe_class_avatar",0),e+=a[19],_.MN("fe_class_block",0),e+=a[19],_.MN("fe_country_code",0),e+=a[19],_.MN("fe_country_name",0),e+=a[19],_.MN("fe_flag_size",0),e+=a[19],_.MN("fe_modifier_large",0),e+=a[19],_.MN("fe_modifier_small",0),e+=a[19],_.MN("fe_name",0),e+=a[19],_.MN("fe_hide_flag",0),e+=a[19],e+=a[29],_r_(e)}(t),r.shift(),t+=a[10]),t+=a[0],_.MD(o[16])||(t+=a[36],e=t,_i_("65cb:4e619c90"),e+=a[10],_.MJ(_.MG((_.MC(o[0])||{}).price_formatted))?e+=[a[37],_.ME(a[38],_.MB,_.MN,null),a[39],_.F.entities((_.MC(o[0])||{}).price_formatted),a[40]].join(""):_.MJ(_.MG((_.MC(o[0])||{}).not_available))&&(e+=[a[41],_.ME(a[42],_.MB,_.MN,null),a[6]].join("")),e+=a[29],t=_r_(e),t+=a[10]),t+=a[29],_r_(t)})}()),booking.jstmpl("property_carousel_footer_tmpl",function(){_i_("65cb:08eb46e2");var r=["\n  ",'\n    <p class="c-property-carousel__last-viewed">',"</p>\n  ","\n    ",'\n    <div class="bui-price-display c-property-carousel__price">\n      <div class="bui-price-display__label">',"/private/sxp_sr_thematic_search_starting_from_no_price/name",'</div>\n      <div class="bui-price-display__value">',"</div>\n    </div>\n  ",'\n    <div class="c-property-carousel__not-available">\n      ',"/private/sxp_sh_carousel_unavailable/name","\n    </div>\n  ","\n"],_=["carousel_item","priceFooter"];return _r_(function(e){_i_("65cb:3cfe5eb1");var t,n="",i=this.fn;return n+=r[0],i.MJ(i.MG((i.MC(_[0])||{}).last_booked))?n+=[r[1],(i.MC(_[0])||{}).last_booked,r[2]].join(""):i.MJ(i.MG((i.MC(_[0])||{}).last_viewed))&&(n+=[r[1],(i.MC(_[0])||{}).last_viewed,r[2]].join("")),n+=r[0],i.MD(_[1])&&(n+=r[3],t=n,_i_("65cb:4b6e4005"),t+=r[0],i.MJ(i.MG((i.MC(_[0])||{}).price_formatted))?t+=[r[4],i.ME(r[5],i.MB,i.MN,null),r[6],i.F.entities((i.MC(_[0])||{}).price_formatted),r[7]].join(""):i.MJ(i.MG((i.MC(_[0])||{}).not_available))&&(t+=[r[8],i.ME(r[9],i.MB,i.MN,null),r[10]].join("")),t+=r[11],n=_r_(t),n+=r[0]),n+=r[11],_r_(n)})}()),B.define("component/property-carousel",function(e,t,n){_i_("65cb:fd4a9168");var i=e("component"),r=e("jquery"),_=e("property-carousel/types-extensions"),a=i.extend({init:function(){_i_("65cb:785dc1a3");var n=(this.$el.data("content-to-exclude")||"").split(","),i=!!this.$el.data("show-not-available-if-no-price"),e=this.$el.data("type"),t=_(String(e));this.mediaCarousel=this.$el.find("[data-component*=media-card-carousel]").first().component("media-card-carousel"),t&&this.mediaCarousel.setLoadedDataTransformer(t.transformLoadedData),this.mediaCarousel.setOnLoadCallback(function(e){_i_("65cb:6998af6a"),((e=e||{}).b_hotels||e.data||e.acid_cards||[]).forEach(function(t){_i_("65cb:6b1967e0"),n.forEach(function(e){_i_("65cb:3c252078"),delete t[e],"class"===e&&delete t.quality_and_class,_r_()}),t.not_available=i&&!t.price_formatted,_r_()}),t&&t.onLoadCallback(e,this),_r_()}.bind(this)),this.mediaCarousel.setOnInitCallback(function(){_i_("65cb:061ae355"),this.$el.find(".c-property-carousel__review--collapsed").each(function(e){_i_("65cb:65b6b4d5");var t=r(this);if(t.get(0).scrollHeight>t.get(0).offsetHeight){var n=!0,i=t.next();i.show(),t.parent().on("click",function(e){_i_("65cb:d22b9222"),n=!n,e.stopPropagation(),e.preventDefault(),t[n?"addClass":"removeClass"]("c-property-carousel__review--collapsed"),i.text(n?"Show more ":"Show less"),_r_()})}else t.removeClass("c-property-carousel__review--collapsed");_r_()}),_r_()}),_r_()}});n.exports=a,_r_()}),B.define("property-carousel/use-type",function(e,t,n){_i_("65cb:ea63c79a"),n.exports=function(e){_i_("65cb:22d7592d");var t={onInitCallback:function(){},onLoadCallback:function(){},transformLoadedData:function(e){return _i_("65cb:6e298ebc"),_r_(e)}};return e({setOnInitCallback:function(e){_i_("65cb:eaea2b92"),t.onInitCallback=e,_r_()},setOnLoadCallback:function(e){_i_("65cb:2272685a"),t.onLoadCallback=e,_r_()},setLoadedDataTransformer:function(e){_i_("65cb:7c1fcd3f"),t.transformLoadedData=e,_r_()}}),_r_(t)},_r_()}),B.define("property-carousel/types-extensions",function(t,e,n){_i_("65cb:201dfde1"),n.exports=function(e){if(_i_("65cb:f4bf6d5a"),"6"===e)return _r_(t("property-carousel/types/hotel-history"));if("fuzzy-filters"===e)return _r_(t("property-carousel/types/fuzzy-filters"));_r_()},_r_()}),B.when({action:"hotel",condition:function(e){return _i_("65cb:7803cb19"),_r_(e.b_search_config&&0<e.b_search_config.b_children_total)}}).run(function(e){"use strict";_i_("65cb:bfc840ed");for(var t=e("jquery"),n=t("[data-modal-hp-large]"),i=0;i<n.length;i++){var r=window.BUI.getInstance(n[i]);r&&r.props&&(r.props.onAfterOpen=function(){_i_("65cb:7bdba3e8");var e=t(".room-selection-growl");e.length&&e.hide(),_r_()},r.props.onAfterClose=function(){_i_("65cb:274eca9a");var e=t(".room-selection-growl");e.length&&e.show(),_r_()})}_r_()}),B.define("theme-parks/theme-park-benefits/store",function(e){_i_("65cb:860dab43");var t=e("redux");return _r_(t.createStore(function(e,t){switch(_i_("65cb:e3e45f1d"),t.type){case"UPDATE_FROM_SERVER":if(t&&t.payload&&t.payload.data){var n=t.payload.data,i=[];return n.benefitIdsByPriority&&n.specialBenefits&&(i=n.benefitIdsByPriority.map(function(e,t){return _i_("65cb:fea2dea1"),_r_(n.specialBenefits[e])})),_r_(Object.assign({},e,{specialBenefits:i,benefitsLegalPrefix:n.benefitsLegalPrefix||[],benefitsLegalSuffix:n.benefitsLegalSuffix||[]}))}return _r_(e);default:return _r_(e)}_r_()},{specialBenefits:[]}))}),B.when({events:"load",condition:1==B.env.fe_show_fam_web_hp_theme_park_benefits}).run(function(e){_i_("65cb:95dbbb5d");var t=e("fragment"),n=e("theme-parks/theme-park-benefits/store");t.call("property.families.property_special_benefits",{hotel_id:B.env.b_hotel_id,lang:B.env.b_lang}).then(function(e){_i_("65cb:9899b927"),n.dispatch({type:"UPDATE_FROM_SERVER",payload:{data:e}}),_r_()}),_r_()}),B.define("component/theme-parks/theme-park-benefits-block-content",function(e,t,n){"use strict";_i_("65cb:4ebe51db");var i=e("component"),r=e("jstmpl"),_=e("theme-parks/theme-park-benefits/store");n.exports=i.extend({init:function(){_i_("65cb:dfb319ae");var n=this.$el.find(".js-theme-park-benefits-carousel"),i=this.$el.data("arg-is-desktop");_.subscribe(function(){_i_("65cb:14918551");var e=_.getState(),t=r("fe_theme_park_benefits_carousel").render({fe_benefits_list:e.specialBenefits,fe_is_desktop:i});n.html(t),window.BUI.initComponents(n[0]),_r_()}),_r_()}}),_r_()}),booking.jstmpl("fe_theme_park_benefits_carousel",function(){_i_("65cb:8fac9276");var o,s=['\n    <div role="region" class="bui-carousel bui-carousel--large bui-u-bleed@small" data-bui-component="Carousel">\n        ','\n            <ul class="bui-carousel__inner" data-bui-ref="carousel-container">\n                ','\n                    <li\n                        class="bui-carousel__item"\n                        data-bui-ref="carousel-item"\n                        ','\n                            data-sub-page-ref="theme-park-benefits-sub-page"\n                        ','\n                    >\n                        <div class="bui-card bui-card--media bui-card--transparent ',"bui-f-depth-1",'">\n                            <div class="bui-card__image-container">\n                                <img class="bui-card__image" src="','" />\n                            </div>\n                            <div class="bui-card__content">\n                                <header class="bui-card__header">\n                                    <h3 class="bui-card__title">',"</h3>\n                                </header>\n                            </div>\n                        </div>\n                    </li>\n                ","\n            </ul>\n        ","\n\n        ",'\n            <div class="bui-carousel__nav">\n                <button\n                    type="button"\n                    class="bui-carousel__button"\n                    aria-label="Previous content"\n                    data-bui-ref="carousel-prev"\n                >\n                    ',"bui-carousel__prev","streamline/arrow_nav_left","32",'\n                </button>\n                <button\n                    type="button"\n                    class="bui-carousel__button"\n                    aria-label="Next content"\n                    data-bui-ref="carousel-next"\n                >\n                    ',"bui-carousel__next","streamline/arrow_nav_right","\n                </button>\n            </div>\n        ","\n    </div>\n"],c=["fe_benefits_list","fe_is_desktop"];return _r_(function(e){_i_("65cb:dac6cbce");var t="",n=this.fn;if(t+=s[0],n.MD(c[0])){t+=s[1];var i=n.MC(c[0])||[];e.unshift({fe_benefit_item:null});for(var r,_=1,a=i.length;_<=a;_++)e[0].fe_benefit_item=r=i[_-1],t+=s[2],n.MK(n.MB(c[1]))&&(t+=s[3]),t+=s[4],n.MK(n.MB(c[1]))&&(t+=s[5]),t+=[s[6],n.STATIC_HOSTNAME(r.benefitThumbnailUrl,0,0,0,0),s[7],n.F.entities((r||{}).benefitTitle),s[8]].join("");e.shift(),t+=s[9]}return t+=s[10],n.MD(c[1])&&(t+=[s[11],(e.unshift({class:s[12],name:s[13],width:s[14]}),o=n.HELPER("icon",e[0]),e.shift(),o),s[15],(e.unshift({class:s[16],name:s[17],width:s[14]}),o=n.HELPER("icon",e[0]),e.shift(),o),s[18]].join("")),t+=s[19],_r_(t)})}()),B.define("component/theme-parks/theme-park-benefits-panel-content",function(e,t,n){"use strict";_i_("65cb:dfbfc35d");var i=e("component"),r=e("jstmpl"),_=e("theme-parks/theme-park-benefits/store");n.exports=i.extend({init:function(){_i_("65cb:e0361700");var t=_.getState(),n=this.$el.find(".js-theme-park-benefits-panel-content");function e(){_i_("65cb:4c7b44de");var e=r("fe_theme_park_benefits_list").render({fe_benefits_list:t.specialBenefits,fe_benefits_legal_prefix_list:t.benefitsLegalPrefix,fe_benefits_legal_suffix_list:t.benefitsLegalSuffix});n.html(e),window.BUI.initComponents(n[0]),_r_()}t.specialBenefits.length?e():_.subscribe(function(){_i_("65cb:824ac3a5"),t=_.getState(),e(),_r_()}),_r_()}}),_r_()}),booking.jstmpl("fe_theme_park_benefits_list",function(){_i_("65cb:e854ffb7");var c,l=["\n    ",'\n        <div class="c-theme-park-benefits-panel-content__list">\n            <ul class="bui-list bui-list--divided bui-list--text">\n                ','\n                    <li class="bui-list__item">\n                        <div class="bui-card bui-card--media bui-card--transparent theme-park-benefit-card">\n                            <header class="bui-card__header">\n                                <h3 class="bui-card__title bui-f-font-display_one">','</h3>\n                            </header>\n                            <div class="bui-card__image-container">\n                                <img class="bui-card__image" alt="','" src="','" />\n                            </div>\n                            <div class="bui-card__content">\n                                <p class="bui-card__text bui-f-font-body">',"</p>\n                            </div>\n                        </div>\n                    </li>\n                ",'\n            </ul>\n        </div>\n\n        <ul class="bui-accordion" data-bui-component="Accordion">\n            <li class="bui-accordion__row">\n                <button type="button" class="bui-accordion__row-inner" data-bui-ref="accordion-button" aria-controls="content-0" aria-expanded="false">\n                    <div class="bui-accordion__row-header bui-f-font-heading">\n                        ',"/private/fam_universal_benefits_tc/name",'\n                    </div>\n                    <span role="presentation" class="bui-accordion__icon-container">\n                        ',"bui-accordion__icon","streamline/arrow_nav_down","24",'\n                    </span>\n                </button>\n                <div id="content-0" class="bui-accordion__content" role="region">\n                    <div class="bui-f-font-body">\n                        ',"\n                            <p>","</p>\n                        ","\n                        ","\n                            ","\n                                <p>","</p>\n                            ","\n                    </div>\n                </div>\n            </li>\n        </ul>\n    ","\n"],d=["fe_benefits_list","fe_benefits_legal_prefix_list","fe_benefits_legal_suffix_list"];return _r_(function(e){_i_("65cb:dbbc92d6");var t="",n=this.fn;if(t+=l[0],n.MD(d[0])){t+=l[1];var i=n.MC(d[0])||[];e.unshift({fe_benefit_item:null});for(var r=1,_=i.length;r<=_;r++)e[0].fe_benefit_item=o=i[r-1],t+=[l[2],n.F.entities((o||{}).benefitTitle),l[3],n.F.entities((o||{}).benefitTitle),l[4],n.STATIC_HOSTNAME(o.benefitImageUrl,0,0,0,0),l[5],n.F.entities((o||{}).benefitDescription),l[6]].join("");e.shift(),t+=[l[7],n.ME(l[8],n.MB,n.MN,null),l[9],(e.unshift({class:l[10],name:l[11],width:l[12]}),c=n.HELPER("icon",e[0]),e.shift(),c),l[13]].join("");i=n.MC(d[1])||[];e.unshift({fe_benefit_legal_prefix:null});var a;for(r=1,_=i.length;r<=_;r++)e[0].fe_benefit_legal_prefix=a=i[r-1],t+=[l[14],a,l[15]].join("");e.shift(),t+=l[16];i=n.MC(d[0])||[];e.unshift({fe_benefit_item:null});var o;for(r=1,_=i.length;r<=_;r++)e[0].fe_benefit_item=o=i[r-1],t+=l[17],n.MJ(n.MG((o||{}).benefitLegal))&&(t+=[l[18],(o||{}).benefitLegal,l[19]].join("")),t+=l[16];e.shift(),t+=l[16];i=n.MC(d[2])||[];e.unshift({fe_benefit_legal_suffix:null});var s;for(r=1,_=i.length;r<=_;r++)e[0].fe_benefit_legal_suffix=s=i[r-1],t+=[l[14],s,l[15]].join("");e.shift(),t+=l[20]}return t+=l[21],_r_(t)})}()),B.when({condition:B.env&&B.env.fe_show_fam_web_hp_theme_park_benefits}).run(function(e){_i_("65cb:d918f8ac");var t=e("jquery"),n=e("ga-tracker"),i=t('[data-content-id="68"]'),r=".bui-carousel .bui-card",_="Theme Park Benefits";i.on("click",".bui-button",function(){_i_("65cb:b751c1f5"),n.trackEvent(n.hotelPageTracker,_,"Open panel with button click"),_r_()}),i.on("click",r,function(){_i_("65cb:44117e49"),n.trackEvent(n.hotelPageTracker,_,"Open panel with card click"),_r_()});i.on("touchmove",r,function(e){_i_("65cb:e802bc59"),n.trackEvent(n.hotelPageTracker,_,"Swipe on benefits carousel"),i.off("touchmove",r),_r_()}),t("body").on("click",'.bui-modal#theme-park-benefits-sub-page [data-bui-ref="modal-close"]',function(){_i_("65cb:26775eeb"),n.trackEvent(n.hotelPageTracker,_,"Close panel with button click"),_r_()}),_r_()}),function(){"use strict";_i_("65cb:3557c07a");var t="Atlas/";function i(e){return _i_("65cb:212232c8"),_r_(t+e)}function e(e,t){_i_("65cb:9d1725e1");var n=[].slice.call(arguments,0);return"string"==typeof e?n[0]=i(e):Array.isArray(e)?n[0]=e.map(i):Array.isArray(t)&&(n[1]=e.map(i)),_r_(B.require.apply(this,n))}B.atlas=B.atlas||{requirejs:e,require:e,define:function(e,t){_i_("65cb:6f103607");var n=[].slice.call(arguments,0);n[0]=i(e),Array.isArray(t)&&(n[1]=t.map(i)),B.define.apply(this,n),_r_()},getVariant:function(){return _i_("65cb:fa3ca699"),_r_(0)}},_r_()}(),B.atlas.isAtlasAsync=!0,B.define("atlas-tools/public-map-api",function(){return _i_("65cb:c56389e6"),_r_(function(t){_i_("65cb:97b79eb4");var n=null,i=[],r=null;function e(e){return _i_("65cb:2734888f"),_r_(function(){_i_("65cb:aac7c079"),n?n[e].apply(n,arguments):i.push({method:e,args:Array.prototype.slice.call(arguments)}),_r_()})}return _r_({init:function(e){if(_i_("65cb:4553ef72"),r)return _r_(r);return r=t(e).then(function(e){_i_("65cb:0e36a606"),n=e,r=null,_i_("65cb:970a0174"),i.forEach(function(e){_i_("65cb:38f6b451"),n[e.method].apply(n,e.args),_r_()}),i=[],_r_(),_r_()}).catch(function(){_i_("65cb:f98fe1d4"),r=null,_r_()}),_r_(r)},isInitialized:function(){return _i_("65cb:7e9f9693"),_r_(!!n)},getState:function(){return _i_("65cb:d5ce6605"),_r_(this.isInitialized()?n.getState():{})},trigger:function(e,t){return _i_("65cb:02edc89b"),_r_(this.isInitialized()?n.trigger(e,t):null)},on:e("on"),off:e("off"),once:e("once")})})}),B.define("atlas-tools/track-searchbox",function(e){_i_("65cb:19cbba6f");var t=e("fragment"),n=e("server-data"),i=e("et");function r(e,t){_i_("65cb:f2aa595c"),"searchresults"===e.b_action&&("mdot"===e.b_site_type?i.customGoal("YdXfCcOOIBTTQEJYYeFVIZdRRT",t):"www"===e.b_site_type&&i.customGoal("YdXfCcEUXPNMZNbVSOONWXFZEVC",t)),_r_()}return _r_(function(e){_i_("65cb:0c322175"),Array.isArray(e.types)&&(r(n,2),t.call("geo.map_search_tracking",{search_string:e.searchString,categories:e.types,hit_id:e.id,action:n.b_action?n.b_action:"unknown"}).then(function(){_i_("65cb:66587c75"),r(n,1),_r_()},function(){_i_("65cb:bd066165"),r(n,4),_r_()})),_r_()})}),B.define("hotel/map-perf-goals",function(e){_i_("65cb:502443d0");var i=e("et"),t=e("jquery"),n="#b_map_wrapper:visible",r='#b_map_wrapper .gm-style [role="link"]:has(svg):visible, #b_map_tiles .atlas-marker:visible';function _(){return _i_("65cb:9edf13a1"),_r_(0<t(n).length)}return _r_({trackMapPerfGoal:function(e,t){_i_("65cb:2800af68");var n=!(!window.performance||!window.performance.now)&&window.performance.now();if(!e||!t||!n)return _r_();i.goalWithValue(e,Math.round(n-t)),_r_()},trackNumMarkersRendered:function(){if(_i_("65cb:c9a83ac4"),_()){var e=t(r).length;i.goalWithValue("js_location_mdot_hp_map_number_of_markers_rendered_init",e)}_r_()},trackMapLoadedAfterTimeout:function(){_i_("65cb:7a580845"),setTimeout(function(){_i_("65cb:21ffb2ea"),_()&&!t(r).length&&i.goalWithValue("js_location_mdot_hp_markers_not_rendered_after_8s",1),_r_()},8e3),_r_()}})}),B.define("atlas-tools/aa-tracking-helper",function(e){_i_("65cb:21e0783a");var n=e("et"),i=e("server-data");function r(){return _i_("65cb:c4dbef29"),_r_(i.fe_is_normal_user)}return _r_({trackDestinationTypeStages:function(e){if(_i_("65cb:b61f9563"),!r()||!e)return _r_();n.stage(e,1);var t=i.b_dest_type;if(!t)return n.stage(e,9),_r_();"city"===t?n.stage(e,2):"region"===t?n.stage(e,3):"district"===t?n.stage(e,4):"landmark"===t?n.stage(e,5):"country"===t?n.stage(e,6):"airport"===t?n.stage(e,7):"hotel"===t&&n.stage(e,8),_r_()},userIsNormalUser:r})}),B.define("hotel/map",function(i){_i_("65cb:df94019a");var r=i("async-loader"),e=i("atlas-tools/public-map-api"),_=i("promise"),a=i("server-data"),o=i("et"),s=i("hotel/map-perf-goals"),c=e(function(e){_i_("65cb:f8f05584");var t=[];if(l=!(!window.performance||!window.performance.now)&&window.performance.now(),s.trackMapLoadedAfterTimeout(),c.on("ready",function(){_i_("65cb:a9983c36"),s.trackMapPerfGoal("js_location_mdot_hp_map_readytime",l),_r_()}),c.on("load",function(){_i_("65cb:f2d6477d"),s.trackMapPerfGoal("js_location_mdot_hp_map_load",l),_r_()}),c.once("tiles-loaded",function(){_i_("65cb:d5fa220a"),s.trackMapPerfGoal("js_location_mdot_hp_map_time_till_tiles_loaded",l),_r_()}),c.once("markers-rendered",function(){_i_("65cb:dfe86c8a"),s.trackMapPerfGoal("js_location_mdot_hp_map_time_till_marker_visible",l),setTimeout(function(){_i_("65cb:6d33c1db"),s.trackNumMarkersRendered(),_r_()},100),_r_()}),"cn"===a.b_guest_country){var n=B.atlas&&B.atlas.__env__;n&&n.isProviderBaidu?t.push(r.load({js:"async_hp_atlas_map_ATLAS_WEBPACK_baidu_js"})):t.push(r.load({js:"async_hp_atlas_map_ATLAS_WEBPACK_leaflet_js"}))}else t.push(r.load({js:"async_hp_atlas_map_ATLAS_WEBPACK_google_js"}));return _r_(_.all(t).then(function(){return _i_("65cb:9ba2cac7"),l&&(s.trackMapPerfGoal("js_location_mdot_hp_map_js_load",l),o.goalWithValue("js_location_mdot_hp_js_load",Math.round(window.performance.now()-l))),Object.assign(B.atlas,i("atlas/core.tracking")),_r_(i("map/map_atlas_hp").init(e))}).catch(function(e){throw _i_("65cb:58534a99"),e}))}),l=0;return _r_(c)}),B.when({events:"ready"}).run(function(e){_i_("65cb:0caaad07");var _,t=e("persistent-view"),n=e("event-bus"),i=e("hotel/map"),a=B.require("et"),r=B.require("atlas-tools/aa-tracking-helper"),o=e("c360Tracker"),s=B.env.request,c=s&&s.query&&s.query.activeTab,l=e("hotel/capla-map"),d=e("with-capla"),u=e("hotel/capla-map-events").AFF_DATA_EVENTS,f="htMap",b="YdXfCDWOOSYeJeGOUbPZTXIKe";function h(e){_i_("65cb:0f723259"),r.trackDestinationTypeStages("YdXfCDWOOSYeJeGeNSBLHXT"),a.stage(b,2),e||a.stage(b,4),_r_()}a.stage(b,1),d("property-web","property-page",function(t){_i_("65cb:752c3ec8"),_=new Promise(function(e){_i_("65cb:06a9fc4d"),t.eventBus.subscribe(u.MAP_CODE_MOUNTED,function(){_i_("65cb:06630aca"),e(),_r_()}),_r_()}),_r_()})(),c!==f&&t.current!==f||(a.track(b)?d("property-web","property-page",function(e){_i_("65cb:ff588eaa"),_&&_.then(function(){_i_("65cb:7069d4ec"),e.eventBus.publish(u.MAP_OPEN),l.track(e.eventBus),_r_()}),_r_()})():l.init(),h()),n.on(n.EVENTS.HP_MAP_OPEN,function(e,t){_i_("65cb:237b004f");var n,i,r=t&&"object"==typeof t?t:{};Object.assign(r),a.track(b)?d("property-web","property-page",function(e){_i_("65cb:8a88d6c8"),_&&_.then(function(){_i_("65cb:e6ddfd30"),e.eventBus.publish(u.MAP_OPEN),_r_()}),l.track(e.eventBus),_r_()})():l.init(),r&&r.data&&r.data.mapId&&(n=r.data.mapId),h(n),a.goalWithValue("js_location_web_pp_map_open_count",1),"top-map"===n?(a.goalWithValue("js_location_web_pp_map_open_from_property_name",1),i="address"):"location_block__map"===n&&(a.goalWithValue("js_location_web_pp_map_open_from_lb",1),i="location_block"),o.track({action_name:"location.hp_map_opened",action_version:"1.0.0",content:{source:i}}),_r_()}),i.once("searchbox-item-selected-booking-default",function(){_i_("65cb:46622898"),a.goalWithValue("js_location_mdot_hp_map_sb_item_selected_default",1),a.goalWithValue("js_location_web_pp_map_dropdown_item_clicked",1),_r_()}),i.once("searchbox-item-selected-search-provider",function(){_i_("65cb:abcb3966"),a.goalWithValue("js_location_mdot_hp_map_sb_item_selected_provider",1),a.goalWithValue("js_location_web_pp_map_searched_for_poi",1),_r_()}),i.on("searchbox-item-selected",function(e){_i_("65cb:f4bc89ea"),e&&e.item&&e.item.b_states&&e.item.b_states.current&&a.goalWithValue("js_location_mdot_hp_map_sb_item_selected_current",1),_r_()}),i.once("searchbox-input-typed",function(){_i_("65cb:2790ec6d"),a.goalWithValue("js_location_web_pp_map_performed_search",1),_r_()}),d("property-web","property-page",function(e){_i_("65cb:44afdf47"),e.eventBus.subscribe(u.MAP_CLOSE,function(){if(_i_("65cb:2a040828"),window.history.state&&0<window.history.state.step)t.back(-1);else{var e=t.current;t.previousView===f?t.replaceWith(f):t.replaceWith(t.defaultView),t.push(e),t.back(-1)}_r_()}),_r_()})(),n.on(n.EVENTS.TABNAV_RESET,function(){_i_("65cb:94c46051"),t.previousView===f&&d("property-web","property-page",function(e){_i_("65cb:4e659b62"),e.eventBus.publish(u.MAP_TAB_CLOSE),_r_()})(),_r_()}),_r_()}),B.define("hotel/capla-map-events",function(e,t,n){_i_("65cb:a326f3f7");n.exports={MFE_EVENTS:{PATTERN_MOUNTED:"CAPLA_EVENT_property-web_property-page_PATTERN_MOUNTED",MAP_READY:"CAPLA_EVENT_property-web_property-page_MAP_READY",MAP_LOAD:"CAPLA_EVENT_property-web_property-page_MAP_LOAD",MAP_TILES_LOAD:"CAPLA_EVENT_property-web_property-page_MAP_TILES_LOAD",MAP_MARKERS_RENDERED:"CAPLA_EVENT_property-web_property-page_MAP_MARKERS_RENDERED",MAP_SEARCH_ITEM_SELECTED:"CAPLA_EVENT_property-web_property-page_MAP_SEARCH_ITEM_SELECTED"},AFF_DATA_EVENTS:{MAP_OPEN:"CAPLA_EVENT_property-web_property-page_MAP_OPEN",MAP_CLOSE:"CAPLA_EVENT_property-web_property-page_MAP_CLOSE",MAP_TAB_CLOSE:"CAPLA_EVENT_property-web_property-page_MAP_TAB_CLOSE",MAP_CODE_MOUNTED:"CAPLA_EVENT_property-web_property-page_MAP_CODE_MOUNTED"}},_r_()}),function(e,t){_i_("65cb:486d5dd4");var _=e("with-capla"),n=e("hotel/capla-map-events"),a=e("hotel/map-perf-goals"),o=n.MFE_EVENTS,s=n.AFF_DATA_EVENTS,c=new Promise(function(n){_i_("65cb:783ef416"),_("property-web","property-page",function(e){_i_("65cb:35bbde02"),e.eventBus.subscribe(o.PATTERN_MOUNTED,function(e,t){_i_("65cb:cbf6ba8e"),"PP_MAP"===t.name&&n(),_r_()}),_r_()})(),_r_()});t("hotel/capla-map",function(e){_i_("65cb:448a5445");var n=document.querySelector("#b_map_wrapper"),i=e("atlas-tools/track-searchbox"),t=0;function r(e){if(_i_("65cb:300d1bcb"),!e)return _r_();e.subscribe(o.MAP_READY,function(){_i_("65cb:4b0ab725"),a.trackMapPerfGoal("js_location_mdot_hp_map_readytime",t),_r_()}),e.subscribe(o.MAP_TILES_LOAD,function(){_i_("65cb:85133073"),a.trackMapPerfGoal("js_location_mdot_hp_map_time_till_tiles_loaded",t),_r_()}),e.subscribe(o.MAP_MARKERS_RENDERED,function(){_i_("65cb:019b770a"),a.trackMapPerfGoal("js_location_mdot_hp_map_time_till_marker_visible",t),setTimeout(function(){_i_("65cb:a5e4d6c1"),a.trackNumMarkersRendered(),_r_()},100),_r_()}),e.subscribe(o.MAP_LOAD,function(){_i_("65cb:0f8df0a0"),a.trackMapPerfGoal("js_location_mdot_hp_map_load",t),_r_()}),e.subscribe(o.MAP_SEARCH_ITEM_SELECTED,function(e,t){_i_("65cb:b84e6004"),i(t),_r_()}),_r_()}return _r_({init:function(e){_i_("65cb:21e9e564"),t=!(!window.performance||!window.performance.now)&&window.performance.now(),a.trackMapLoadedAfterTimeout(),c.then(function(){_i_("65cb:dbc2dc99"),function(e){_i_("65cb:d500f50a"),_("property-web","property-page",function(e){_i_("65cb:c555fd87");var t=e.eventBus;_i_("65cb:7b2d5ce0"),t.publish(s.MAP_OPEN,{mapContainer:n,apiKeys:{MAPBOX:"pk.eyJ1IjoibWFwYm94LWJvb2tpbmciLCJhIjoiY2p1dDh4dGtsMDUzbDQ0cGk0djl1cm82YiJ9.cujfuS20w0tA8CTzepCyjw",GOOGLE:"AIzaSyAsgWlbQ7IVo47Y8MrywoT_WdtVtH7UPCA",BAIDU:"zB7EXCv9oKE9esSfDp4V7UfZjyZU6DHL"}}),_r_(),r(t),_r_()}.bind(this))(),_r_()}(),function(){_i_("65cb:c39721b9");var e=document.querySelector("head");new MutationObserver(function(e){var n;_i_("65cb:0ba1a700"),e.forEach(function(e){if(_i_("65cb:add2fdd9"),"childList"===e.type&&e.addedNodes.length){var t=e.addedNodes.item(0);t.dataset.webpack&&(n=new Promise(function(e){_i_("65cb:34427a67"),t.addEventListener("load",e),_r_()}))}_r_()}),n&&n.then(function(){_i_("65cb:35845455"),a.trackMapPerfGoal("js_location_mdot_hp_map_js_load",t),_r_()}),_r_()}).observe(e,{attributes:!1,childList:!0,subtree:!1}),_r_()}(),_r_()}),_r_()},track:r})}),_r_()}(B.require,B.define),B.when({events:"ready"}).run(function(r){_i_("65cb:be2f6c2a");var e={priority:9,run:function(){_i_("65cb:89d0a48b");var e=$("#survey").attr("surveyurl");if(e&&(window.b_survey_url=e,booking.env.survey_key=$("#survey").attr("surveykey"),booking.env.surveytracklink="/outgoinglink/survey/"+booking.env.survey_key),void 0!==window.b_survey_url&&window.b_survey_url){var n=$("#conf_survey,#survey,#conf_survey_bottom"),i=function(){_i_("65cb:f46c5266"),"hotel"===booking.env.b_action&&r("booking-sticker").update(),_r_()},t=function(e){if(_i_("65cb:be242669"),booking.env.showRevdSurvey2016Q1)var t=$(e.target).val();else t=$(this).val();return t&&("accept"===t||"Yes"===t||"yes"===t||"Ja, ik doe mee"===t||"Okay"===t?window.open(window.b_survey_url,"booking_survey_window"):n.hide("normal",i),$.get("/survey?decision="+t+"&survey_key="+booking.env.survey_key,{},function(e){_i_("65cb:398c4c37"),n.hide("normal",function(){_i_("65cb:5951ed50"),n.remove(),i(),_r_()}),_r_()})),_r_(!1)};booking.env.showRevdSurvey2016Q1?(booking.events.on("REVIEWS:fetched",function(){_i_("65cb:7f514403"),n.addClass("show"),_r_()}),n.find("button").on("click",t)):(n.fadeIn("normal",i),n.find("button").click(t))}_r_()},init:function(){if(_i_("65cb:dff626a9"),this.run(),B.env.b_run_sr_ajax){var t=this;B.require(["searchresults/events"],function(e){_i_("65cb:2cdd7226"),e.on(e.UI_RESULTS_UPDATED,function(){_i_("65cb:648fe614"),t.run(),_r_()}),_r_()})}_r_()}};B.env.b_check_ot_consent?$.cookie("OptanonAlertBoxClosed")&&e.init():B.env.fe_may_set_marketing_cookies?e.init():B.env.force_initialize_survey_module_on_confirmation_page?e.init():B.env.fe_cookie_warning?B.eventEmitter&&"function"==typeof B.eventEmitter.on&&B.eventEmitter.on("ACCEPT_COOKIE_POLICY",function(){_i_("65cb:a2172e81"),e.init(),_r_()}):B.eventEmitter&&"function"==typeof B.eventEmitter.on&&B.eventEmitter.on("COOKIE_CONSENT_PROVIDED",function(){_i_("65cb:d08fb95c"),e.init(),_r_()}),_r_()}),function(E,r){_i_("65cb:b9e3568a");var C=B;C.bookingSticker=function(){var r,_,a,o,t,n,i,s,c,l,d,u,f;_i_("65cb:d590ab2f");C.bookingSticker.stickToZIndex=void 0===C.bookingSticker.stickToZIndex?999:C.bookingSticker.stickToZIndex,C.bookingSticker.stickedElements=void 0===C.bookingSticker.stickedElements?[]:C.bookingSticker.stickedElements,C.bookingSticker.stickers=void 0===C.bookingSticker.stickers?[]:C.bookingSticker.stickers;var b=function(e){_i_("65cb:c73b29ff"),o.scrollTop()+3>u-_.data("stick-to-offset")&&p(),o.scrollTop()+3<=u-_.data("stick-to-offset")&&m(),_r_()},h=function(e){_i_("65cb:235372b6"),_.css("width","auto"),a.css("width","auto").html(_.html()),a.is(":visible")?(_.css("width",a.width()),k(a)):(_.css("width",_.width()),k(_)),y(),b(),_r_()},p=function(){_i_("65cb:cbd68d31");var e=-parseInt(_.css("top"),10)||0,t=parseInt(_.height(),10);if(e<t&&-1===C.bookingSticker.stickedElements.indexOf(_)&&(M(),w()),o.scrollTop()+t+_.data("stick-to-offset")>y())return e=-(o.scrollTop()+parseInt(_.height(),10)-y()),_.css({top:e}),t<e&&(v(),w()),_r_();if(f)return _.css({top:_.data("stick-to-offset")}),_r_();return k(_),_.addClass("sticked").css({top:_.data("stick-to-offset"),"z-index":C.bookingSticker.stickToZIndex}).before(a),C.bookingSticker.stickToZIndex--,f=!0,M(),w(),B.hotel.Events&&B.events.emit(B.hotel.Events.RT.STICKY_STUCK,_),_r_()},m=function(){if(_i_("65cb:efb073a3"),!f)return _r_();return _.removeClass("sticked").css({top:void 0,"z-index":d}),a.remove(),C.bookingSticker.stickToZIndex++,f=!1,v(),w(),B.hotel.Events&&B.events.emit(B.hotel.Events.RT.STICKY_RELEASE,_),_r_()},M=function(){_i_("65cb:9f1c17cf"),-1===C.bookingSticker.stickedElements.indexOf(_)&&(C.bookingSticker.stickedElements.push(_),g()),_r_()},v=function(){_i_("65cb:f4a8e154");var e=C.bookingSticker.stickedElements.indexOf(_);-1!==e&&(C.bookingSticker.stickedElements.splice(e,1),g()),_r_()},g=function(){_i_("65cb:a101cc8a"),C.bookingSticker.stickedElements.sort(function(e,t){if(_i_("65cb:1de875be"),e.data("elem-original-offset-top")>t.data("elem-original-offset-top"))return _r_(1);if(e.data("elem-original-offset-top")<t.data("elem-original-offset-top"))return _r_(-1);return _r_(0)}),_r_()},w=function(){if(_i_("65cb:36cc230f"),0<C.bookingSticker.stickedElements.length)for(var e=0;e<C.bookingSticker.stickedElements.length;e++){var t=C.bookingSticker.stickedElements[e],n=t.data("initial-offset")||0;if(t.data("stick-to-offset",n),1===t.data("no-stacking"))continue;if(0<e){for(var i=e,r=e-1,_=n;0<=r;){var a=C.bookingSticker.stickedElements[r];1!==a.data("no-stacking")&&(_+=a.outerHeight()),r--}C.bookingSticker.stickedElements[i].data("stick-to-offset",_)}}_r_()},y=function(){_i_("65cb:4f36ae34");var e=r&&r.offset&&r.offset();return c=e?"html"===r.selector?0:parseInt(e.top,10):0,t=parseInt(r.css("border-bottom-width"),10),i=parseInt(r.css("padding-bottom"),10),n=c+parseInt(r.height(),10)+i+t,_r_(n)},k=function(e){_i_("65cb:7e89dd17");var i=E(e);_.css({width:i.width()}),1<["inline","inline-block","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"].indexOf(i.css("display"))&&_.find("td, th").each(function(e,t){_i_("65cb:d5ca6b8e");var n=E(i.find("td, th").get(e));E(t).css({width:n.width()}),_r_()}),_r_()};return _r_({init:function(e,t,n){if(_i_("65cb:79cc5cc1"),r=E(t||"html"),s=parseInt(r.height(),10),_=E(e),l=parseInt(_.height(),10),n=n||{},!_.length)return _r_();if(s<=l)return _r_();var i=C.bookingSticker.stickers;-1===i.indexOf(this)&&i.push(this),o=E(window),elemOriginalCSSDisplay=_.css("display"),emOriginalCSSTop=_.css("top"),d=_.css("z-index"),y(),u=parseInt(_.offset().top,10),_.data("elem-original-offset-top",u),_.data("stick-to-offset",0),_.data("initial-offset",n.initialOffset),n.initialZIndex&&(B.bookingSticker.stickToZIndex=n.initialZIndex),!0===n.noStacking&&_.data("no-stacking",1),a=_.clone(!1).css({visibility:"hidden"}).addClass("sticked-placeholder"),k(_),_i_("65cb:56633fd4"),o.bind({scroll:b,resize:h,load:h}),_r_(),M(),w(),b(),_r_()},restartPosition:function(){_i_("65cb:3d322222"),u=a.is(":visible")?parseInt(a.offset().top,10):parseInt(_.offset().top,10),h(),w(),b(),_r_()},getElement:function(){return _i_("65cb:a24f296d"),_r_(_)},getOffsetTopBoundaries:function(){return _i_("65cb:7c92dc06"),_r_({lowerBound:u,upperBound:y()-parseInt(_.height(),10)})},isSticked:function(){return _i_("65cb:24bbee0a"),_r_(f)}})},C.bookingSticker.update=function(){_i_("65cb:144c2337");var e=C.bookingSticker.stickers||[];if(!e.length)return _r_();E.each(e,function(e,t){_i_("65cb:28437775"),t.restartPosition(),_r_()}),r.events.emit("booking_sticker:update"),_r_()},C.bookingSticker.destroy=function(n){_i_("65cb:9f64cea4");var e=C.bookingSticker.stickers||[],i=-1;if(!e.length)return _r_();e.forEach(function(e,t){_i_("65cb:ce9d74a9"),e.getElement().is(n)&&(i=t),_r_()}),-1!==i&&(C.bookingSticker.stickers.splice(i,1),r.events.emit("booking_sticker:destroy"));var t=C.bookingSticker.stickedElements||[];t.forEach(function(e,t){_i_("65cb:c3baad91"),e.is(n)&&(i=t),_r_()}),-1!==i&&t.splice(i,1),_r_()},B.define("booking-sticker",function(){return _i_("65cb:9f255b53"),_r_(C.bookingSticker)}),_r_()}(window.jQuery,window.booking),_i_("65cb:9e64abb4"),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:c08a99ec");var i=e("jquery"),r=".js_facility_two_columns_block",_=".js_facility_two_columns_block--rest",a=".js_facility_two_columns_block__toggle",o="g-hidden";function t(e){_i_("65cb:a82e405b");var t=i(e.currentTarget),n=t;t.is(a)&&(n=t.siblings(r)),t.is(_)&&(n=t.closest(r)),n.is(r)&&(n.children(_).toggleClass(o),n.siblings(a).toggleClass(o)),_r_()}B.events.on(B.eventNames.RT_ROOM_EXPAND,function(e){_i_("65cb:b04636dc");var t=e.fullpage.$container,n=t.find(_);n.length&&(n.toggleClass(o,!0),t.find(".js_facility_two_columns_block__toggle--hide").toggleClass(o,!0),t.find(".js_facility_two_columns_block__toggle--show").toggleClass(o,!1)),_r_()});var n=i(document);n.on("click",a,t),n.on("click",r,t),_r_()}),_r_(),function(t){_i_("65cb:07434e01"),t.require(["require"],function(e){"use strict";_i_("65cb:eac7550a"),e("events").one(t.eventNames.RT_ROOM_EXPAND,function(e){if(_i_("65cb:2ac2350c"),e&&e.roomInstance&&e.roomInstance.blockId&&e.fullpage&&e.fullpage.$container&&e.roomInstance.$room){var t=e.roomInstance.$room.find(".js-floor-request-radio"),n=e.fullpage.$container.find(".js-floor-request-radio:checked");if(n.length&&t.length){var i=n.val();i&&t.filter(function(){return _i_("65cb:e72609d2"),_r_(this.value==i)}).trigger("click")}}_r_()}),_r_()}),_r_()}(booking),_i_("65cb:dff45c76"),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:8b267001");var t=e("jquery"),n=B.require("ga-tracker");B.events.on(B.eventNames.RT_ROOM_EXPAND,function(e){_i_("65cb:683af4a5"),e&&e.fullpage&&e.fullpage.$container&&(t(e.fullpage.$container).off("click.tracking"),t(e.fullpage.$container).on("click.tracking","[data-name-en]",function(){_i_("65cb:64a34ee3");var e=t(this).data("name-en");if(!e)return _r_();n.trackEvent("M.Room Table","Facility Badge: Hover",e),_r_()})),_r_()}),_r_()}),_r_(),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:d919b043");var t=e("jstmpl"),c=".js_m_rp_room_description_content",l=".js_m_rp_room_description_toggle",d=t.translations("rc_m_rt_lb_room_description_more_cta"),u=t.translations("rc_m_rt_lb_room_description_less_cta");B.events.on(B.eventNames.RT_ROOM_EXPAND,function(e){if(_i_("65cb:af2e00f3"),e&&e.roomInstance&&e.fullpage&&e.fullpage.$container){var n=e.fullpage.$container.find(c),i=e.fullpage.$container.find(l);if(n.length&&!n.data("roomExpanded")){var r,_,a=!0;n.data("roomExpanded",!0),r=n.html(),_=function(e,t){_i_("65cb:fef13f0f");var n=e;e&&e.trim&&(n=e.trim());var i=n.split(" ");return i.length>t&&(n=(i=i.slice(0,t)).join(" ")+"... "),_r_(n)}(r,22);var t=function(e){_i_("65cb:98bff468");var t=document.createElement("DIV");return t.innerHTML=e,_r_(t.textContent||t.innerText||"")}(r).split(" "),o=t?t.length:0,s=function(){if(_i_("65cb:205a8d32"),32<o){i.removeClass("g-hidden");var e=a?_:r;n.html(e);var t=a?d:u;i.text(t)}else i.addClass("g-hidden"),n.html(r);_r_()};32<o&&i.add(n).off("click.toggle").on("click.toggle",function(e){_i_("65cb:d64822ff"),e.preventDefault(),a=!a,s(),_r_()}),s()}}_r_()}),_r_()}),B.when({action:"hotel",events:"ready",condition:function(e){return _i_("65cb:3da39e60"),_r_(e.fe_has_room_photos)}}).run(function(e){_i_("65cb:b7e27517");var a=e("jquery"),o=e("events"),s="g-hidden",c="#hotel-photos",l=".swpg__caption",d=".js-hp-gallery-room-name";function u(e){if(_i_("65cb:52794900"),e&&a('.room[data-room-id="'+e+'"]').length){var t=a('.room[data-room-id="'+e+'"]').offset().top-10;a(".js-rt-collapsed").addClass("rt-collapsed__wrap--expanded"),a("html, body").animate({scrollTop:t},1e3)}_r_()}o.on("hp_gallery_switch",function(e){if(_i_("65cb:2d905d43"),e&&e.el){var t=e.el.data("distinctRoomId"),n=e.el.data("roomName"),i=a(c),r=e.el.data("id"),_=e.el.data("ranking")-1;o.emit(o.EVENTS.GALLERY_SLIDER_NAVIGATED,r,_),n?(i.find(l).removeClass(s).fadeIn(),i.find(d).text(n),i.find(d).off("click").on("click",function(){_i_("65cb:c47f7a40"),o.emit(o.EVENTS.GALLERY_ROOM_NAME_CLICKED,r,_,t),u(t),_r_()})):i.find(l).addClass(s).fadeOut()}_r_()}),o.on("hp_room_main_gallery_switch",function(e){if(_i_("65cb:63e842f2"),e&&e.el){var t=e.el.data("distinctRoomId"),n=e.el.data("roomName"),i=a("#room-photos").find(l);n?(i.removeClass(s).fadeIn(),i.find(d).text(n),i.find(d).off("click").on("click",function(){_i_("65cb:23f424b61"),u(t),_r_()})):i.addClass(s).fadeOut()}_r_()}),o.on("scroll_to_rooms_table",function(e){_i_("65cb:fe4e018e"),e&&e.roomId&&u(e.roomId),_r_()});var t=a(c);if(t.find(".swpg__item").length&&t.find(".swpg__item").get(1)){var n=a(t.find(".swpg__item").get(1)),i=n.data("distinctRoomId");if(i){var r=t.find(l),_=n.data("roomName");_?(r.removeClass(s).fadeIn(),r.find(d).text(_),r.find(d).off("click").on("click",function(){_i_("65cb:23f424b6"),u(i),_r_()})):r.addClass(s).fadeOut()}}_r_()}),B.define("reducer-store",function(e,t,n){function i(e,t){_i_("65cb:d94ee19a"),this.reduce=e,this.state=t,this.subscribers=[],_r_()}_i_("65cb:ec06840b"),i.prototype.subscribe=function(e){_i_("65cb:3594b703"),this.subscribers.push(e),_r_()},i.prototype.dispatch=function(t){_i_("65cb:13bfdcf1");var n=this.state,i=this.state=this.reduce(this.state,t);this.subscribers.forEach(function(e){_i_("65cb:39d55cc9"),e(i,n,t),_r_()}),_r_()},i.prototype.getState=function(){return _i_("65cb:74398da2"),_r_(this.state)},i.prototype.getValueByPath=function(e,t){_i_("65cb:ff4a7371");var n=(e||"").split(".").reduce(function(e,t){return _i_("65cb:d24b70b3"),_r_(e&&e[t])},this.state);return _r_(void 0!==n?n:t)},i.prototype.use=function(e){_i_("65cb:ffb36cbb");var t=this;return this.dispatch=e.map(function(e){return _i_("65cb:2daca007"),_r_(e.bind(null,t))}).reduceRight(function(e,t){return _i_("65cb:62771d3a"),_r_(t.bind(null,e))},this.dispatch.bind(this)),_r_(this)},n.exports=i,_r_()}),B.define("store/meal_plan",function(e,t,n){_i_("65cb:c7289f6f");var i=e("reducer-store"),r={classes:"",hasBreakfast:!1,hasLunch:!1,hasDinner:!1,breakfastIncluded:!1,lunchIncluded:!1,dinnerIncluded:!1,breakfastPrice:void 0,lunchPrice:void 0,dinnerPrice:void 0,isAllInclusive:!1,allInclusiveText:void 0};n.exports=new i(function(e,t){switch(_i_("65cb:d9b25798"),t.type){case"INIT_MEAL_INFO":return _r_(Object.assign({},e,{classes:t.payload.classes,hasBreakfast:t.payload.hasBreakfast,hasLunch:t.payload.hasLunch,hasDinner:t.payload.hasDinner,breakfastIncluded:t.payload.breakfastIncluded,lunchIncluded:t.payload.lunchIncluded,dinnerIncluded:t.payload.dinnerIncluded,breakfastPrice:t.payload.breakfastPrice,lunchPrice:t.payload.lunchPrice,dinnerPrice:t.payload.dinnerPrice,isAllInclusive:t.payload.isAllInclusive,allInclusiveText:t.payload.allInclusiveText}));case"UPDATE_MEAL_PRICE":return _r_(Object.assign({},e,{breakfastPrice:t.payload.breakfastPrice,lunchPrice:t.payload.lunchPrice,dinnerPrice:t.payload.dinnerPrice}));case"UPDATE_MEAL_AVAILABILITY":return _r_(Object.assign({},e,{hasBreakfast:t.payload.hasBreakfast,hasLunch:t.payload.hasLunch,hasDinner:t.payload.hasDinner}));case"UPDATE_MEAL_INCLUDED":return _r_(Object.assign({},e,{breakfastIncluded:t.payload.breakfastIncluded,lunchIncluded:t.payload.lunchIncluded,dinnerIncluded:t.payload.dinnerIncluded}))}return _r_(e)},r),_r_()}),B.define("component/hotel/meal_plan",function(e,t,n){_i_("65cb:0b58af01");var l,i=e("component/reactive"),r=e("store/meal_plan"),_=e("hotel/store"),a=e("et"),o=e("server-data"),d=o.b_blocks_by_id||{},s=null;function c(){_i_("65cb:3e66860a"),a.customGoal("aaOYWPDSFbWHWXFZEVWDAEO",3),_r_()}n.exports=i.extend({template:"meal_plan_template",getState:function(){return _i_("65cb:ff7b69d4"),_r_(r.getState())},initialize:function(){_i_("65cb:278b554c"),r.subscribe(this.render.bind(this)),this.horizontalRateInit(),this.$el&&o&&o.fe_hp_rt_is_soldout&&this.$el.find(".js-rp-meal-plan-accordion").on("click",c),_r_()},horizontalRateInit:function(){_i_("65cb:81e837c7");var e=this,n=_.getState(),i=n.roomsTable.selection.blocks;i&&Object.keys(i).forEach(function(e){_i_("65cb:998ccf96"),e!==l&&(l=e),_r_()}),this.updateBasedOnSelectedRate(),_.subscribe(function(){_i_("65cb:9a55ef39");var t=!1;if(i=n.roomsTable.selection.blocks,Object.keys(i).forEach(function(e){_i_("65cb:c8cec1fa"),e!==l&&(l=e,t=!0),_r_()}),!t)return _r_();t=!1,e.updateBasedOnSelectedRate(),_r_()}),_r_()},updateBasedOnSelectedRate:function(){_i_("65cb:1698b598");var e=d[l];if(l=null,!e)return _r_();var t=e.b_mealplan_included_name,n=e.b_mealplan_prices||{},i="all_inclusive"===t,r="full_board"===t,_="half_board"===t,a="breakfast"===t,o="lunch"===t,s="dinner"===t,c=!t;i&&this.setCorrectMealPlan({isAllInclusive:i,allInclusiveText:e.b_mealplan_policies[0]}),r&&this.setCorrectMealPlan({breakfastIncluded:!0,lunchIncluded:!0,dinnerIncluded:!0,hasBreakfast:!0,hasLunch:!0,hasDinner:!0}),_&&(e.half_board_is_dinner?this.setCorrectMealPlan({breakfastIncluded:!0,lunchIncluded:!1,dinnerIncluded:!0,hasBreakfast:!0,hasLunch:Boolean(n.lunch),lunchPrice:n.lunch,hasDinner:!0}):this.setCorrectMealPlan({breakfastIncluded:!0,lunchIncluded:!0,dinnerIncluded:!1,hasBreakfast:!0,hasLunch:!0,hasDinner:Boolean(n.dinner),dinnerPrice:n.dinner})),a&&this.setCorrectMealPlan({breakfastIncluded:!0,lunchIncluded:!1,dinnerIncluded:!1,hasBreakfast:!0,hasLunch:Boolean(n.lunch),lunchPrice:n.lunch,hasDinner:Boolean(n.dinner),dinnerPrice:n.dinner}),o&&this.setCorrectMealPlan({breakfastIncluded:!1,lunchIncluded:!0,dinnerIncluded:!1,hasBreakfast:Boolean(n.breakfast),breakfastPrice:n.breakfast,hasLunch:!0,hasDinner:Boolean(n.dinner),dinnerPrice:n.dinner}),s&&this.setCorrectMealPlan({breakfastIncluded:!1,lunchIncluded:!1,dinnerIncluded:!0,hasBreakfast:Boolean(n.breakfast),breakfastPrice:n.breakfast,hasLunch:Boolean(n.lunch),lunchPrice:n.lunch,hasDinner:!0}),c&&this.setCorrectMealPlan({breakfastIncluded:!1,lunchIncluded:!1,dinnerIncluded:!1,hasBreakfast:Boolean(n.breakfast),breakfastPrice:n.breakfast,hasLunch:Boolean(n.lunch),lunchPrice:n.lunch,hasDinner:Boolean(n.dinner),dinnerPrice:n.dinner}),_r_()},setCorrectMealPlan:function(e){_i_("65cb:6d268af8"),s&&clearTimeout(s),s=setTimeout(function(){_i_("65cb:9a423dbc"),r.dispatch({type:"INIT_MEAL_INFO",payload:e}),_r_()},1),_r_()},destroy:function(){_i_("65cb:00f55aef"),this.$el&&o&&o.fe_hp_rt_is_soldout&&this.$el.find(".js-rp-meal-plan-accordion").off("click",c),_r_()}}),_r_()}),booking.jstmpl("meal_plan_template",function(){_i_("65cb:083475b6");var r,_=["\n    ",'\n\n<li data-component="hotel/meal_plan"\n    class="',"bui-accordion__row js-meal-plan-component "," ",'"\n>\n    \n    <button class="bui-accordion__row-inner js-rp-meal-plan-accordion"\n        data-bui-ref="accordion-button"\n        aria-controls="content-mealplan"\n        aria-expanded="','"\n        type="button"\n    >\n        <div class="bui-accordion__row-header">\n            <h1 class="bui-accordion__title">\n                ',"/private/rc_m_rp_meal_plan/name",'\n            </h1>\n        </div>\n        <span role="presentation" class="bui-accordion__icon-container">\n            ',"bui-accordion__icon","iconset/navarrow_down","presentation","24",'\n        </span>\n    </button>\n\n    <div id="content-mealplan" class="bui-accordion__content">\n        ','\n            <p class="meal_plan_wrapper js-meal-plan-wrapper">\n                <span class="u-color:ui_reinforcement">\n                    ',"iconset/checkmark","14","\n                    ","\n                </span>\n            </p>\n        ",'\n            <p class="meal_plan_wrapper js-meal-plan-wrapper">\n                ','\n                        <span class="u-color:ui_reinforcement js-breakfast-meal-included">\n                            ',"\n                            ","/private/rc_m_rp_meal_plan_breakfast_inc_price/name","\n                        </span>\n                    ",'\n                        <span class="js-breakfast-meal-with-price">\n                            ',"/private/rc_m_rp_meal_plan_breakfast_available/name",'\n                        <span class="js-breakfast-meal-without-price">\n                            ',"/private/rc_m_rp_meal_plan_breakfast_no_price/name","\n                ",'\n                    <span class="js-breakfast-meal-not-available">\n                        ',"\n                        ","/private/rc_m_rp_meal_plan_breakfast_na/name","\n                    </span>\n                ","\n            </p>\n\n            ",'\n                <p class="lunch_meal_availablity_wrapper js-lunch-meal-wrapper">\n                    ','\n                        <span class="u-color:ui_reinforcement js-lunch-meal-included">\n                            ',"/private/rc_m_rp_meal_plan_lunch_inc_price/name",'\n                        <span class="js-lunch-meal-with-price">\n                            ',"/private/rc_m_rp_meal_plan_lunch_available/name",'\n                        <span class="js-lunch-meal-without-price">\n                            ',"/private/rc_m_rp_meal_plan_lunch_no_price/name","\n                </p>\n            ","\n\n            ",'\n                <p class="dinner_meal_availablity_wrapper js-dinner-meal-wrapper">\n                    ','\n                        <span class="u-color:ui_reinforcement js-dinner-meal-included">\n                            ',"/private/rc_m_rp_meal_plan_dinner_inc_price/name",'\n                        <span class="js-dinner-meal-with-price">\n                            ',"/private/rc_m_rp_meal_plan_dinner_available/name",'\n                        <span class="js-dinner-meal-without-price">\n                            ',"/private/rc_m_rp_meal_plan_dinner_no_price/name","\n        ","\n    </div>\n</li>\n\n","\n"],a=["classes","accordion_expanded","allInclusiveText","isAllInclusive","breakfastIncluded","breakfastPrice","hasBreakfast","lunchIncluded","lunchPrice","hasLunch","dinnerIncluded","dinnerPrice","hasDinner"];return _r_(function(e){_i_("65cb:1b869bcf");var t,n="",i=this.fn;return n+=_[0],t=n,_i_("65cb:79e108df"),t+=["",_[1]].join(""),t+=[_[2],i.F.entities(i.MC(a[0])),_[3]].join(""),t+=[_[4],i.F.entities(i.MC(a[1])),_[5],i.ME(_[6],i.MB,i.MN,null),_[7],(e.unshift({class:_[8],name:_[9],role:_[10],width:_[11]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[12]].join(""),i.MD(a[3])?t+=[_[13],(e.unshift({name:_[14],width:_[15]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[16],i.MC(a[2]),_[17]].join(""):(t+=_[18],i.MD(a[6])?(t+=_[16],i.MD(a[4])?t+=[_[19],(e.unshift({name:_[14],width:_[15]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[20],i.ME(_[21],i.MB,i.MN,null),_[22]].join(""):i.MD(a[5])?t+=[_[23],(e.unshift({name:_[14],width:_[15]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[20],(e.unshift({amount_with_currency:i.MB(a[5])}),r=i.ME(_[24],i.MB,i.MN,null),e.shift(),r),_[22]].join(""):t+=[_[25],(e.unshift({name:_[14],width:_[15]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[20],i.ME(_[26],i.MB,i.MN,null),_[22]].join(""),t+=_[27]):t+=[_[28],(e.unshift({name:_[14],width:_[15]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[29],i.ME(_[30],i.MB,i.MN,null),_[31]].join(""),t+=_[32],i.MD(a[9])&&(t+=_[33],i.MD(a[7])?t+=[_[34],(e.unshift({name:_[14],width:_[15]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[20],i.ME(_[35],i.MB,i.MN,null),_[22]].join(""):i.MD(a[8])?t+=[_[36],(e.unshift({name:_[14],width:_[15]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[20],(e.unshift({amount_with_currency:i.MB(a[8])}),r=i.ME(_[37],i.MB,i.MN,null),e.shift(),r),_[22]].join(""):t+=[_[38],(e.unshift({name:_[14],width:_[15]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[20],i.ME(_[39],i.MB,i.MN,null),_[22]].join(""),t+=_[40]),t+=_[41],i.MD(a[12])&&(t+=_[42],i.MD(a[10])?t+=[_[43],(e.unshift({name:_[14],width:_[15]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[20],i.ME(_[44],i.MB,i.MN,null),_[22]].join(""):i.MD(a[11])?t+=[_[45],(e.unshift({name:_[14],width:_[15]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[20],(e.unshift({amount_with_currency:i.MB(a[11])}),r=i.ME(_[46],i.MB,i.MN,null),e.shift(),r),_[22]].join(""):t+=[_[47],(e.unshift({name:_[14],width:_[15]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[20],i.ME(_[48],i.MB,i.MN,null),_[22]].join(""),t+=_[40]),t+=_[49]),t+=[_[50],"",_[51]].join(""),n=_r_(t),n+=_[51],_r_(n)})}()),_i_("65cb:e47c032d"),window.B&&B.env&&B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:48904fd8");var r=e("jquery");_i_("65cb:16749e18"),r("[data-content-id]").map(function(){return _i_("65cb:219bb254"),_r_({id:r(this).data("content-id"),selector:this})}).toArray().reduce(function(e,t){_i_("65cb:917ceca8");var n=r(t.selector);if(n.length){var i=n.text();"string"==typeof i&&i.trim()?e.push({id:t.id,selector:t.selector}):0==n.children().length&&n.addClass("property_content__invisible")}else n.addClass("property_content__empty");return _r_(e)},[]),_r_(),_r_()}),_r_(),B.define("px/behavior-tracker",function(e,t,n){_i_("65cb:d8c3a131");var r=e("jquery"),_=e("c360Tracker"),a=e("report-error"),i={fields:{TRAVEL_PRODUCT:"travel_product",PRODUCT_TYPE:"travel_product_type",PRODUCT_ID:"travel_product_id",PRODUCT_PHOTO_COUNT:"travel_product_photo_count",GRID_ITEMS:"grid_items",GRID_ITEM:"grid_item",IMAGE_ID:"image_id",IMAGE_POSITION:"image_position",IMAGE_LAYOUT:"image_layout",ROOM_ID:"room_id"},trackBehavior:function(e,t,n){if(_i_("65cb:e18d5e59"),!e||!t)return a("[px/behavior-tracker] Action name and version is required!"),_r_(!1);var i={action_name:e,action_version:t,content:n};return _r_(_.track(i))},trackOnClick:function(e,t,n,i){_i_("65cb:082d0bde1"),r(e).on("click",function(){_i_("65cb:bc3ba5711"),this.trackBehavior(t,n,i),_r_()}.bind(this)),_r_()}};n.exports=i,_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:6f4c5a0e");var r=e("px/behavior-tracker"),t=function(){_i_("65cb:7ad5c252");var e={};return e[r.fields.PRODUCT_TYPE]="accommodation",e[r.fields.PRODUCT_ID]=B.env.b_hotel_id||"0",_r_(e)}();function _(){_i_("65cb:1b9c8287");var e={};return e[r.fields.TRAVEL_PRODUCT]=t,_r_(e)}B.events.on(B.eventNames.LOCK_SCREEN_RESERVE_CLICKED,function(){_i_("65cb:82cc8c28"),r.trackBehavior("property_experience__hp_gallery_lock_screen_reserve_now_clicked","1.0.0",_()),_r_()}),B.events.on(B.eventNames.GALLERY_ROOM_NAME_CLICKED,function(e,t,n){_i_("65cb:f7534357");var i=_();i.grid_item={image_id:String(e)||"0",image_position:t},i.room_id=String(n),r.trackBehavior("property_experience__hp_gallery_room_name_clicked","1.0.0",i),_r_()}),B.events.on(B.eventNames.ALL_PHOTOS_IN_GALLERY_VIEWED,function(e){if(_i_("65cb:93c5b730"),!e)return _r_(!1);var t=_();t[r.fields.GRID_ITEMS]=e,r.trackBehavior("property_experience__hp_gallery_all_images_viewed","1.0.0",t),_r_()}),B.events.on(B.eventNames.GALLERY_SLIDER_NAVIGATED,function(e,t){_i_("65cb:a3234d3d");var n=_();n.grid_item={image_id:String(e)||"0",image_position:t},r.trackBehavior("property_experience__hp_gallery_slider_navigated","1.0.0",n),_r_()}),B.events.on(B.eventNames.ROOM_LIGHTBOX_GALLERY_PHOTOS_DISPLAYED,function(e,t){if(_i_("65cb:0208d2d1"),!e)return _r_(!1);var n=_();n[r.fields.GRID_ITEMS]=e,n.room_id=String(t),r.trackBehavior("property_experience__rp_gallery_displayed","1.0.0",n),_r_()}),B.events.on(B.eventNames.ROOM_LIGHTBOX_GALLERY_NAVIGATED,function(e,t,n){_i_("65cb:b3b5c233");var i=_();i.grid_item={image_id:String(e)||"0",image_position:t},i.room_id=String(n),r.trackBehavior("property_experience__rp_gallery_images_slider_navigated","1.0.0",i),_r_()}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:7ace827f");var t=e("c360Tracker"),_=e("server-data"),a=e("querystring"),n=B.debug("C360_PROPERTY_EVENT_TRACKER_VIA_FE");function i(){if(_i_("65cb:342e80f9"),_.b_checkin_date)return _r_(String(_.b_checkin_date));if(_.b_todays_date)return _r_(String(_.b_todays_date));var e=new Date;return _r_(e.toISOString().substring(0,10))}function r(){if(_i_("65cb:ec2b0bc9"),_.b_checkout_date)return _r_(String(_.b_checkout_date));if(_.b_tomorrows_date)return _r_(String(_.b_tomorrows_date));var e=new Date;return e.setDate(e.getDate()+1),_r_(e.toISOString().substring(0,10))}if(_.fe_feature_running_C360_PROPERTY_EVENT_TRACKER_VIA_FE&&_.b_search_config){var o={travel_product:function(){_i_("65cb:8f11abf7");var e={checkin:i(),checkout:r(),displayed_price:function(){var e,t;_i_("65cb:76981ac1");var n=_.request||a.parseUrl(window.location.href),i=[];if(n&&n.query&&n.query.highlighted_blocks&&n.query.highlighted_blocks.split(",").forEach(function(t){_i_("65cb:0f706e3e"),_.b_blocks_by_id?t in _.b_blocks_by_id&&i.push(_.b_blocks_by_id[t]):_.b_rooms_available_and_soldout&&_.b_rooms_available_and_soldout.forEach(function(e){_i_("65cb:32c0dd5e"),e.b_blocks&&e.b_blocks.forEach(function(e){_i_("65cb:986ccf0a"),t==e.b_block_id&&i.push(e),_r_()}),_r_()}),_r_()}),i.length&&i[0].b_price_breakdown_simplified){t=i[0].b_currency||_.b_selected_currency||_.b_hotel_currencycode,e=i[0].b_price_breakdown_simplified.b_headline_price_amount;for(var r=1;r<i.length;r++)i[r].b_price_breakdown_simplified&&(e+=i[r].b_price_breakdown_simplified.b_headline_price_amount)}return _r_({value:e?Number(e):0,currency:t?String(t):""})}(),displayed_price_value_eur:0,travel_product_id:Number(_.b_hotel_id),travel_product_items:(_i_("65cb:46764063"),_r_([])),travel_product_type:"accommodation",travel_product_ufi:_.fe_ufi?Number(_.fe_ufi):0};return _r_(e)}(),search_parameters:function(e){_i_("65cb:11972ed3");var t={checkin:i(),checkout:r(),children_ages:e.b_children_ages_total||[],filters_selected:[],flex_window:0,location_parameters:{destination_id:_.b_dest_id?Number(_.b_dest_id):0,destination_type:_.b_dest_type?String(_.b_dest_type):"",latitude:_.b_map_center_latitude?Number(_.b_map_center_latitude):0,longitude:_.b_map_center_longitude?Number(_.b_map_center_longitude):0,radius:0,search_string:""},number_adults:e.b_adults_total?Number(e.b_adults_total):0,number_children:e.b_children_total?Number(e.b_children_total):0,number_rooms:e.b_nr_rooms_needed?Number(e.b_nr_rooms_needed):0,travel_purpose:_.b_user_is_business_booker?"business":"leisure"};return _r_(t)}(_.b_search_config),search_token:_.fe_srpvid||""};return n.info("c360Tracker->track: ",o),_r_(t.track({action_name:"accommodation__product_details_served",action_version:"3.0.0",content:o}))}_r_()}),B.define("component/prevent-default-helper",function(e,t,n){_i_("65cb:6ec0d5fa"),n.exports=e("component").extend({init:function(){_i_("65cb:4c0d614c");var e=this.$el[0];if(!e)return _r_();"#"===e.getAttribute("href")&&e.addEventListener("click",function(e){_i_("65cb:b662324c"),e.preventDefault(),_r_()}),_r_()}}),_r_()}),B.define("component/covid/fine_print_covid_banner",function(e,t,n){_i_("65cb:bc0d7c49");var i=e("component");n.exports=i.extend({init:function(){_i_("65cb:059d9c0c");var e=this;"mdot"!=B.env.b_site_type&&"hotel"==B.env.b_action||e.$el.find(".js_show_more").click(function(){_i_("65cb:80a37672"),e.$el.find(".js_covid_standard_phrase").show(),e.$el.find(".js_show_more").hide(),_r_()}),_r_()}}),_r_()}),B.define("component/k2/sub-page",function(e,t,n){_i_("65cb:16653c54");var a=e("et"),o=e("jquery"),s=e("events"),c=e("persistent-view"),i=e("component"),r=e("tabbed-nav"),l=e("server-data"),d=e("utils/throttled"),u=B.debug("sub-page"),f=[];n.exports=i.extend({init:function(){_i_("65cb:26c34d3e");var i=this;i.views=[];var r=i.$el.data()||{},n=!1,_=!1;r&&r.subPageId&&o("#"+r.subPageId).length?(s.on("k2:open:sub-page:"+r.subPageId,function(e,t){if(_i_("65cb:33805818"),u.log("open",", Sub-page: ",r.subPageId,", Options:",e),f.length){var n=f[f.length-1];n!=r.subPageId&&s.emit("k2:close:sub-page:"+n),setTimeout(function(){_i_("65cb:8986cb9f"),i&&i.openSubPage(r,e,t),_r_()},350)}else i.openSubPage(r,e,t);_r_()}),s.on("k2:close:sub-page:"+r.subPageId,function(){if(_i_("65cb:2d54424b"),u.log("close",", Sub-page: ",r.subPageId),r.enableViewsNavigation?s.emit("k2:popView:sub-page:"+r.subPageId):i.modalInstance&&i.modalInstance.close(),r.etOnClose)for(var e=r.etOnClose.split(" "),t=0;t<e.length;t++){var n=e[t].split(":");n&&n.length&&n[1]&&n[2]&&a.customGoal(n[1],n[2])}_r_()}),r.enableViews&&(s.on("k2:closeAllViews:sub-page:"+r.subPageId,function(){_i_("65cb:e3b28775"),i.modalInstance&&n&&(u.log("closeAllViews",", Sub-page: ",r.subPageId),i.modalInstance.close()),_r_()}),s.on("k2:popView:sub-page:"+r.subPageId,function(){if(_i_("65cb:44e72d83"),i.modalInstance&&n){if(i.views.length){i.hideActiveView(i.modalInstance,r);var e=i.views.pop();u.log("popView",", Sub-page: ",r.subPageId,", Prev. view: ",e),i.views.length&&i.showLastOpenedView(i.modalInstance,r)}r.enableViewsNavigation&&!i.views.length&&i.modalInstance.close()}_r_()}),s.on("k2:viewLoaded:sub-page:"+r.subPageId,function(){_i_("65cb:c4d31fc6"),i.modalInstance&&n&&(i.triggerEvent("viewRendered",i.modalInstance,r),i.views&&i.views.length&&setTimeout(function(){_i_("65cb:612af39f"),i.showLastOpenedView(i.modalInstance,r),_r_()},10)),_r_()}),s.on("k2:pushView:sub-page:"+r.subPageId,function(e,t){_i_("65cb:1e72df36"),u.log("pushView",", Sub-page: ",r.subPageId,", View: ",e),i.modalInstance&&n&&(i.views.length&&i.views[i.views.length-1]==e||(i.views.length&&i.hideActiveView(i.modalInstance,r),i.views.push(e),r.enableViewsNavigation&&(_||(1<i.views.length?c.pushState(r.subPageId,{view:e},!0):c.replaceState(r.subPageId,{view:e},!0))),t&&(r.options=Object.assign(r.options||{},t)),r.clientsideTemplate?i.loadLastOpenedView(i.modalInstance,r):i.showLastOpenedView(i.modalInstance,r))),_r_()})),s.on("k2:closeAll:sub-pages",function(){_i_("65cb:f9dc976c"),u.log("closeAll",", Sub-page: ",r.subPageId),i.modalInstance&&i.modalInstance.close(),_r_()}),window.BUI&&(i.modalInstance=window.BUI.createInstance("Modal",null,{id:r.subPageId,fullScreen:!0,fill:!0,onAfterOpen:function(){_i_("65cb:a36664c2"),n=!0;var e=o(this.getModalRoot());a.initAttributesTracking(e),e.loadComponents(),e.closest(".bui-modal").addClass("sub-page-modal-root"),i.updateViewport(e),o(window).on("resize.sub",function(){_i_("65cb:5d80c8b7"),i.updateViewport(e),_r_()}),o(this.closeEls).filter(".bui-modal__close").hide();var t=e.find(".js-pp-sub-page--content");t.length&&t.off("scroll.sub").on("scroll.sub",d(function(e){_i_("65cb:2ef0a33a"),B.eventEmitter.emit(B.eventNames.SUB_PAGE_SCROLLS,e),_r_()},500)),B.eventEmitter.emit(B.eventNames.SUB_PAGE_OPENED),i.triggerEvent("opened",this,r),setTimeout(function(){_i_("65cb:55aab7d6"),i.triggerEvent("afterOpened",i.modalInstance,r),_r_()},100),f.push(r.subPageId),_r_()},onBeforeClose:function(e){_i_("65cb:cd4c0913"),n=!1,i.triggerEvent("beforeClose",this,r),o(window).off("resize.sub");var t=o(this.getModalRoot()).find(".js-pp-sub-page--content");t.length&&t.off("scroll.sub"),_r_()},onAfterClose:function(){_i_("65cb:0ce155f6"),i.triggerEvent("closed",this,r),setTimeout(function(){_i_("65cb:3e843bb7"),i.triggerEvent("afterClosed",i.modalInstance,r),_r_()},100),i.views=[];var e=f.indexOf(r.subPageId);-1<e&&f.splice(e,1),_r_()}}),r.disableUrlNavigation||c.register(r.subPageId,{load:function(){if(_i_("65cb:78773c55"),n)return _r_();_=!0;var e=this.name;B.when({action:"hotel",events:"ready"}).run(function(){_i_("65cb:eb1d46e9"),s.emit("k2:open:sub-page:"+e),_r_()}),_=!1,_r_()},loadDuplicate:function(){if(_i_("65cb:1db8b741"),n&&r.enableViewsNavigation){_=!0;var e=this.name;u.log("duplicate view:",e," -  history state: ",history.state),history&&history.state&&history.state.extras&&history.state.extras.view&&history.state.pview==e&&(i.views.includes(history.state.extras.view)?s.emit("k2:popView:sub-page:"+e):s.emit("k2:pushView:sub-page:"+e,history.state.extras.view)),_=!1}_r_()},destroy:function(){_i_("65cb:f3040b51"),_=!0;var e=this.name;i&&i.modalInstance.modalEl&&(o(i.modalInstance.modalEl).data("closeByBrowserBack",!0),s.emit("k2:close:sub-page:"+e),o(i.modalInstance.modalEl).data("closeByBrowserBack",!1)),_=!1,_r_()}}),i.modalInstance.mount())):l.b_dev_server&&console.error("[DEV] Error while init K2 sub-page component: `arg_sub_page_id` can be missing!"),_r_()},updateViewport:function(i){_i_("65cb:dfbfec01"),setTimeout(function(){_i_("65cb:2bdd5a13");var e=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),t=i.find(".js-pp-sub-page--header").outerHeight(),n=i.find(".js-pp-sub-page--action").outerHeight();i.find(".js-pp-sub-page--content").css("height",e-t-n),_r_()},50),_r_()},loadLastOpenedView:function(e,t){if(_i_("65cb:ed0bb10c"),this.views.length){var n=this.views[this.views.length-1];this.triggerEvent("loadView",e,t,n)}_r_()},showLastOpenedView:function(e,t){if(_i_("65cb:5accb8cf"),this.views.length){var n=this.views[this.views.length-1];this.triggerEvent("showView",e,t,n),t.clientsideTemplate||setTimeout(function(){_i_("65cb:0ee25ac1"),this.triggerEvent("viewRendered",this.modalInstance,t),_r_()}.bind(this),100)}_r_()},hideActiveView:function(e,t){if(_i_("65cb:7f2fa633"),this.views.length){var n=this.views[this.views.length-1],i=o(e.modalEl).find(".js-pp-sub-page--content");t.lastScrollPosition=i.scrollTop(),i.scrollTop(0),this.triggerEvent("hideView",e,t,n)}_r_()},triggerEvent:function(e,t,n,i){_i_("65cb:2f0926d0"),u.log(e,", Sub-page: ",n.subPageId,i?", View: "+i:"",n.options?", options: "+n.options:""),e&&n&&n.subPageId&&(s.emit("k2:sub-page:"+e,t,n,i),s.emit("k2:sub-page:"+e+":"+n.subPageId,t,n,i),i&&s.emit("k2:sub-page:"+e+":"+n.subPageId+":"+i,t,n,i)),_r_()},openSubPage:function(e,t,n){_i_("65cb:a15b9f93");var i=o("#"+e.subPageId);this.modalInstance&&i.length&&(i.data("disable-url-navigation")||(n||(n=o("[data-sub-page-ref="+e.subPageId+"]:first")),n.length&&(n.data("tabRetainScroll",!0),n.data("tabExtras","sub-page-ref:subPageId"),r.activateTab(e.subPageId,n))),t&&(e.options=Object.assign(e.options||{},t)),this.modalInstance.open()),_r_()}}),_r_()}),_i_("65cb:148f439c"),B.when({events:"ready"}).run(function(e){_i_("65cb:9d76bce5");var r=e("jquery"),_=e("events"),n=e("persistent-view"),i=!1;r(document).on("click","[data-sub-page-ref]",function(e){_i_("65cb:b02f6a2f"),e.preventDefault();var t=r(this),n=t.data("sub-page-ref");if(n){var i=t.data();_.emit("k2:open:sub-page:"+n,i,t)}_r_()}),r(document).on("click","[data-back-to-view]",function(e){if(_i_("65cb:f0c47f9f"),!i)if(setTimeout(function(){_i_("65cb:68d2caae"),i=!1,_r_()},200),i=!0,e.preventDefault(),window.history.state&&0<window.history.state.step)n.back(-1);else{var t=n.current;n.replaceWith(n.defaultView),n.push(t),n.back(-1)}_r_()}),_r_()}),_r_(),B.define("component/k2/banner",function(e,t,n){_i_("65cb:d2f6cd0e");var i=e("jquery"),r=e("component");n.exports=r.extend({init:function(){_i_("65cb:379e1372");var e=this.$el.find(".js-pp-message-clickable-section"),t=this.$el.find(".js-pp-message-section-clickable-area a, .js-pp-message-section-clickable-area button");e.length&&t.length&&e.on("click",function(e){_i_("65cb:737d9eca"),i(e.target).closest(".js-pp-message-non-clickable-section").length||t.trigger("click"),_r_()}),_r_()}}),_r_()}),B.define("component/k2/foldable",function(e,t,n){_i_("65cb:a26b37ab");var i=e("component"),r=e("jstmpl"),_=e("server-data");n.exports=i.extend({init:function(){_i_("65cb:bcfdc78d"),this.$target=this.$el,this.$link=this.$el.find(".js-toggle-action"),this.$link.on("click",this.toggle.bind(this)),_r_()},toggle:function(){_i_("65cb:cf38a4f6");var e=this.$target.offset().top;this.$target.hasClass("b-collapse__expanded")?(this.$target.addClass("b-collapse__collapsed"),this.$target.removeClass("b-collapse__expanded"),_.pp_expand_text?this.$link.find(".js-toggle-action-text").html(_.pp_expand_text):this.$link.find(".js-toggle-action-text").html(r.translations("pp_expand_copy"))):(this.$target.removeClass("b-collapse__collapsed"),this.$target.addClass("b-collapse__expanded"),_.pp_collapse_text?this.$link.find(".js-toggle-action-text").html(_.pp_collapse_text):this.$link.find(".js-toggle-action-text").html(r.translations("pp_collapse_copy"))),$("html, body").animate({scrollTop:e}),_r_()}}),_r_()}),_i_("65cb:a275dbe0"),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:a120cd04");var r=e("jquery"),t=e("events"),i=e("event-bus"),_=e("persistent-view"),n=e("hotel/store"),a=e("with-capla"),o=e("tabbed-nav"),s=e("server-data"),c=r(".c-selection_cart");t.on("k2:sub-page:opened",function(t,e){_i_("65cb:97c3f877"),t&&(r(t.getModalRoot()).find(".js-sub-page-action").not(".js-custom-binding").on("click.sub",function(e){_i_("65cb:70a08f5b"),t.close(),setTimeout(function(){_i_("65cb:0b01e0a7");var e=r(".rt-controls,#bookForm,#roomstable_nodates,#availability,.room_rec,#hotel_group_option");if(e.length){var t=e.eq(0).offset();r("html, body").animate({scrollTop:t.top-15},750)}_r_()},10),_r_()}),r.isEmptyObject(n.getState().roomsTable.selection.blocks)||c.hide()),_r_()}),t.on("k2:sub-page:beforeClose",function(e,t){if(_i_("65cb:f0d117db"),e&&r(e.modalEl).length){if(r(e.getModalRoot()).find(".js-sub-page-action").not(".js-custom-binding").off("click.sub"),r(e.modalEl).data("closeByBrowserBack"))i.emit(i.EVENTS.M_TABS_RESET);else if(!t.disableUrlNavigation)if(window.history.state&&0<window.history.state.step)_.back(-1);else{var n=_.current;_.replaceWith(_.defaultView),_.push(n),_.back(-1)}r(e.modalEl).data("closeByBrowserBack",!1)}_r_()}),t.on("k2:sub-page:closed",function(e,t){_i_("65cb:d34d4bd3"),r.isEmptyObject(n.getState().roomsTable.selection.blocks)||c.show(),_r_()});var l={OPEN_SUBPAGE:"CAPLA_EVENT_property-web-property-page_OPEN_SUBPAGE",CLOSE_SUBPAGE:"CAPLA_EVENT_property-web-property-page_CLOSE_SUBPAGE",CHINA_LICENSE_DATA:"CAPLA_EVENT_property-web-property-CHINA_LICENSE_DATA"},d="CAPLA_EVENT_property-web-property-page_SUBPAGE_OPENED",u="CAPLA_EVENT_property-web-property-page_SUBPAGE_CLOSED",f="CAPLA_EVENT_property-web-property-page_SUBPAGE_RESERVE_CLICKED",b="CAPLA_EVENT_property-web-property-CHINA_LICENSE";a("property-web","property-page",function(e){_i_("65cb:a83943a0");var t,n,i=e.eventBus;"property-description-sheet"!=_.current&&"sustainability_subpage"!==_.current&&"questions-and-answers-sub-page"!==_.current&&"htReviews"!==_.current||B.when({action:"hotel",events:"ready"}).run(function(){_i_("65cb:b22c7ecd"),i.publish(l.OPEN_SUBPAGE,{subPageId:_.current}),_r_()}),t=["sustainability_subpage","questions-and-answers-sub-page","property-description-sheet","htReviews"],n=i,_i_("65cb:4d34c561"),t&&0<t.length&&t.forEach(function(e){_i_("65cb:91e0328c"),_.register(e,{load:function(){_i_("65cb:a67ec709"),B.when({action:"hotel",events:"ready"}).run(function(){_i_("65cb:29e24070"),n.publish(l.OPEN_SUBPAGE,{subPageId:e}),_r_()}),_r_()},destroy:function(){_i_("65cb:fe234994"),n.publish(l.CLOSE_SUBPAGE,{subPageId:e}),_r_()}}),_r_()}),_r_(),i.subscribe(u,function(e,t){if(_i_("65cb:9c88b463"),"property-description-sheet"===t.subPageId||"sustainability_subpage"===t.subPageId||"questions-and-answers-sub-page"===t.subPageId||"htReviews"===t.subPageId)if(window.history.state&&0<window.history.state.step)_.back(-1);else{var n=_.current;_.replaceWith(_.defaultView),_.push(n),"htReviews"!==t.subPageId&&_.back(-1)}_r_()}),i.subscribe(f,function(e,t){_i_("65cb:78803e9f"),"sustainability_subpage"!==t.subPageId&&"questions-and-answers-sub-page"!==t.subPageId&&"htReviews"!==t.subPageId&&"food_and_drinks_subpage"!==t.subPageId&&"facilities_subpage"!==t.subPageId||setTimeout(function(){_i_("65cb:ec6d029f");var e=r(".rt-controls,#bookForm,#roomstable_nodates,#availability");if(e.length){var t=e.eq(0).offset();r("html, body").animate({scrollTop:t.top-15},750)}_r_()},10),_r_()}),i.subscribe(d,function(e,t){if(_i_("65cb:8242c97b"),"property-description-sheet"===t.subPageId||"sustainability_subpage"===t.subPageId||"questions-and-answers-sub-page"===t.subPageId||"htReviews"===t.subPageId){var n=r("[data-sub-page-ref="+t.subPageId+"]:first");n.length&&(n.data("tabRetainScroll",!0),n.data("tabExtras","sub-page-ref:subPageId"),o.activateTab(t.subPageId,n))}_r_()}),i.subscribe(b,function(e,t){_i_("65cb:517bea65"),"cn"===s.b_countrycode&&s.b_is_dot_cn&&r.get("/cn/hotel/license",{aid:s.b_aid,hotel_id:s.b_hotel_id},function(e){var t;_i_("65cb:e226e097"),e.license_photo_urls&&e.license_photo_urls.length&&(t=e.license_photo_urls[0]),i.publish(l.CHINA_LICENSE_DATA,{licensePhotoUrl:t,qualified:e.qualified}),_r_()}),_r_()}),_r_()})(),_r_()}),_r_(),B.define("component/property/drawerWithNavigation",function(e,t,n){_i_("65cb:a7b36af5");var i=e("component"),_=e("persistent-view"),a=e("tabbed-nav"),o=e("server-data"),r=e("et"),s=e("utils/throttled");function c(e){if(_i_("65cb:e9071fc4"),!e)return _r_();for(var t=e.split(" "),n=0;n<t.length;n++){var i=t[n].split(":");i&&i.length&&"customGoal"==i[0]&&i[1]&&i[2]&&r.customGoal(i[1],i[2])}_r_()}n.exports=i.extend({init:function(){_i_("65cb:9858f395");var n=!1,i=!1,r=this.$el.data("drawer-id")?this.$el:this.$el.find("[data-drawer-id]"),t=r.data("tab-id");if(r.length&&t){var e=window.BUI.createInstance("Drawer",r.get(0),{onAfterOpen:function(){_i_("65cb:a9eb1b8c"),n=!0,a.activateTab(t,r),c(r.data("on-after-open-cg")),$(this.modalEl).loadComponents();var e=$(this.modalEl).find(".bui-drawer__content");e.length&&e.off("scroll.sub").on("scroll.sub",s(function(e){_i_("65cb:3c179719"),B.eventEmitter.emit(B.eventNames.DRAWER_WITH_NAV_SCROLLS,e),_r_()},500)),_r_()},onBeforeClose:function(e){if(_i_("65cb:8fdcc4ea"),n){if(n=!1,!i)if(window.history.state&&0<window.history.state.step)_.back(-1);else{var t=_.current;_.replaceWith(_.defaultView),_.push(t),_.back(-1)}c(r.data("on-before-close-cg"))}_r_()}});_.register(t,{load:function(){_i_("65cb:4ca1b089"),e.open(),_r_()},destroy:function(){_i_("65cb:1d2b5ec1"),n&&e&&(i=!0,e.close(),i=!1),_r_()}}),e.mount()}else o.b_dev_server&&console.error("[DEV] Error while init drawerWithNavigation component!");_r_()}}),_r_()}),B.define("component/hotel/date-change-modal",function(e,t,n){_i_("65cb:d10dbb23");var i=e("component"),r=e("core/calendar-events"),_=e("core/fancierloader"),a=e("event-emitter"),o=e("et"),s=e("jquery"),c=window.BUI;n.exports=i.extend({init:function(){_i_("65cb:ee794b8c"),a.extend(this),this.modalInstance=c.createInstance("Modal",null,{id:"date-change-modal",onAfterOpen:function(){_i_("65cb:c9bd54d5");var e=s(this.modalInstance.modalEl);B.env.cross_product_search&&e.find(".searchbox_cross_product").loadComponents(),e.find(".group_children").trigger("change"),e.find(".js_submit_search:not([data-no-loader-on-click]), .js_submit_change_dates").on("click",function(e,t){if(_i_("65cb:355dfcba"),t&&!0===t.synthetic)return _r_(!0);e.preventDefault();var n=s(this),i=n.parents("form"),r=i.find(".checkInCal").datepicker?i.find(".checkInCal").datepicker("getDate"):new window.Date(s("#ci_date_input").val());_.show(r,void 0,i),setTimeout(function(){_i_("65cb:6f709457"),n.trigger("click",{synthetic:!0}),_r_()},175),_r_()}),_r_()}.bind(this),onBeforeOpen:function(){_i_("65cb:0bedc833"),B.env.no_pikaday?s(this.modalInstance.modalEl).loadComponents():(o.initAttributesTracking(this.modalInstance.modalEl),s(this.modalInstance.modalEl).find(".dualcal").each(function(e,t){_i_("65cb:fe271275"),r.initCalendar(t),_r_()})),_r_()}.bind(this),onAfterClose:function(){}.bind(this)}),c.initComponents(this.el),this.modalInstance.mount(),s(this.el).on("click",function(e){_i_("65cb:f9c76c89"),this.showPopup(),_r_()}.bind(this)),_r_()},showPopup:function(){_i_("65cb:1ddf912d"),this.modalInstance.open(),this.emit("HP_DATES_POPUP_SHOW:DYNAMIC_LOS",s(this.modalInstance.modalEl)),_r_()}}),_r_()}),B.define("component/arp-searchbox-change-dates",function(e,t,n){_i_("65cb:ede75121");var i=e("component"),r=e("with-capla"),_=i.extend({init:function(){_i_("65cb:0818cc08");var n=this.$el,i=Boolean(Number(B.env.fe_simple_date_change))&&n.closest(".js-m_rt_fullpage__container").length;r("property-web","property-page",function(e){_i_("65cb:589b41b2");var t=e.eventBus;if(!t)return _r_();n.on("click",function(){if(_i_("65cb:4065281c"),i)return _r_();t.publish("CAPLA_EVENT_search-web_searchresults_SEARCHBOX_OPENED"),_r_()}),_r_()}.bind(this))(),_r_()}});n.exports=_,_r_()}),function(_,e){"use strict";_i_("65cb:49cf5f63"),e(function(){_i_("65cb:e10da1a9");var i=e(".simple_av_calendar");if(!i||!i.length)return _r_();var r=_.env;_.require("fragment").call("searchresults.restricted_availability",function(){_i_("65cb:6023ace1");var e={checkin:r.b_checkin_date,checkout:r.b_checkout_date,hid:r.b_hotel_id,search_config:_.env.b_search_config,simpleav:1,src:"mdot_hp_soldout"};return _r_(e)}()).then(function(e){if(_i_("65cb:a27aa179"),!(e&&e[r.b_hotel_id]&&0<e[r.b_hotel_id].dates.length))return _r_();(e=e[r.b_hotel_id]).dates=e.dates.splice(0,2);var t={dates:e.dates,url_no_dates:e.hp_url_no_dates,b_query_params_delimiter:r.b_query_params_delimiter},n=_.jstmpl("vpm_m_hp_sold_next_av_date").render(t);i.html(n).show(),_r_()}),_r_()}),_r_()}(B,jQuery),booking.jstmpl("vpm_m_hp_sold_next_av_date",function(){_i_("65cb:08854c27");var a,o=['\n\n\t<h4 class="simple_av_calendar_title">\n\t\t',"/private/m_hotel_sold_out_next_dates_really_want/name","\n\t</h4>\n\n\t",'\n\t  <a class="simple_av_calendar_item" href="',"checkin=","checkout=",'origin=hp">\n\n\t\t<span class="simple_av_calendar_dates">\n\t\t  <span class="u-display:inline-block">\n\t\t\t',' \n\t\t  </span>\n\t\t  <span class="u-display:inline-block">\n\t\t\t','\n\t\t  </span>\n\t\t</span>\n\n\t\t<span class="simple_av_calendar_los">',"\n                ","/private/bh_av_calendar_num_weeks/name",",\n            ","/private/av_calendar_num_nights/name","\n            ","  ",'</span>\n\t\t<span class="simple_av_calendar_price">',"/private/av_calendar_from_price/name","</span>\n\t  </a>\n\n\t","\n\n"],s=["dates","url_no_dates","b_query_params_delimiter","checkin","checkout","los_in_weeks","los","price_pretty"];return _r_(function(e){_i_("65cb:0329c06e");var t="",n=this.fn;t+=[o[0],n.ME(o[1],n.MB,n.MN,null),o[2]].join("");var i=n.MC(s[0])||[];e.unshift(null);for(var r=1,_=i.length;r<=_;r++)e[0]=i[r-1],t+=[o[3],n.MC(s[1]),n.MC(s[2]),o[4],n.MC(s[3]),n.MC(s[2]),o[5],n.MC(s[4]),n.MC(s[2]),o[6],n.DATE(n.MB(s[3]),"short_date","","",""),o[7],n.DATE(n.MB(s[4]),"short_date","","",""),o[8]].join(""),n.MD(s[5])?t+=[o[9],(e.unshift({num_weeks:n.MB(s[5])}),a=n.ME(o[10],n.MB,n.MN,n.MO(n.MC(s[5]),null,o[10])),e.shift(),a),o[11]].join(""):t+=[o[9],(e.unshift({b_num_nights:n.MB(s[6])}),a=n.ME(o[12],n.MB,n.MN,n.MO(n.MC(s[6]),null,o[12])),e.shift(),a),o[11]].join(""),t+=[o[13],n.DATE(n.MB(s[3]),"short_weekday_only","","",""),o[14],n.DATE(n.MB(s[4]),"short_weekday_only","","",""),o[15],(e.unshift({b_from_price:n.MB(s[7])}),a=n.ME(o[16],n.MB,n.MN,null),e.shift(),a),o[17]].join("");return e.shift(),t+=o[18],_r_(t)})}()),B.require(["jquery","utils/throttled","utils/inviewport"],function(t,e,n){if(_i_("65cb:5a9b0cd1"),"hotel"!==b.env.b_action)return _r_();var i=t(".js-just-booked-badge,.m-badge.anim").map(function(){return _i_("65cb:fa11aae1"),_r_(t(this))}),r="resize scroll load";function _(e,t){_i_("65cb:5383555a"),window.setTimeout(function(){_i_("65cb:85dfcf65"),e.is(".js-just-booked-badge")?e.addClass("is-active"):e.addClass("fadeIn"),_r_()},t),_r_()}var a=e(function(){if(_i_("65cb:9141cd15"),0<i.length)for(var e=0;e<i.length;e++)n(i[e])&&(_(i[e],Math.floor(250*Math.random())+250),i.splice(e,1),e-=1,0===i.length&&t(window).off(r,a));_r_()},200);a(),t(window).on(r,a),_r_()}),B.when({condition:$("[data-show-bad-offers]").length}).run(function(e){_i_("65cb:b6cdbf5d");var a=e("jquery"),o=a(".js-m-hp-rt-room-is-higher-offer"),s="m_hp_rt_room_card_has_higher_offers";a(document.body).on("click","[data-show-bad-offers]",function(e){_i_("65cb:7c001d2e"),e.preventDefault();var t=a(this),n=t.parents(".js-m_hp_rt_higher_offers_banner"),i=t.data("badOffersIds"),r=t.data("triggererBlockId"),_=a("#"+r);if(!i.length)return _r_();n.addClass("g-hidden"),_.parents("."+s).removeClass(s),o.filter(function(e,t){_i_("65cb:d38d24a6");var n=a(t).find(".m_hp_rt_room_card__container").attr("id");return _r_(-1!==i.indexOf(n))}).each(function(e,t){_i_("65cb:3e81fe62");var n=a(t).prev(".js-room_position");_.closest("li.db-card").after(n,a(t).removeClass("g-hidden")),_r_()}),_r_()}),_r_()}),B.require(["jquery"],function(n){"use strict";function e(e){_i_("65cb:e5ef83d2"),e.preventDefault();var t=n(e.target).closest(".property-response__comment");t.text(t.data("full-response")),_r_()}_i_("65cb:76a6799e"),B.eventEmitter.on("REVIEWS:fetched",function(){_i_("65cb:0fd6c085"),n(".property-response__toggle-more").on("click",e),_r_()}),_r_()}),booking.browserStorageHandler=function(l,e,d,u){_i_("65cb:a11e61ce");var f=!1;try{(f=!(!l.localStorage||!l.sessionStorage))&&l.localStorage.setItem("btest","1")}catch(e){f=!1}var i={_readCookie:function(e){_i_("65cb:51d0b270");var t={};try{"undefined"!=typeof JSON&&(t=JSON.parse(u.cookie(e))||{})}catch(e){}return _r_(t)},_modifySingleValue:function(e,t,n,i,r){if(_i_("65cb:22c7266b"),!t||!n)return _r_(!1);if(f&&!r){var _="session"===e?l.sessionStorage:l.localStorage;if("delete"===t)_.removeItem(n);else try{_.setItem(n,i)}catch(e){}}else{var a,o,s,c;"session"===e?a="bs":(a="b",c=30),o=this._readCookie(a),"delete"===t?delete o[n]:o[n]=i,s=u.isEmptyObject(o)?null:JSON.stringify(o),u.cookie(a,s,{expires:c,path:"/",domain:d.b_domain_end})}_r_()},_getValue:function(e,t,n){if(_i_("65cb:f1ea0118"),!t)return _r_(void 0);if(f&&!n){var i="session"===e?l.sessionStorage:l.localStorage;return _r_(i.getItem(t))}var r,_;return r="session"===e?"bs":"b",_=this._readCookie(r),_r_(_[t])}};return _r_({addSessionValue:function(e,t,n){return _i_("65cb:b380b492"),_r_(i._modifySingleValue("session","add",e,t,n))},deleteSessionValue:function(e,t){return _i_("65cb:d61f09c2"),_r_(i._modifySingleValue("session","delete",e,void 0,t))},getSessionValue:function(e,t){return _i_("65cb:d6b8f5d6"),_r_(i._getValue("session",e,t))},addPermanentValue:function(e,t,n){return _i_("65cb:fe0aaa49"),_r_(i._modifySingleValue("permanent","add",e,t,n))},deletePermanentValue:function(e,t){return _i_("65cb:99a942db"),_r_(i._modifySingleValue("permanent","delete",e,void 0,t))},getPermanentValue:function(e,t){return _i_("65cb:07d7aebb"),_r_(i._getValue("permanent",e,t))},isLocalStorageSupported:function(){return _i_("65cb:1bca3a3a"),_r_(f)}})}(window,document,booking.env,window.jQuery),booking.define&&booking.define("browser-storage-handler",booking.browserStorageHandler),function(a){if(_i_("65cb:6c03449c"),!(a&&a.env&&a.env.b_guest_country&&/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|gb/gim.test(a.env.b_guest_country)))return _r_();a.when({events:"ready",action:"hotel"}).run(function(e){_i_("65cb:90570d98");var _=e("hotel/roomstable").RT.selected;function t(){_i_("65cb:b0b108e2"),setTimeout(n,50),_r_()}function n(){_i_("65cb:1d20fe3d"),$(".prd-taxes-and-fees-under-price.on-hpage").each(function(){_i_("65cb:903c098c");var e=$(this);if(2!=parseInt(e.data("cur-stage")))return _r_(!1);var t=e.data("block-uid")||"",n=e.data("excl-charges-raw")||0;if(!(n=parseFloat(n))||!t)return _r_(!0);var i="";if(_[t]&&1<_[t].count){var r=n*_[t].count;i=a.jstmpl.translations("mdot_sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:a.utils.accounting.formatMoney(r)})}else i=a.jstmpl.translations("mdot_sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:a.utils.accounting.formatMoney(n)});e.html(i),_r_()}),_r_()}a.events.on(a.eventNames.RT_ROOM_ADD,t),a.events.on(a.eventNames.RT_ROOM_REMOVE,t),_r_()}),_r_()}(booking),function(a){if(_i_("65cb:a6187b26"),!(a.env.b_guest_country&&!/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb|id/gim.test(a.env.b_guest_country)))return _r_();a.when({events:"ready",action:"hotel"}).run(function(e){_i_("65cb:90570d981");var _=e("hotel/roomstable").RT.selected;function t(){_i_("65cb:b0b108e21"),setTimeout(n,50),_r_()}function n(){_i_("65cb:1d20fe3d1"),$(".prd-taxes-and-fees-under-price.on-hpage").each(function(){_i_("65cb:903c098c1");var e=$(this);if(2!=parseInt(e.data("cur-stage")))return _r_(!1);var t=e.data("block-uid")||"",n=e.data("excl-charges-raw")||0;if(!(n=parseFloat(n))||!t)return _r_(!0);var i="";if(_[t]&&1<_[t].count){var r=n*_[t].count;i=a.jstmpl.translations("mdot_sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:a.utils.accounting.formatMoney(r)})}else i=a.jstmpl.translations("mdot_sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:a.utils.accounting.formatMoney(n)});e.html(i),_r_()}),_r_()}a.events.on(a.eventNames.RT_ROOM_ADD,t),a.events.on(a.eventNames.RT_ROOM_REMOVE,t),_r_()}),_r_()}(booking),B.define("component/deals-container",function(e,t,n){_i_("65cb:c388111f");var i=e("component"),r=e("event-emitter"),_=e("component/deals-container/events"),a=e("read-data-options");n.exports=i.extend({events:_,init:function(){_i_("65cb:47244380"),r.extend(this),this.options=a(this.$el,{deals:{name:"deals",type:String},dealsOther:{name:"deals-other",type:String},layout:{name:"layout",type:String},noTooltips:{name:"no-tooltips",type:String},useDrawer:{name:"use-drawer",type:String},preventPropagation:{name:"prevent-propagation",type:String}});try{this.options.deals=JSON.parse(this.options.deals),this.options.dealsOther=JSON.parse(this.options.dealsOther)}catch(e){}this.options.preventPropagation&&"1"===this.options.preventPropagation&&this.$el.on("click",function(e){_i_("65cb:b054e319"),e.stopPropagation(),_r_()}),_r_()}}),_r_()}),B.define("component/deals-container/events",function(e,t,n){"use strict";_i_("65cb:6e08fe08"),n.exports={CTA_CLICKED:"CTA_CLICKED"},_r_()}),B.define("component/earn-credits",function(e,t,n){_i_("65cb:caf818ba");var i=e("component"),r=e("read-data-options");n.exports=i.extend({init:function(){_i_("65cb:7e9a19e5"),this.options=r(this.$el,{preventPropagation:{name:"prevent-propagation",type:String}});try{this.options.deals=JSON.parse(this.options.deals)}catch(e){}this.options.preventPropagation&&"1"===this.options.preventPropagation&&this.$el.on("click",function(e){_i_("65cb:b054e3191"),e.stopPropagation(),_r_()}),_r_()}}),_r_()}),function(n){_i_("65cb:ae3c04fa"),n.when({events:"ready",action:["searchresults","hotel"]}).run(function(e){_i_("65cb:f9f93932");var t=e("et");n.env.b_guest_country&&"us"===n.env.b_guest_country&&t.stage("TVBdLOLOLOMeVUUADJVXQUJBGcNET",9),_r_()}),_r_()}(booking),B.define("intercomp-env",function(e,t,n){"use strict";_i_("65cb:bdb6bf7e");var i,r={},_={};_.setValue=function(e,t){_i_("65cb:219c7d18"),r[e]=t,_r_()},_.getValue=function(e){if(_i_("65cb:fc1a0ffc"),r.hasOwnProperty(e))return _r_(r[e]);return _r_()};var a={};a.getInstance=function(){return _i_("65cb:5c45e2f8"),i||(_i_("65cb:0c99c835"),i=_r_(_)),_r_(i)},n.exports=a,_r_()}),function(e,t,n){"use strict";_i_("65cb:ab08aa9b"),e.when({condition:e.env.fe_los_availability_constraint_on_hp_shown,action:"hotel",events:"ready"}).require(["jquery"],function(t){_i_("65cb:0a24318f"),t("#suggest_extend_dates_by_scroll").click(function(){_i_("65cb:4c2af4ce");var e=t(".simple_av_calendar").offset();return e&&e.top&&t("html, body").animate({scrollTop:e.top},500),_r_(!1)}),_r_()}),_r_()}(window.booking,window,document),B.define("component/referral/web-virality/ga",function(e,t,n){_i_("65cb:a0535f39");var i=e("component"),r=e("ga-tracker"),_=e("jquery"),a=e("when/events-view");"mdot"==B.env.b_site_type&&B.events&&B.eventNames&&B.eventNames.TABNAV_MENU_LOADED&&B.events.one(B.eventNames.TABNAV_MENU_LOADED,function(){_i_("65cb:e5a27b97"),_("#raf-nav-entrypoint").loadComponents(),_r_()}),n.exports=i.extend({init:function(){_i_("65cb:9d0bfdba");var e=this.$el;switch(e.data("wv-ga-type")){case"pageview":var t=e.data("wv-ga-details");if(!t)return _r_();switch(B.env.b_action){case"index":r.trackEvent(r.webViralityTracker,"raf-index-page-entered|"+t);break;case"searchresults":r.trackEvent(r.webViralityTracker,"raf-sr-page-entered|"+t);break;case"hotel":r.trackEvent(r.webViralityTracker,"raf-hp-page-entered|"+t);break;case"book":2==B.env.b_stage?r.trackEvent(r.webViralityTracker,"raf-bs2-entered|"+t):3==B.env.b_stage&&r.trackEvent(r.webViralityTracker,"raf-bs3-entered|"+t);break;case"confirmation":r.trackEvent(r.webViralityTracker,"raf-confirmation-page-entered|"+t)}break;case"viewandclick":e.on("click",function(){_i_("65cb:5def794c"),r.trackEvent(r.webViralityTracker,"entry-point-button-click",e.data("wv-ga-placement")),_r_()}),a(e,function(){_i_("65cb:b5a7c9fa"),r.trackEvent(r.webViralityTracker,"entry-point-button-show",e.data("wv-ga-placement")),_r_()});break;case"myreferrals-pageview":r.trackEvent(r.webViralityTracker,"raf-dashbard-show|"+e.data("wv-ga-action"),e.data("wv-ga-code"));break;case"click":e.on("click",function(){_i_("65cb:9127e7ae"),r.trackEvent(r.webViralityTracker,e.data("wv-ga-action")),_r_()});break;case"share":e.on("click",function(){_i_("65cb:3ad9c335"),r.trackEvent(r.webViralityTracker,e.data("wv-ga-action"),e.data("wv-ga-placement")),_r_()})}_r_()}}),_r_()}),B.define("component/referral/invalid-link",function(e,t,n){_i_("65cb:ffdc4fb7");var i=e("component"),r=e("lightbox");booking.jstmpl("invalid_link_card",function(){_i_("65cb:eaab8a16");var r,_=["\n        ","\n",'\n    <div data-component="referral/require-login-lightbox"></div>\n','\n    <div class="raf_modal_invalid">\n        <div class="raf_modal_invalid__title">\n            ',"\n                ","/private/raf_friend_landing_shut_down_modal_body/name","\n            ","/private/raf_flex_shutdown_influencers/name",'\n        </div>\n        <div class="raf_modal_invalid_image">\n            <img width="150" src="','" alt="invalid raf">\n        </div>\n        <div class="raf_modal_invalid__subtitle">\n        </div>\n        <div class="raf_modal_invalid__body">\n        </div>\n        <div class="raf_modal_invalid_cta">\n            <button class="bui-button bui-button--primary js-modal-close" type="button" style="width: 100%">\n                <span class="bui-button__text">\n                    ',"/private/raf_validation_error_modal_employee_button/name",'\n                </span>\n            </button>\n        </div>\n        <button class="modal-mask-closeBtn" title="Close">\n            ',"iconset/close","large",'\n            <span class="invisible_spoken">Close</span>\n        </button>\n    </div>\n',"\n    "],a=["b_raf_error_code","b_raf_li_in","b_campaign_expired"];return _r_(function(e){_i_("65cb:fe6eaff8");var t,n="",i=this.fn;return n+=_[0],t=n,_i_("65cb:669836af"),t+=_[1],i.MJ(i.MC(a[0])+""=="user_not_logged_in")?t+=_[2]:(t+=_[3],i.MJ(1==i.MC(a[1]))?t+=[_[4],i.ME(_[5],i.MB,i.MN,null),_[6]].join(""):i.MJ(1==i.MC(a[2]))&&(t+=[_[4],i.ME(_[7],i.MB,i.MN,null),_[6]].join("")),t+=[_[8],i.STATIC_HOSTNAME("/static/img/referral/raf-failure.svg",0,0,0,0),_[9],i.ME(_[10],i.MB,i.MN,null),_[11],(e.unshift({name:_[12],size:_[13]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[14]].join("")),n=_r_(t),n+=_[15],_r_(n)})}()),n.exports=i.extend({init:function(){_i_("65cb:16a9c65b");var e=B.jstmpl("invalid_link_card"),t={b_raf_li_in:this.$el.data("raf-li-in"),b_campaign_expired:this.$el.data("campaign-expired"),fe_companyname:B.env.b_companyname},n=r.show(e.render(t),{bCloseButton:!1,customWrapperClassName:"raf_invalid_modal_wrapper"});n&&n.loadComponents&&n.loadComponents(),$(".js-modal-close").click(function(){_i_("65cb:766c755e"),r.hide(),_r_()}),_r_()}}),_r_()}),B.when({events:"ready",condition:function(e){_i_("65cb:2c475bd7");var t=Number(e.fe_exp_rsw_m_hp_rt_horizontal_scroll||0);return _r_(0===t)}}).run(function(e){_i_("65cb:9a604483");var t=e("jquery"),n=e("event-bus"),i=t(".js-rt-remove-when-filtering"),r=function(){_i_("65cb:bb679429"),t(".rt-filters--tag__selected").length&&i.length?i.hide():i.show(),_r_()};n.on(B.eventNames.RT_FILTER_APPLY,r),r(),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:57172035");var i,r,_,a,o,t=e("jquery"),s=e("hotel/roomstable").RT,c=t(".js-rooms-table"),l=t("#bookForm"),d=e("hotel/store"),n=e("server-data"),u=Number(n.fe_exp_rsw_m_hp_rt_horizontal_scroll||0);o=e(0<u?"hotel/roomstable/horizontal-scroll/filter":"hotel/roomstable/filter");var f=function(e){_i_("65cb:7d2a436c");var t=o.getSelectedFilters();i={initial:[],final:[],has_filters:Boolean(t.length),matches_filters:[]};var n=Object.keys(d.getState().roomsTable.selection.blocks);0<n.length&&n.forEach(function(e){if(_i_("65cb:c8447fd5"),_=s.room(e),i.initial.push(_.$room.data("position")),a=c.children("li.db-card__room").not(".wholesalers_card_wrapper:hidden").index(_.$room.closest("li.db-card__room")),i.final.push(a+1),"true"===i.has_filters){if(_.$el.hasClass("db-card__room-minimised"))return i.matches_filters.push("false"),_r_();_.$el.hasClass("rt-filters__card-match-filter")&&i.matches_filters.push("true")}_r_()}),Object.keys(i).forEach(function(e){_i_("65cb:09324eb9"),r="rt_pos_"+e,l.find("input[name="+r+"]").length||l.prepend('<input type="hidden" name="'+r+'" >'),l.find("input[name="+r+"]").val(i[e]),_r_()}),_r_()};B.events.on(B.eventNames.RT_ROOM_SUBMIT,f),B.events.on(B.eventNames.RT_ROOM_SUBMIT_FPD,f),B.events.on(B.eventNames.RT_ROOM_SUBMIT_RT,f),_r_()}),B.when({events:"ready",condition:function(e){return _i_("65cb:8ad57231"),_r_("fe_separate_beds_filter_trigger"in e&&0<e.fe_separate_beds_filter_trigger)}}).run(function(e){_i_("65cb:b17eea24");var r=e("jquery"),t={handleFilterChange:function(e,t){_i_("65cb:196cfec0");var n=t.selectedFilters.filter(function(e){return _i_("65cb:f40cf205"),_r_("number-beds"===e.key&&e.value)});if(n.length){var i=n[0].value;r(".js-rooms-table .js-bed-option-radio").filter('.js-bed-option-radio[data-bed-count="'+i+'"]').each(function(){_i_("65cb:28e17101"),r(this).click(),_r_()})}_r_()}};B.eventEmitter.on(B.eventNames.RT_FILTER_APPLY,t.handleFilterChange),_r_()}),B.when({events:"ready"}).run(function(e){_i_("65cb:1d988fc0");var i=e("jquery"),t=B.require("utils/uuid4"),n=e("server-data"),r={relevance_metric_id:"",pageview_id:"",trackBlocksOrder:function(){_i_("65cb:2679dcef");var e=r.blocksOrder();r.relevance_metric_id=t(),i.ajax({method:"POST",dataType:"json",url:"/log_rt_blocks_order",data:{hotel_id:n.b_hotel_id,block_ids:e.join(","),relevance_metric_id:r.relevance_metric_id}}).done(function(e){_i_("65cb:d9df4312"),r.pageview_id=e.pageview_id,_r_()}),_r_()},blocksOrder:function(){_i_("65cb:2149cc77");var e,t=i(".js-rooms-table .room:not(.wholesalers_block_wrapper)"),n=[];return t.each(function(){_i_("65cb:64924e71"),e=i(this).data("block-id"),n.push(e),_r_()}),_r_(n)},kickstart:function(){_i_("65cb:3ca708dc"),B.eventEmitter.on(B.eventNames.RT_FILTER_APPLY,r.trackBlocksOrder),B.events.on(B.eventNames.RT_ROOM_SUBMIT,r.submit2BP),r.trackBlocksOrder(),_r_()},submit2BP:function(){_i_("65cb:5aa25993");var e=i("#bookForm");e.find("input[name=rt_relevance_metric_id]").val(r.relevance_metric_id),e.find("input[name=rt_pageview_id]").val(r.pageview_id),_r_()}};r.kickstart(),_r_()}),B.define("lazy-loader-image",function(e,t,n){_i_("65cb:20b733fd"),t.initializeLazyLoaderImage=function(n,i){_i_("65cb:71a370bb");var e=[].slice.call(document.querySelectorAll("img."+n));if("IntersectionObserver"in window){var r=new IntersectionObserver(function(e,t){_i_("65cb:20544341"),e.forEach(function(e){if(_i_("65cb:f5d47da8"),e.isIntersecting){var t=e.target;t.src=t.dataset.src,t.srcset=t.dataset.srcset,t.classList.remove(n),r.unobserve(t),i&&"function"==typeof i&&(t.complete?i.call(this,t,t.src):t.addEventListener("load",function(){_i_("65cb:fa466fd8"),i.call(this,t,t.src),_r_()}.bind(this)))}_r_()}),_r_()});e.forEach(function(e){_i_("65cb:77893bc9"),r.observe(e),_r_()})}else{var t=!1,_=function(){_i_("65cb:36bcc533"),!1===t&&(t=!0,setTimeout(function(){_i_("65cb:45cd399c"),e.forEach(function(t){_i_("65cb:3229bc6b"),"none"!==getComputedStyle(t).display&&t.getBoundingClientRect().top<=window.innerHeight&&0<=t.getBoundingClientRect().bottom&&(t.src=t.getAttribute("data-src"),t.srcset=t.getAttribute("data-srcset"),t.classList.remove(n),i&&"function"==typeof i&&(t.complete?i.call(this,t,t.src):t.addEventListener("load",function(){_i_("65cb:005ea784"),i.call(this,t,t.src),_r_()}.bind(this))),0===(e=e.filter(function(e){return _i_("65cb:3fa4279d"),_r_(e!==t)})).length&&(document.removeEventListener("scroll",_),window.removeEventListener("resize",_),window.removeEventListener("orientationchange",_))),_r_()}),t=!1,_r_()},500)),_r_()};document.addEventListener("scroll",_),window.addEventListener("resize",_),window.addEventListener("orientationchange",_)}_r_()},_r_()}),B.define("sliding-view-model",function(e,t,n){_i_("65cb:3d31669b1");var i=e("event-emitter"),r={},_={show:"sliding-view/show",showView:"sliding-view/showView",hide:"sliding-view/hide"};function a(){_i_("65cb:c041a6631"),this.isShown=0,i.extend(this),_r_()}a.prototype.isPanelShown=function(){return _i_("65cb:0ec518081"),_r_(this.isShown)},a.prototype.hide=function(){_i_("65cb:e339093e1"),this.isShown&&this.emit(_.hide),_r_()},a.prototype.show=function(e){if(_i_("65cb:b5dafb4d1"),this.isShown)return this.emit(_.showView,e),_r_();this.emit(_.show,e),_r_()},n.exports={EVENTS:_,get:function(e){if(_i_("65cb:757623b01"),"string"!=typeof e||0===e.length)throw new Error("sliding-view-model: invalid .get() argument!");return r.hasOwnProperty(e)||(r[e]=new a,r[e].id=e),_r_(r[e])},hideAll:function(){for(var e in _i_("65cb:41b079151"),r)r[e].hide();_r_()},isAnyPanelOpen:function(){if(_i_("65cb:fac5c04d1"),r)for(var e in r)if(r.hasOwnProperty(e))return _r_(r[e].isPanelShown());_r_()}},_r_()}),B.define("component/core/sliding-view-trigger",function(e,t,n){_i_("65cb:83b716921");var i=e("component"),_=e("sliding-view-model");n.exports=i.extend({init:function(){if(_i_("65cb:4aad685d1"),this.panel=this.$el.data("paramPanel"),"string"!=typeof this.panel)throw new Error("core/sliding-view: `data-panel` is invalid or undefined!");this.preventDefault=void 0===this.$el.data("prevent-default")||this.$el.data("prevent-default"),this.model=_.get(this.panel);var i=this.el.dataset;if(i){this.params={};var r=new RegExp("param");Object.keys(i).forEach(function(e){_i_("65cb:7e858d441");var t=i[e];if(r.test(e)){var n=e.slice(5);n=n.toLowerCase(),this.params[n]=t}"paramIsStatic"===e&&(this.params.target=this.panel+"_static"),_r_()}.bind(this))}this._attachEvents(),_r_()},_attachEvents:function(){_i_("65cb:3c0e7bba1"),this.$el.on("click",this.onClick.bind(this)),_r_()},onClick:function(e){_i_("65cb:315376a11"),e.preventDefault(),this.model.show(this.params),_r_()}}),_r_()}),B.define("beach_team_pilot/helpers",function(e,t,n){"use strict";_i_("65cb:a449abb0");var i=e("querystring"),_=B.env.b_action,r=B.env.b_site_type,a=B.env.isRetina,o=B.env.fe_b_beach_ufi||"",s={fe_site_type:r,fe_is_retina:a,fe_page:_,fe_ufi:o,fe_beach_view:0,fe_is_static:1,fe_has_map:!parseInt(B.env.fe_tt_blackout_map_entry_cn),fe_map_id:"beach_ufi-panel-map",fe_show_beaches:1,fe_show_landmarks:1,fe_show_property:0,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_ufi_hero_image:B.env.fe_ufi_hero_image,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},c={fe_site_type:r,fe_is_retina:a,fe_page:_,fe_ufi:o,fe_beach_view:1,fe_has_map:!parseInt(B.env.fe_tt_blackout_map_entry_cn),fe_map_id:"beach-panel-map",fe_show_beaches:1,fe_show_landmarks:1,fe_show_property:0,fe_show_map_list:1,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},l={fe_site_type:r,fe_is_retina:a,fe_page:_,fe_beach_view:0,fe_is_static:0,fe_is_fixed:0,fe_has_map:!parseInt(B.env.fe_tt_blackout_map_entry_cn),fe_map_id:"beach_property-panel-map",fe_show_beaches:1,fe_show_landmarks:0,fe_hotel_id:B.env.fe_hotel_id,fe_show_property:B.env.b_hotel_id,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},d={fe_site_type:r,fe_is_retina:a,fe_page:_,fe_beach_view:0,fe_is_static:1,fe_is_fixed:0,fe_has_map:!parseInt(B.env.fe_tt_blackout_map_entry_cn),fe_map_id:"beach_surroundings-panel-map",fe_show_beaches:1,fe_show_landmarks:0,fe_show_property:B.env.b_hotel_id,fe_property_name:B.env.property_name,fe_hotel_id:B.env.fe_hotel_id,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},u={fe_site_type:r,fe_is_retina:a,fe_page:_,fe_beach_view:1,fe_is_static:0,fe_has_map:!parseInt(B.env.fe_tt_blackout_map_entry_cn),fe_map_id:"beach-panel-map",fe_show_beaches:1,fe_show_landmarks:0,fe_show_property:B.env.b_hotel_id,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_hotel_id:B.env.fe_hotel_id,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},f={configureRenderData:function(e,t){_i_("65cb:8fd4e60d");var n=[],i=t.panelId;e.beaches&&(("sliding-view__property"===i||"sliding-view__surroundings"===i)&&3<=e.beaches.length&&!B.env.fe_beach_team_dont_limit_beaches&&(e.beaches=e.beaches.slice(0,3)),e.beaches.map(function(e){_i_("65cb:9c1b1153"),e.type="beach",e.sorter_url=B.env.fe_beach_order_urls?B.env.fe_beach_order_urls[e.id]:"",e.beach_details=[].concat(e.facilities,e.sand_and_water),_r_()}),n=n.concat(e.beaches)),"sliding-view__beach"!==i&&e.landmarks&&(e.landmarks.map(function(e){_i_("65cb:fad35b42"),e.type="landmark",_r_()}),n=n.concat(e.landmarks)),e.city&&(e.city.id="citycenter_"+e.city.name,e.city.type="citycenter",e.city.group_name="City center",n.push(e.city)),e.nearest_airport&&(e.nearest_airport.id="airport_"+e.nearest_airport.iata,e.nearest_airport.type="airport",e.nearest_airport.group_name="Airport",e.nearest_airport.lat=e.nearest_airport.latitude,e.nearest_airport.long=e.nearest_airport.longitude,n.push(e.nearest_airport)),e.cards=n;var r={fe_beaches:e.beaches,fe_landmarks:e.landmarks,fe_cards:e.cards,render_params:t,fe_map_url:e.static_map_url};if(window.location.hash.match(/map_opened/)?r.fe_is_map_open=!0:r.fe_is_map_open=!1,"searchresults"===_){if("sliding-view__ufi"===i)return _r_($.extend({},s,r));if("sliding-view__beach"===i)return _r_($.extend({},c,r))}else if("hotel"===_){if("sliding-view__property"===i)return _r_($.extend({},l,r));if("sliding-view__beach"===i)return _r_($.extend({},u,r));if("sliding-view__surroundings"===i)return _r_($.extend({},d,r));if("sliding-view__sidebar"===i)return _r_($.extend({},l,r))}_r_()},initActiveView:function(e){_i_("65cb:60588a4f");var t=i.parseUrl(location.href).query;if(t.activeView&&""!==t.activeView&&!t.distance_from_geo){var n=t.activeView;n&&e.call(this,n)}_r_()}};n.exports=f,_r_()}),booking.jstmpl("beach_review_score",function(){_i_("65cb:177110b8");var r,_=["\n"," ","/private/review_adj_bad/name","/private/review_adj_very_poor/name","/private/review_adj_poor/name","/private/review_adj_disappointing/name","/private/review_adj_average_passable/name","/private/review_adj_pleasant/name","/private/review_adj_good/name","/private/review_adj_very_good/name","/private/review_adj_fabulous/name","/private/review_adj_superb/name","/private/review_adj_exceptional/name","/private/comp_fd_lp_header_rs/name","",'<div class="','"> <div class="bui-review-score__badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'"> '," </div> ",'<div class="bui-review-score__content"> <div class="bui-review-score__title"> ',"bui-review-score__text"," bui-review-score__text--with-icon","/private/extl_reviews_no_bcom_reviews/name","streamline/info_sign","small","/private/comp_num_reviews_sr_page/name","</div> "],a=["fe_classes","fe_modifier_outline","fe_modifier_end","fe_modifier_inverse","fe_modifier_inline","fe_modifier_text","fe_modifier_small","fe_modifier_smaller","fe_modifier_external","fe_modifier_external_inline","fe_allow_zero","fe_score","fe_show_adjective","fe_custom_adjective","fe_adjective_text","fe_adjective","fe_hide_low_adjectives","fe_can_show_adjective","fe_calc_score_formatted","fe_show_external_review_info_icon","fe_reviews_number","nr_reviews","score"];return _r_(function(n){_i_("65cb:12e2c548");var e="",i=this.fn;return e+=_[0],n.unshift({fe_modifier_text:1,fe_reviews_number:i.MB(a[21]),fe_score:i.MB(a[22]),fe_show_adjective:1}),e=function(e){if(_i_("65cb:d9406ff8"),e+=["",_[1]].join(""),i.MJ(i.MB(a[11]))||i.MJ(i.MB(a[10]))){if(i.MN("fe_classes","bui-review-score c-score"),i.MJ(i.MB(a[1]))&&i.MN("fe_classes",i.MB(a[0])+" bui-review-score--outline"),i.MJ(i.MB(a[2]))&&i.MN("fe_classes",i.MB(a[0])+" bui-review-score--end"),i.MJ(i.MB(a[3]))&&i.MN("fe_classes",i.MB(a[0])+" bui-review-score--inverse"),i.MJ(i.MB(a[4]))&&i.MN("fe_classes",i.MB(a[0])+" bui-review-score--inline"),i.MJ(i.MB(a[5]))&&i.MN("fe_classes",i.MB(a[0])+" bui-review-score--text"),i.MJ(i.MB(a[6]))&&i.MN("fe_classes",i.MB(a[0])+" bui-review-score--small"),i.MJ(i.MB(a[7]))&&i.MN("fe_classes",i.MB(a[0])+" bui-review-score--smaller"),i.MJ(i.MB(a[8]))&&i.MN("fe_classes",i.MB(a[0])+" bui-review-score--external"),i.MJ(i.MB(a[9]))&&i.MN("fe_classes",i.MB(a[0])+" bui-review-score--external-inline"),i.MJ(i.MB(a[10]))&&i.MN("fe_calc_score_formatted",0),i.MJ(i.MB(a[11]))&&i.MN("fe_calc_score_formatted",i.format_review_score_new(i.MB(a[11]))),i.MN("fe_can_show_adjective",i.MB(a[12])||i.MB(a[13])),i.MJ(i.MB(a[17]))){var t="";n.unshift({fe_hide_low_adjectives:i.MB(a[16]),fe_score:i.MB(a[11])}),t=function(e){if(_i_("65cb:50479d41"),i.MD(a[11])){var t="";i.MJ(1<=i.MB(a[11]))&&i.MJ(i.MB(a[11])<2)&&(t+=i.ME(_[2],i.MB,i.MN,null)),i.MJ(2<=i.MB(a[11]))&&i.MJ(i.MB(a[11])<3)&&(t+=i.ME(_[3],i.MB,i.MN,null)),i.MJ(3<=i.MB(a[11]))&&i.MJ(i.MB(a[11])<4)&&(t+=i.ME(_[4],i.MB,i.MN,null)),i.MJ(4<=i.MB(a[11]))&&i.MJ(i.MB(a[11])<5)&&(t+=i.ME(_[5],i.MB,i.MN,null)),i.MJ(5<=i.MB(a[11]))&&i.MJ(i.MB(a[11])<6)&&(t+=i.ME(_[6],i.MB,i.MN,null)),i.MJ(6<=i.MB(a[11]))&&i.MJ(i.MB(a[11])<7)&&(t+=i.ME(_[7],i.MB,i.MN,null)),i.MJ(7<=i.MB(a[11]))&&i.MJ(i.MB(a[11])<8)&&(t+=i.ME(_[8],i.MB,i.MN,null)),i.MJ(8<=i.MB(a[11]))&&i.MJ(i.MB(a[11])<8.6)&&(t+=i.ME(_[9],i.MB,i.MN,null)),i.MJ(8.6<=i.MB(a[11]))&&i.MJ(i.MB(a[11])<9)&&(t+=i.ME(_[10],i.MB,i.MN,null)),i.MJ(9<=i.MB(a[11]))&&i.MJ(i.MB(a[11])<9.5)&&(t+=i.ME(_[11],i.MB,i.MN,null)),i.MJ(9.5<=i.MB(a[11]))&&(t+=i.ME(_[12],i.MB,i.MN,null)),i.MN(a[15],t),i.MJ(i.MB(a[16]))&&i.MJ(i.MB(a[11])<7)&&i.MN(a[15],i.ME(_[13],i.MB,i.MN,null)),e+=[i.MC(a[15]),_[14]].join("")}return i.MN("fe_adjective",0),i.MN("fe_hide_low_adjectives",0),i.MN("fe_score",0),e+=_[0],_r_(e)}(t),n.shift(),i.MN(a[14],t),i.MJ(i.MB(a[13]))&&i.MN("fe_adjective_text",i.MB(a[13]))}e+=[_[15],i.F.entities(i.MC(a[0])),_[16],(n.unshift({review_score_number:i.MB(a[18])}),r=i.ME(_[17],i.MB,i.MN,null),n.shift(),r),_[18],i.F.entities(i.MC(a[18])),_[19]].join(""),i.MD(a[14])&&(e+=[_[20],i.MC(a[14]),_[19]].join(""),i.MD(a[20])&&(e+=_[15],e+=_[21],i.MJ(i.MB(a[8]))&&i.MJ(i.MB(a[19]))&&(e+=_[22]),e+=_[18],i.MD(a[8])?(e+=[(n.unshift({total_num_reviews:i.MI(i.MB(a[20]))+i.MI(0)}),r=i.ME(_[23],i.MB,i.MN,i.MO(i.MI(i.MC(a[20]))+i.MI(0),null,_[23])),n.shift(),r),_[1]].join(""),i.MJ(i.MB(a[19]))&&(e+=[(n.unshift({color:"#6B6B6B",name:_[24],size:_[25]}),r=i.HELPER("icon",n[0]),n.shift(),r),_[1]].join(""))):e+=[(n.unshift({num_reviews:i.format_number(i.MB(a[20]))}),r=i.ME(_[26],i.MB,i.MN,i.MO(i.MI(i.MC(a[20]))+i.MI(0),null,_[26])),n.shift(),r),_[1]].join(""),e+=_[27]),e+=_[27]),e+=_[27]}return i.MN("fe_adjective_text",0),i.MN("fe_allow_zero",0),i.MN("fe_classes",0),i.MN("fe_custom_adjective",0),i.MN("fe_hide_low_adjectives",0),i.MN("fe_modifier_end",0),i.MN("fe_modifier_inline",0),i.MN("fe_modifier_inverse",0),i.MN("fe_modifier_outline",0),i.MN("fe_modifier_text",0),i.MN("fe_reviews_number",0),i.MN("fe_score",0),i.MN("fe_calc_score_formatted",0),i.MN("fe_show_adjective",0),i.MN("fe_show_external_review_info_icon",0),e+=["",_[1]].join(""),e+=_[0],_r_(e)}(e),n.shift(),e+=_[0],_r_(e)})}()),booking.jstmpl("beaches_nearby_cst__error",function(){_i_("65cb:52367a90");var i,r=['\n\n        <section class="beaches-nearby-error">\n            <div class="bui-banner__title beaches-nearby-error__title">\n                ',"","16","iconset/warning","\n                ","/private/beach_d_hp_panel_info_error_header/name","\n            </div>\n            ",'\n                <div class="beaches-nearby-error__border">\n            ','\n                    <p class="bui-banner__text beaches-nearby-error__desc">',"/private/beach_d_hp_panel_info_error_desc/name",'</p>\n                    <a class="bui-link bui-link--primary beaches-nearby-error__cta" href="#" title="See available properties in Amsterdam">',"/private/beach_d_hp_panel_info_error_cta/name","</a>\n            ","\n                </div>\n            ","\n        </section>\n\n"],_=["fe_show_border"];return _r_(function(e){_i_("65cb:bfd2784f");var t="",n=this.fn;return t+=[r[0],(e.unshift({class:r[1],height:r[2],name:r[3],width:r[2]}),i=n.HELPER("icon",e[0]),e.shift(),i),r[4],n.ME(r[5],n.MB,n.MN,null),r[6]].join(""),n.MD(_[0])&&(t+=r[7]),t+=[r[8],n.ME(r[9],n.MB,n.MN,null),r[10],n.ME(r[11],n.MB,n.MN,null),r[12]].join(""),n.MD(_[0])&&(t+=r[13]),t+=r[14],_r_(t)})}()),B.when({action:["searchresults","hotel"],events:"ready",condition:function(e){return _i_("65cb:babefc59"),_r_(e.beach_team_pilot_data_loaded||"searchresults"===B.env.b_action&&e.fe_is_beach_ufi||"hotel"===B.env.b_action&&e.fe_is_in_beach_ufi)}}).run(function(e){_i_("65cb:3fe41117");var _=e("ga-tracker"),t=e("events"),n=B.env.b_action,i=B.env.b_site_type;function r(e){if(_i_("65cb:4622261d"),"sliding-view__ufi"===e)return _r_("Explore Destination Panel");if("sliding-view__beach"===e)return _r_("Explore Beach Panel");if("sliding-view__photos"===e)return _r_("Beach Photo Gallery Panel");if("sliding-view__property"===e)return _r_("Nearby Property Panel");_r_()}_i_("65cb:1ea1a2d0"),t.on("sliding-view/back",function(e){_i_("65cb:e3b9b165");var t=r(e);t&&""!==t&&_.trackEvent("On: "+t,"Close: "+t,"From: Back button"),_r_()}),t.on("sliding-view/back_close",function(e){_i_("65cb:b9ac541a");var t=r(e);t&&""!==t&&_.trackEvent("On: "+t,"Close: "+t,"From: Close button"),_r_()}),t.on("sliding-view/backdrop_close",function(e){_i_("65cb:285c2805");var t=r(e);t&&""!==t&&_.trackEvent("On: "+t,"Close: "+t,"From: Backdrop Click"),_r_()}),t.on("sliding-view/load_view",function(e,t){_i_("65cb:9d0aa04e"),"sliding-view__ufi"===e&&"searchresults"===n&&B.et.goal("trip_type_sr_beach_ufi_panel_open"),"sliding-view__beach"===e&&("searchresults"===n?B.et.goal("trip_type_sr_beach_panel_open"):"hotel"===n&&B.et.goal("trip_type_hp_beach_panel_open")),"sliding-view__property"===e&&"hotel"===n&&B.et.goal("trip_type_hp_beach_ufi_panel_open"),_r_()}),t.on("sliding-view/view_rendered",function(e){var t;_i_("65cb:5454e065"),"mdot"===i&&("sliding-view__photos"===e?(_i_("65cb:75fc3b9a"),$("body").on("touchmove",function(){_i_("65cb:04a904f7"),clearTimeout(t),t=setTimeout(function(){_i_("65cb:edd2bf4a"),_.trackEvent("On: Beach Photo Gallery Panel","Interact: Carousel","From: Scroll"),$("body").off("touchmove"),_r_()},200),_r_()}),_r_()):function(){_i_("65cb:4d56c0a8");var t,n,i=$(".tt-carousel--long .bui-carousel__inner"),r=$(".tt-carousel--short .bui-carousel__inner");i.length&&i.on("touchmove",function(e){_i_("65cb:716531e3"),clearTimeout(t),t=setTimeout(function(){_i_("65cb:a9c3a19a"),_.trackEvent("On: Explore Beach Panel","Interact: Carousel","From: Scroll"),i.off("touchmove"),_r_()},200),_r_()}),r.length&&r.on("touchmove",function(e){_i_("65cb:c2667adb"),clearTimeout(n),n=setTimeout(function(){_i_("65cb:e61d4929"),_.trackEvent("On: Explore Beach Panel","Interact: Things To Do","From: Scroll"),r.off("touchmove"),_r_()},200),_r_()}),_r_()}()),_r_()}),t.on("beach-reviews/loaded",function(){}),_r_(),_r_()}),B.define("component/beaches-nearby",function(d,e,t){_i_("65cb:35073c35");var n=d("component"),u=d("server-data");t.exports=n.extend({init:function(){_i_("65cb:fbf610de"),u.fe_beach_team_pilot_cta_visible&&u.fe_hotel_id&&this.setupPromises(),_r_()},setupPromises:function(){_i_("65cb:daaf059f");var a=d("fragment"),l=d("promise");a.call("beach.beach_panel",{dest_id:u.b_hotel_id,dest_type:"hotel",map_width:264,map_height:128,sections:"photos,reviews,static_map_url"}).then(function(o){if(_i_("65cb:3c187191"),o&&o.beaches&&o.beaches.length){var e=d("async-loader").load({js:"async_beach_show_more_on_hp_js",css:"async_beach_show_more_on_hp_css"}),t=230;"mdot"===u.b_site_type&&(t=$(window).width()-64);var s=this.getBeachesBasedOnRadius(1e3,o.beaches),c=s.length;if(c)var n=o.beaches[0].center.split(","),i=[{lat:n[0],long:n[1],icon:"/static/img/beach/orange-2x-beach.png",type:"beach"}],r=112;else{i=o.beaches.slice(0,3).map(function(e,t){_i_("65cb:101e6357");var n=e.center.split(","),i="/static/img/beach/orange-2x-"+(t+=1)+".png";return _r_({lat:n[0],long:n[1],icon:i,type:"beach"})});if("mdot"===u.b_site_type)r=152;else r=128}i.push({lat:u.b_map_center_latitude,long:u.b_map_center_longitude,icon:"/static/img/beach/property2x.png",type:"hotel"});var _=a.call("geo.beach_static_map",{dest_id:u.b_hotel_id,dest_type:"hotel",points:i,width:t,height:r,use_retina:!0});l.all([e,_]).then(function(e){_i_("65cb:55f396d5");var t,n=e&&e[1]?e[1]:"";if(3<=c){var i="";if(i="us"===u.b_guest_country&&"en"==u.b_lang?B.jstmpl.translations("beach_d_hp_panel_info_other_mi",null,{num:1}):B.jstmpl.translations("beach_d_hp_panel_info_other_km",null,{num:1}),t=this.render1kmBeaches(s,n,i),"mdot"===u.b_site_type){var r=B.jstmpl("beaches_nearby_cst__card"),_=B.jstmpl("beaches_nearby_cst__toggle"),a=r.render({beach:s[0],fe_show_mapinfo:!1,fe_horizontal:!0,fe_show_review_count:!1,fe_container_card:!0,fe_site_type:u.b_site_type,fe_guest_country:u.b_guest_country});t=_.render({fe_short_content:a,fe_long_content:t})}}else if(0<c&&c<3){i=B.jstmpl.translations("beach_d_hp_panel_info_other_area");if(t=this.render1kmBeaches(o.beaches,n,i),"mdot"===u.b_site_type){r=B.jstmpl("beaches_nearby_cst__card"),_=B.jstmpl("beaches_nearby_cst__toggle"),a=r.render({beach:s[0],fe_show_mapinfo:!1,fe_horizontal:!0,fe_show_review_count:!1,fe_container_card:!0,fe_site_type:u.b_site_type,fe_guest_country:u.b_guest_country});t=_.render({fe_short_content:a,fe_long_content:t})}}else if(t=this.renderNo1kmBeaches(o.beaches,n),"mdot"===u.b_site_type){r=B.jstmpl("beaches_nearby_cst__card"),_=B.jstmpl("beaches_nearby_cst__toggle"),a=r.render({beach:o.beaches[0],fe_show_mapinfo:!1,fe_horizontal:!0,fe_show_review_count:!1,fe_container_card:!0,fe_site_type:u.b_site_type,fe_guest_country:u.b_guest_country});t=_.render({fe_short_content:a,fe_long_content:t,fe_no_beaches:!0})}(this.$el.empty(),this.$el.append(t),this.$el.loadComponents(),window.BUI.initComponents(this.$el[0]),"mdot"===u.b_site_type)?$(".c-beaches-nearby__mobile .js-m-toggle-class .js-beaches-nearby-trigger").on("click",function(e){_i_("65cb:4c4a70bc"),e.stopPropagation(),_r_()}):$("#sidebar-beaches-map-cta").on("click",function(e){_i_("65cb:4c4a70bc1"),e.stopPropagation(),_r_()});_r_()}.bind(this),function(e){_i_("65cb:85168c72"),this.renderError(),_r_()}.bind(this))}else this.$el.remove();_r_()}.bind(this),function(e){_i_("65cb:29485795"),this.renderError(),_r_()}.bind(this)),_r_()},getBeachesBasedOnRadius:function(t,e){if(_i_("65cb:d28fcd02"),!e)return _r_(0);var n=e.filter(function(e){return _i_("65cb:ba9f7b37"),_r_(e.raw<t)});return _r_(n)},render1kmBeaches:function(e,t,n){_i_("65cb:97b4b980");var i=B.jstmpl("beaches_nearby_cst__card"),r=B.jstmpl("beaches_nearby_cst__carousel"),_="",a=e.slice(0);return a.shift(),"mdot"===u.b_site_type?_+="<div class='u-font-weight:bold u-color:bright_blue u-margin-bottom:10'>"+B.jstmpl.translations("beach_d_hp_panel_info_header_around")+"</div>":(_+='<div class="c-beaches-nearby-header">'+B.jstmpl.translations("beach_d_hp_panel_info_header_around")+"</div>",_+='<hr class="c-beaches-nearby-divider" />'),_+='<div class="c-beaches-nearby-carousel__title">'+B.jstmpl.translations("beach_d_hp_panel_info_subheader_close")+"</div>",_+=i.render({beach:e[0],fe_show_mapinfo:!0,fe_static_map_url:t,fe_container_card:!0,fe_show_review_count:!0,fe_site_type:u.b_site_type,fe_guest_country:u.b_guest_country,fe_map_center_latitude:u.b_map_center_latitude,fe_map_center_longitude:u.b_map_center_longitude,fe_bbox_southwest_latitude:u.fe_bbox_southwest_latitude,fe_bbox_southwest_longitude:u.fe_bbox_southwest_longitude,fe_bbox_northeast_latitude:u.fe_bbox_northeast_latitude,fe_bbox_northeast_longitude:u.fe_bbox_northeast_longitude}),_+=r.render({beaches:a,showTitle:!0,fe_title:n,fe_carousel_border:"mdot"!==u.b_site_type}),_r_(_)},renderNo1kmBeaches:function(e,t){_i_("65cb:56254576");var n=B.jstmpl("beaches_nearby_cst__area"),i=e.slice(0,3),r="";return"mdot"===u.b_site_type?r+="<div class='u-font-weight:bold u-color:bright_blue u-margin-bottom:10'>"+B.jstmpl.translations("beach_d_hp_panel_info_header_area")+"</div>":r+="<h2 class='c-beaches-nearby-header'>"+B.jstmpl.translations("beach_d_hp_panel_info_header_area")+"</h2>",r+=n.render({beaches:i,fe_static_map_url:t,fe_map_center_latitude:u.b_map_center_latitude,fe_map_center_longitude:u.b_map_center_longitude,fe_bbox_southwest_latitude:u.fe_bbox_southwest_latitude,fe_bbox_southwest_longitude:u.fe_bbox_southwest_longitude,fe_bbox_northeast_latitude:u.fe_bbox_northeast_latitude,fe_bbox_northeast_longitude:u.fe_bbox_northeast_longitude,fe_site_type:u.b_site_type,fe_guest_country:u.b_guest_country,fe_show_index:!0}),_r_(r)},renderError:function(){_i_("65cb:f8f4fb84");var e=B.jstmpl("beaches_nearby_cst__error");this.$el.empty(),this.$el.append(e.render({fe_show_border:"www"===u.b_site_type?1:0})),$(".beaches-nearby-error__cta").on("click",function(){_i_("65cb:a3d25aee"),window.location.reload(),_r_()}),_r_()}}),_r_()}),B.define("component/abstract-bui-card-v2",function(e,t,n){_i_("65cb:77a79d17");var i=e("component"),r=e("component/abstract-bui-card-v2/events"),_=e("events");n.exports=i.extend({events:r,init:function(){_i_("65cb:b88ffb3a"),this.initEventListeners(),_r_()},initEventListeners:function(){_i_("65cb:491a81e5"),this.$el.on("click",function(){_i_("65cb:0affbb13"),_.emit(this.events.CTA_CLICKED,this.$el.find(".abstract-bui-card-v2")),_r_()}.bind(this)),_r_()}}),_r_()}),B.define("component/abstract-bui-card-v2/events",function(e,t,n){"use strict";_i_("65cb:6e08fe081"),n.exports={CTA_CLICKED:"CTA_CLICKED"},_r_()}),booking.jstmpl("abstract_bui_card_v2",function(){_i_("65cb:0b85b8d8");var u,f=["\n    ","\n\n","\n","/country/{fe_country_code}/name","\n    \n          \n    \n    ","/private/beach_bs_alttag_countries/name","/beach_team_world_areas/{continent_id}/name","/private/beach_bs_alttag_continent/name","\n\n    ","\n\n    \n    ","\n\n    \n    \n    ","\n        "," ","/private/beach_bs_alttag_cities/name","\n\n\n    ","\n\n            ","\n                ","\n                    "," ","  "," -","\n            ","\n\n        ","streamline/weather_sun","medium","/private/beach_bs_sunny_north/name","/private/beach_bs_sunny_south/name","/private/beach_bs_sunny_equator/name","\n\n        \n        ","\n\n                ","/private/beach_bs_resultscard_weather/name","","\n\n     ","\n     ","/private/beach_bs_alttag_beachname/name","\n         ","\n   ","/private/beach_review_adj_exceptional/name","/private/beach_review_adj_superb/name","/private/beach_review_adj_fabulous/name","/private/beach_review_adj_very_good/name","/private/beach_review_adj_good/name","/private/beach_review_adj_pleasant/name","/private/beach_review_adj_average_okay/name","/private/beach_review_adj_average_passable/name","/private/beach_review_adj_disappointing/name","\n\n\n\n\n\n\n",'\n\t<div style="color:#fff;background:#ff0000;padding:0.5em;border-radius:0.5em;max-width:30em;">Uh oh! looks like you are giving me a formatted score value, please give me a non formatted one</div>\n',"\n\n\n","\n\t","","none","auto","num_reviews_sr_page","\n  ","\n\n\n\n","   ","        ","             ","    ","     ","         ","      ","/private/review_adj_superb/name","\n\n\t","\n\t\n\t","\n\t\t","review-score-widget__","review-score-widget__score-only ","review-score-widget__12 ","review-score-widget__14 ","review-score-widget__20 ","review-score-widget__24 "," review-score-widget "," review-score-widget__no-subtext"," review-score-widget__flipped",'id="','"',"\n\n\n\n\n\n\n\n\n","\n\t\t<",'a href="',' target="',"span",' class="review-score-widget__text" aria-label="',"/private/a11y_adjective_rating/name",'">\n\t\t\t',"\n\t\t</","a",">\n\t","span\n        ",' class="review-score-widget__subtext" aria-label="',"/private/acc_sr_review_score_rated_with_score_end/name",'"\n        >\n        ',"\n\n\n\n\n","\n\n\t\n\t\n\t\n\n\t\n\n\t<span\n\t\t",'\n\t\tclass="'," review-score-widget__debug",'"\n\t\t\t',"\n\t\t\t\t","\n\t\t\t",'\n\t\t\t\tdata-et-view="',"\n\t>\n\t\t","\n\t\t\t\n\t\t","\n\n\t\t","\n\n\t\t\n\t\t","\n\n\t\t\t","\n\t\t\t\t\n\t\t\t\t","\n\t<",' class="review-score-badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'">\n\t\t',"\n\t</",">\n","\n\t\t\t\t\t\n\t\t\t\t\t","\n\t\t\t\t\t",'\n\t\t\t\t\t\t<span class="review-score-widget__body">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t</span>\n\t\t\t\t\t",'\n\t\t\t\t\t<span class="review-score-widget__body">\n\t\t\t\t\t\t',"\n\t\t\t\t\t\t","\n\t\t\t\t\t</span>\n\t\t\t\t","\n\t</span>\n\n\t\n\t\n\n","\n\n\n\n\n\n\n\n\n\n","\n\t\n\t\n","beach-lp-review","inline","text-only","16","streamline/beach","/private/trip_types_beachfront/name","/private/beach_bs_city_overlay_distance_from_beach/name","0",'\n\n\n\n<div\n    data-component="abstract-bui-card-v2"\n    class="c-abstract-bui-card-v2"\n>\n    ',"\n\n\n        \n        <a\n             ",'\n                href="','"\n             ','\n            class="',"bui-card abstract-bui-card abstract-bui-card-v2 bui-card--media ","\n                 ","\n             ","\n        >\n\n        \n        \n        \n        \n        \n        \n        \n         ",'\n\n\n\n<div\n    class="c-abstract-bui-card-image"\n>\n    ','\n\n       \n\n        \n       <div class="bui-card__image-container">\n           \n           ','\n              <img\n                class="bui-card__image"\n                ','\n                   src="','"\n                ','\n                    data-component="abstract-bui-card-image"\n                    data-highres="','"\n                    data-normalres="','"\n                    ','data-icon-name="','\n                        alt="','\n                        data-alt-text="',"\n              />\n           \n           ",'\n                 <div class="image-fallback"\n                    ','\n                        role="img"\n                        aria-label="',"\n                 >\n                    ","\n                        ",'\n                            <div class="image-fallback__icon">\n                                ',"48","\n                            </div>\n                        ",'\n                            <img\n                                class="bui-card__image"\n                                data-component="abstract-bui-card-image"\n                                data-icon-name="','"\n                             />\n                        ',"\n                 </div>\n           ","\n       </div>\n\n","\n</div>",'\n\n          <div class="bui-card__content">\n                <header class="bui-card__header">\n                  <h3 class="abstract-bui-card__title">',"</h3>\n                  ",'\n                    <div class="abstract-bui-card__endorsements">',"</div>\n                  ","\n                  ",'\n                    <div class="abstract-bui-card__reviews">','\n                    <div class="abstract-bui-card__city-name">','\n                    <div class="abstract-bui-card__facility">',"\n                </header>\n\n            ",'\n                <h4 class="abstract-bui-card__subtitle">',"</h4>\n            ",'\n                <div class="abstract-bui-card__deals">\n\n                </div>\n            ',"\n\n          </div>\n        </a>\n\n\n","\n</div>\n\n"],b=["param_cleanup","param_item","fe_title","fe_image_alt","fe_country_code","param_type","continent_id","fe_bbs_is_country_us","fe_city_name","fe_country_name","fe_endorsement","beach_endorsements_size","fe_subtitle","fe_city_id","b_param_month","fe_avg_city_temp","fe_quiz_month_year_params","b_param_segment","fe_counter","param_layout","fe_beach_name","customReviewAdjective","score","fe_beach_review","b_dev_server","dont_format_score","fe_text","text","fe_subtext","subtext","fe_widget_subtext","sample_size","fe_formatted_sample_size","align","wrapper_tag_name","fe_review_score_word_class_list","fe_review_score","custom_class","review_adj_very_poor","review_adj_poor","review_adj_disappointing","review_adj_average_passable","review_adj_average_okay","review_adj_pleasant","low_score_adjectives","fd_lp_header_rs","review_adj_good","review_adj_very_good","review_adj_fabulous","fe_review_score_word_copy","review_adj_exceptional","fe_widget_text","prepend_text","append_text","fe_score","prefix","fe_score_word_name","suffix","fe_classname","fe_widget_style","style","score_only","fe_widget_layout","layout","fe_widget_align","fe_widget_size","size","fe_badge_style","fe_widget_class","flip","extra_classes","fe_widget_id","widget_id","fe_rating","fe_widget_text_element","text_link_url","text_link_target","fe_rating_adj","fe_widget_subtext_element","subtext_link_url","subtext_link_target","review_score_widget","b_site_type","extra_attributes","track_view","prepend_html","badge_link_url","badge_link_target","fe_formatted_score","fe_is_alt_version","append_html","render","fe_beach_id","fe_data_args_et_click","fe_property_review","fe_facility","fe_distance_to_beach","data","fe_link","fe_class","fe_data_args","fe_high_res_image_src","fe_lazy_load","fe_agent_is_robot","fe_low_res_image_src","fe_icon_name","fe_tags","fe_review","fe_cityname","fe_deals","fe_review_nr"];return _r_(function(a){_i_("65cb:7b8faa81");var e,t,n,i="",o=this.fn;function r(e){return _i_("65cb:fffd6c5c"),e+=f[107],o.MD(b[86])?(e+=[f[80],o.MB(b[86]),f[77]].join(""),o.MD(b[87])&&(e+=[f[81],o.MB(b[87]),f[77]].join(""))):e+=f[82],e+=[f[108],(a.unshift({review_score_number:o.MB(b[88])}),u=o.ME(f[109],o.MB,o.MN,null),a.shift(),u),f[110],o.F.entities(o.MB(b[88])),f[111]].join(""),o.MD(b[86])?e+=f[87]:e+=f[82],e+=f[112],_r_(e)}function _(e){return _i_("65cb:a21aa15c"),e+=f[107],o.MD(b[86])?(e+=[f[80],o.MB(b[86]),f[77]].join(""),o.MD(b[87])&&(e+=[f[81],o.MB(b[87]),f[77]].join(""))):e+=f[82],e+=[f[108],(a.unshift({review_score_number:o.MB(b[88])}),u=o.ME(f[109],o.MB,o.MN,null),a.shift(),u),f[110],o.F.entities(o.MB(b[88])),f[111]].join(""),o.MD(b[86])?e+=f[87]:e+=f[82],e+=f[112],_r_(e)}function s(e){return _i_("65cb:0cab5dd6"),e+=f[133],o.MD(b[98])&&(e+=[f[134],o.F.entities(o.MC(b[98])),f[135]].join("")),e+=f[136],e+=f[137],o.MD(b[99])&&(e+=[o.F.entities(o.MC(b[99])),f[18]].join("")),e+=f[135],o.MD(b[100])&&(e+=[f[138],o.MC(b[100]),f[139]].join("")),e+=f[140],a.unshift({fe_agent_is_robot:o.MB(b[103]),fe_high_res_image_src:o.MB(b[101]),fe_icon_name:o.MB(b[105]),fe_image_alt:o.MB(b[3]),fe_lazy_load:o.MB(b[102]),fe_low_res_image_src:o.MB(b[104])}),e=function(e){_i_("65cb:d9d74e4f"),e+=[f[2],"",f[48]].join(""),e+=f[141];var t={fe_agent_is_robot:o.MB(b[103]),fe_high_res_image_src:o.MB(b[101]),fe_icon_name:o.MB(b[105]),fe_image_alt:o.MB(b[3]),fe_lazy_load:o.MB(b[102]),fe_low_res_image_src:o.MB(b[104])},n=a;return(a=o.SV([{},{}])).unshift(t),i=e,_i_("65cb:5b7e0c7b"),i+=f[142],o.MJ(o.MB(b[101]))||o.MJ(o.MB(b[104]))?(i+=f[143],o.MK(o.MB(b[102]))||o.MJ(o.MB(b[103]))?i+=[f[144],o.STATIC_HOSTNAME(o.MB(b[101]),0,0,0,0),f[145]].join(""):(i+=[f[146],o.STATIC_HOSTNAME(o.MB(b[101]),0,0,0,0),f[147],o.STATIC_HOSTNAME(o.MB(b[104]),0,0,0,0),f[148]].join(""),o.MD(b[105])&&(i+=[f[149],o.F.entities(o.MC(b[105])),f[77]].join("")),i+=f[16]),i+=f[16],o.MD(b[3])&&(i+=f[17],o.MD(b[103])?i+=[f[150],o.MC(b[3]),f[148]].join(""):i+=[f[151],o.F.entities(o.MC(b[3])),f[148]].join(""),i+=f[16]),i+=f[152]):(i+=f[153],o.MD(b[3])&&(i+=[f[154],o.MC(b[3]),f[148]].join("")),i+=f[155],o.MD(b[105])&&(i+=f[156],o.MN("fe_icon_name",o.MB(b[105])||"streamline/international"),i+=f[156],o.MK(o.MB(b[102]))||o.MJ(o.MB(b[103]))?i+=[f[157],(a.unshift({color:"#BDBDBD",height:f[158],name:o.MB(b[105]),width:f[158]}),u=o.HELPER("icon",a[0]),a.shift(),u),f[159]].join(""):i+=[f[160],o.F.entities(o.MC(b[105])),f[161]].join(""),i+=f[17]),i+=f[162]),i+=f[163],e=_r_(i),a=o.SV(n),e+=f[164],e+=f[50],o.MN("fe_high_res_image_src",""),e+=f[50],o.MN("fe_low_res_image_src",""),e+=f[50],o.MN("fe_image_alt",""),e+=f[50],o.MN("fe_lazy_load",""),e+=f[50],o.MN("fe_icon_name",""),e+=f[50],o.MN("fe_agent_is_robot",""),e+=f[50],e+=["",f[2]].join(""),_r_(e);var i}(e),a.shift(),e+=[f[165],o.MC(b[2]),f[166]].join(""),o.MD(b[106])&&(e+=[f[167],o.F.html(o.MC(b[106])),f[168]].join("")),e+=f[169],o.MD(b[107])&&(e+=[f[170],o.MC(b[107]),f[168]].join("")),e+=f[169],o.MD(b[108])&&(e+=[f[171],o.MC(b[108]),f[168]].join("")),e+=f[169],o.MD(b[95])&&(e+=[f[172],o.MC(b[95]),f[168]].join("")),e+=f[173],o.MD(b[12])&&(e+=[f[174],o.MC(b[12]),f[175]].join("")),e+=f[15],o.MD(b[109])&&(e+=f[176]),e+=f[177],_r_(e)}function c(e){_i_("65cb:16821bce"),e+=f[1],e+=f[46],o.MJ(o.MC(b[24]))&&o.MJ(/,/.test(o.MB(b[22])))&&(e+=f[47]),e+=f[48],o.MJ(o.MB(b[25]))||o.MJ(/,/.test(o.MB(b[22])))?(e+=f[49],o.MN("fe_formatted_score",o.MB(b[22]))):(e+=f[49],o.MN("fe_formatted_score",o.format_review_score_plain(o.MI(0)+o.MI(o.MB(b[22]))))),e+=f[2],e+=f[1];var t="";t+=f[50],o.MJ(o.MB(b[27]))?t+=o.MB(b[27]):t+=f[51],t+=f[50],o.MN(b[26],t),e+=f[1];t="";t+=f[50],o.MJ(o.MB(b[29]))?(t+=f[50],o.MJ(o.MB(b[29])+""!="none")&&o.MJ(o.MB(b[26])+""=="none")?t+=f[52]:t+=[f[50],o.MB(b[29]),f[50]].join(""),t+=f[50]):t+=f[51],t+=f[50],o.MN(b[28],t),e+=f[48];t="";t+=f[50],(o.MJ(o.MB(b[29]))&&o.MJ(o.MB(b[29])+""=="auto")||o.MK(o.MB(b[29])))&&o.MJ(o.MB(b[31]))?(t+=f[50],o.MN("fe_formatted_sample_size",o.format_number(o.MB(b[31]))),t+=[f[50],(a.unshift({num_reviews:o.MB(b[32])}),u=o.VP(f[53],o.MO(o.MI(o.MC(b[31]))+o.MI(0),null,f[53])),a.shift(),u),f[50]].join("")):o.MJ(o.MB(b[29])+""!="none")&&o.MJ(o.MB(b[29])+""!="auto")&&(t+=[f[50],o.MB(b[29]),f[50]].join("")),t+=f[50],o.MN(b[30],t),e+=f[48],o.MN("fe_is_alt_version",o.MJ(o.MB(b[33])+""=="right")),e+=f[48],a.unshift({low_score_adjectives:o.MB(b[44]),score:o.MI(0)+o.MI(o.MB(b[22]))}),e=function(e){_i_("65cb:53265d76"),e+=f[2],o.MN("fe_review_score",o.MI(o.MB(b[22]))+o.MI(0)),e+=f[48],o.MN("fe_review_score_word_tag",o.MB(b[34])||"p"),e+=f[48],o.MN("fe_review_score_word_class_list","review-score-word"),e+=f[48],o.MJ(7<=o.MB(b[36]))&&(e+=f[54],o.MN("fe_review_score_word_class_list",o.MB(b[35])+" review-score-word--highlighted"),e+=f[2]);e+=f[1],o.MD(b[37])&&(e+=f[54],o.MN("fe_review_score_word_class_list",o.MB(b[35])+" "+o.MB(b[37])),e+=f[2]);e+=f[55],o.MD(b[44])?(e+=f[54],o.MJ(0<=o.MB(b[36]))&&o.MJ(o.MB(b[36])<3)&&(e+=f[56],o.MN("fe_review_score_word_copy",o.MB(b[38])),e+=f[57]),e+=f[54],o.MJ(3<=o.MB(b[36]))&&o.MJ(o.MB(b[36])<4)&&(e+=f[56],o.MN("fe_review_score_word_copy",o.MB(b[39])),e+=f[58]),e+=f[54],o.MJ(4<=o.MB(b[36]))&&o.MJ(o.MB(b[36])<5)&&(e+=f[56],o.MN("fe_review_score_word_copy",o.MB(b[40])),e+=f[59]),e+=f[54],o.MJ(5<=o.MB(b[36]))&&o.MJ(o.MB(b[36])<5.6)&&(e+=f[18],o.MN("fe_review_score_word_copy",o.MB(b[41])),e+=f[18]),e+=f[54],o.MJ(5.6<=o.MB(b[36]))&&o.MJ(o.MB(b[36])<6)&&(e+=f[18],o.MN("fe_review_score_word_copy",o.MB(b[42])),e+=f[60]),e+=f[54],o.MJ(6<=o.MB(b[36]))&&o.MJ(o.MB(b[36])<7)&&(e+=f[56],o.MN("fe_review_score_word_copy",o.MB(b[43])),e+=f[61])):(e+=f[54],o.MJ(0<=o.MB(b[36]))&&o.MJ(o.MB(b[36])<7)&&(e+=f[18],o.MN("fe_review_score_word_copy",o.MB(b[45])),e+=f[18])),e+=f[2];e+=f[2],o.MJ(7<=o.MB(b[36]))&&o.MJ(o.MB(b[36])<8)&&(e+=f[56],o.MN("fe_review_score_word_copy",o.MB(b[46])),e+=f[62]);e+=f[2],o.MJ(8<=o.MB(b[36]))&&o.MJ(o.MB(b[36])<8.6)&&(e+=f[18],o.MN("fe_review_score_word_copy",o.MB(b[47])),e+=f[18]);e+=f[2],o.MJ(8.6<=o.MB(b[36]))&&o.MJ(o.MB(b[36])<9)&&(e+=f[18],o.MN("fe_review_score_word_copy",o.MB(b[48])),e+=f[19]);e+=f[1],o.MJ(9<=o.MB(b[36]))&&o.MJ(o.MB(b[36])<9.5)&&(e+=f[18],o.MN(b[49],o.ME(f[63],o.MB,o.MN,null)),e+=f[18]);e+=f[48],o.MJ(9.5<=o.MB(b[36]))&&(e+=f[18],o.MN("fe_review_score_word_copy",o.MB(b[50])),e+=f[18]);return e+=f[48],e+=f[2],_r_(e)}(e),a.shift(),e+=f[1];t="";t+=f[50],o.MJ(o.MB(b[27]))&&o.MJ(o.MB(b[27])+""=="auto")||(o.MK(o.MB(b[27]))||o.MJ(o.MB(b[27])+""=="none"))&&o.MJ(o.MB(b[30])+""!="")?t+=[f[50],o.MB(b[49]),f[50]].join(""):o.MJ(o.MB(b[27]))&&o.MJ(o.MB(b[27])+""!="none")&&(t+=[f[50],o.MB(b[27]),f[50]].join("")),t+=f[50],o.MN(b[51],t),e+=f[1],o.MD(b[51])&&(e+=f[49],o.MN("fe_widget_text",o.MB(b[52])+""+o.MB(b[51])+o.MB(b[53])),e+=f[2]),e+=f[48],o.MN("score_only",o.MJ(o.MB(b[51])+""=="")&&o.MJ(o.MB(b[30])+""=="")),e+=f[46],a.unshift({prefix:f[67],score:o.MI(0)+o.MI(o.MB(b[22]))}),e=function(e){_i_("65cb:2f88ae9c"),e+=f[55],o.MN("fe_score",o.MI(o.MB(b[22]))+o.MI(0)),e+=f[48],o.MN("fe_score_word_name",""),e+=f[2],o.MJ(0<=o.MB(b[54]))&&o.MJ(o.MB(b[54])<3)&&(e+=f[49],o.MN("fe_score_word_name","very_poor"),e+=f[2]);e+=f[1],o.MJ(3<=o.MB(b[54]))&&o.MJ(o.MB(b[54])<4)&&(e+=f[49],o.MN("fe_score_word_name","poor"),e+=f[2]);e+=f[1],o.MJ(4<=o.MB(b[54]))&&o.MJ(o.MB(b[54])<5)&&(e+=f[49],o.MN("fe_score_word_name","disappointing"),e+=f[2]);e+=f[1],o.MJ(5<=o.MB(b[54]))&&o.MJ(o.MB(b[54])<5.6)&&(e+=f[49],o.MN("fe_score_word_name","average_passable"),e+=f[2]);e+=f[1],o.MJ(5.6<=o.MB(b[54]))&&o.MJ(o.MB(b[54])<6)&&(e+=f[49],o.MN("fe_score_word_name","average_okay"),e+=f[2]);e+=f[1],o.MJ(6<=o.MB(b[54]))&&o.MJ(o.MB(b[54])<7)&&(e+=f[49],o.MN("fe_score_word_name","pleasant"),e+=f[2]);e+=f[1],o.MJ(7<=o.MB(b[54]))&&o.MJ(o.MB(b[54])<8)&&(e+=f[49],o.MN("fe_score_word_name","good"),e+=f[2]);e+=f[1],o.MJ(8<=o.MB(b[54]))&&o.MJ(o.MB(b[54])<8.6)&&(e+=f[49],o.MN("fe_score_word_name","very_good"),e+=f[2]);e+=f[1],o.MJ(8.6<=o.MB(b[54]))&&o.MJ(o.MB(b[54])<9)&&(e+=f[49],o.MN("fe_score_word_name","fabulous"),e+=f[2]);e+=f[1],o.MJ(9<=o.MB(b[54]))&&o.MJ(o.MB(b[54])<9.5)&&(e+=f[49],o.MN("fe_score_word_name","superb"),e+=f[2]);e+=f[1],o.MJ(9.5<=o.MB(b[54]))&&(e+=f[49],o.MN("fe_score_word_name","exceptional"),e+=f[2]);e+=f[48],o.MN("fe_classname",""),e+=f[2],o.MJ(0<=o.MB(b[54]))&&o.MJ(o.MB(b[54])<=10)&&(e+=f[64],o.MN("fe_classname",o.MB(b[55])+""+o.MB(b[56])+o.MB(b[57])),e+=f[65],o.MJ(o.MB(b[54])<7)&&(e+=f[66],o.MN("fe_classname",o.MB(b[58])+" "+o.MB(b[55])+"low"+o.MB(b[57])),e+=f[49]),e+=f[1]);return e+=f[2],_r_(e)}(e),a.shift(),e+=f[2],o.MN("fe_widget_class",o.MB(b[58])),e+=f[1],o.MJ(o.MB(b[22])<1)&&(e+=f[49],o.MN("fe_widget_class","review-score-widget__empty"),e+=f[2]),e+=f[55];t="";o.MD(b[60])&&(t+=[f[67],o.F.entities(o.MB(b[60])),f[18]].join("")),o.MD(b[61])&&(t+=f[68]),o.MN(b[59],t),e+=f[55];t="";o.MJ(o.MB(b[63]))&&o.MK(o.MB(b[61]))&&(t+=[f[67],o.F.entities(o.MB(b[63])),f[18]].join("")),o.MN(b[62],t),e+=f[55];t="";o.MJ(o.MB(b[33])+""=="right")&&o.MK(o.MB(b[61]))&&(t+=[f[67],o.F.entities(o.MB(b[33])),f[18]].join("")),o.MN(b[64],t),e+=f[55];t="";o.MJ(o.MB(b[66])+""=="smaller")?t+=f[69]:o.MJ(o.MB(b[66])+""=="small")?t+=f[70]:o.MJ(o.MB(b[66])+""=="large")?t+=f[71]:o.MJ(o.MB(b[66])+""=="larger")&&(t+=f[72]),o.MN(b[65],t),e+=f[48];t="";(o.MJ(o.MB(b[60])+""=="outlined")||o.MJ(o.MB(b[60])+""=="text-only"))&&(t+=[o.F.entities(o.MB(b[60])),f[18]].join("")),o.MN(b[67],t),e+=f[48];t="";t+=[f[73],o.F.entities(o.MB(b[68])),f[18],o.F.entities(o.MB(b[59])),f[18],o.F.entities(o.MB(b[62])),f[18],o.F.entities(o.MB(b[64])),f[18],o.F.entities(o.MB(b[65])),f[18]].join(""),o.MK(o.MB(b[30]))&&(t+=f[74]),t+=f[18],o.MD(b[69])&&(t+=f[75]),t+=f[18],o.MD(b[70])&&(t+=[f[18],o.F.entities(o.MB(b[70]))].join("")),t+=f[18],o.MN(b[68],t),e+=f[48];var n;t="";o.MD(b[72])&&(t+=[f[76],o.MB(b[72]),f[77]].join("")),o.MN(b[71],t),e+=f[78],n=e,_i_("65cb:823429f6"),o.MN("fe_rating",o.MI(o.MB(b[22]))+o.MI(0)),n+=f[48],o.MN("fe_rating_adj",""),n+=f[2],o.MJ(0<=o.MB(b[73]))&&o.MJ(o.MB(b[73])<3)&&(n+=f[49],o.MN("fe_rating_adj","1"),n+=f[2]),n+=f[1],o.MJ(3<=o.MB(b[73]))&&o.MJ(o.MB(b[73])<4)&&(n+=f[49],o.MN("fe_rating_adj","2"),n+=f[2]),n+=f[1],o.MJ(4<=o.MB(b[73]))&&o.MJ(o.MB(b[73])<5)&&(n+=f[49],o.MN("fe_rating_adj","3"),n+=f[2]),n+=f[1],o.MJ(5<=o.MB(b[73]))&&o.MJ(o.MB(b[73])<5.6)&&(n+=f[49],o.MN("fe_rating_adj","4"),n+=f[2]),n+=f[1],o.MJ(5.6<=o.MB(b[73]))&&o.MJ(o.MB(b[73])<6)&&(n+=f[49],o.MN("fe_rating_adj","5"),n+=f[2]),n+=f[1],o.MJ(6<=o.MB(b[73]))&&o.MJ(o.MB(b[73])<7)&&(n+=f[49],o.MN("fe_rating_adj","6"),n+=f[2]),n+=f[1],o.MJ(7<=o.MB(b[73]))&&o.MJ(o.MB(b[73])<8)&&(n+=f[49],o.MN("fe_rating_adj","7"),n+=f[2]),n+=f[1],o.MJ(8<=o.MB(b[73]))&&o.MJ(o.MB(b[73])<8.6)&&(n+=f[49],o.MN("fe_rating_adj","8"),n+=f[2]),n+=f[1],o.MJ(8.6<=o.MB(b[73]))&&o.MJ(o.MB(b[73])<9)&&(n+=f[49],o.MN("fe_rating_adj","9"),n+=f[2]),n+=f[1],o.MJ(9<=o.MB(b[73]))&&o.MJ(o.MB(b[73])<9.5)&&(n+=f[49],o.MN("fe_rating_adj","10"),n+=f[2]),n+=f[1],o.MJ(9.5<=o.MB(b[73]))&&(n+=f[49],o.MN("fe_rating_adj","11"),n+=f[2]),e=_r_(n),e+=f[1],e+=f[1];t="";t+=f[49],o.MD(b[51])&&(t+=f[79],o.MD(b[75])?(t+=[f[80],o.MB(b[75]),f[77]].join(""),o.MD(b[76])&&(t+=[f[81],o.MB(b[76]),f[77]].join(""))):t+=f[82],t+=[f[83],(a.unshift({rating_adjective:o.MB(b[77])}),u=o.ME(f[84],o.MB,o.MN,null),a.shift(),u),f[85],o.MB(b[51]),f[86]].join(""),o.MD(b[75])?t+=f[87]:t+=f[82],t+=f[88]),t+=f[2],o.MN(b[74],t),e+=f[1];t="";t+=f[49],o.MD(b[30])&&(t+=f[79],o.MD(b[79])?(t+=[f[80],o.MB(b[79]),f[77]].join(""),o.MD(b[80])&&(t+=[f[81],o.MB(b[80]),f[77]].join(""))):t+=f[89],t+=[f[90],(a.unshift({num_reviews:o.MB(b[32])}),u=o.ME(f[91],o.MB,o.MN,null),a.shift(),u),f[92],o.F.entities(o.MB(b[30])),f[86]].join(""),o.MD(b[79])?t+=f[87]:t+=f[82],t+=f[88]),t+=f[2],o.MN(b[78],t),e+=f[93];t="";return t+=[f[94],o.MB(b[71]),f[95]].join(""),t+=o.F.entities(o.MB(b[68])),o.MJ(o.MC(b[24]))&&o.MJ(o.MC(b[82])+""=="www")&&o.MJ(!1)&&(t+=f[96]),t+=f[97],o.MD(b[83])&&(t+=[f[98],o.MB(b[83]),f[99]].join("")),t+=f[99],o.MD(b[84])&&(t+=[f[100],o.MC(b[84]),f[97]].join("")),t+=f[101],o.MJ(o.MB(b[22])<1)?t+=f[102]:(t+=f[103],o.MD(b[85])&&(t+=[f[99],o.MB(b[85]),f[66]].join("")),t+=f[104],o.MD(b[89])?(t+=f[105],o.MJ(o.MB(b[63])+""=="inline")?t=_(t+=[f[106],o.MB(b[78]),f[98],o.MB(b[74]),f[98]].join("")):(t+=f[98],o.MJ(o.MB(b[60])+""=="text-only")?(t=r(t+=[f[113],o.MB(b[74]),f[114]].join("")),t+=[f[114],o.MB(b[78]),f[98]].join("")):(t+=f[113],(o.MJ(o.MB(b[51]))||o.MJ(o.MB(b[30])))&&(t+=[f[115],o.MB(b[74]),f[116],o.MB(b[78]),f[117]].join("")),t=r(t+=f[114]),t+=f[98])),t+=f[99]):(t+=f[105],o.MJ(o.MB(b[60])+""=="text-only")||o.MJ(o.MB(b[63])+""=="inline")?(t=_(t+=f[106]),t+=[f[98],o.MB(b[74]),f[98],o.MB(b[78]),f[99]].join("")):(t=_(t+=f[106]),t+=f[98],(o.MJ(o.MB(b[51]))||o.MJ(o.MB(b[30])))&&(t+=[f[118],o.MB(b[74]),f[119],o.MB(b[78]),f[120]].join("")),t+=f[99])),t+=f[103],t+=f[103],o.MD(b[90])&&(t+=[f[99],o.MB(b[90]),f[66]].join("")),t+=f[103]),t+=f[121],o.MN(b[81],t),e+=f[122],o.MN(b[27],void 0),e+=f[2],o.MN(b[29],void 0),e+=f[2],o.MN(b[22],void 0),e+=f[2],o.MN(b[31],void 0),e+=f[2],o.MN(b[91],void 0),e+=f[2],o.MN(b[70],void 0),e+=f[2],o.MN(b[83],void 0),e+=f[2],o.MN(b[66],void 0),e+=f[2],o.MN(b[60],void 0),e+=f[2],o.MN(b[63],void 0),e+=f[2],o.MN(b[33],void 0),e+=f[2],o.MN(b[44],void 0),e+=f[2],o.MN(b[72],void 0),e+=f[93],o.MJ(o.MB(b[91])+""=="no")?e+=f[123]:e+=[f[65],o.MB(b[81]),f[2]].join(""),e+=f[1],e+=f[2],_r_(e)}i+=f[0],a.unshift({param_cleanup:f[131],param_item:o.MB(b[97]),param_type:o.MG((o.MC(b[97])||{}).type)}),e=i,_i_("65cb:72c45de2"),e+=f[1],o.MJ(o.MB(b[5])+""=="COUNTRY")?(e+=f[0],a.unshift({param_item:o.MB(b[1])}),n=e,_i_("65cb:39568acc"),n+=["",f[1]].join(""),o.MD(b[0])?(n+=f[0],o.MN("fe_class",""),n+=f[0],o.MN("fe_title",""),n+=f[0],o.MN("fe_subtitle",""),n+=f[0],o.MN("fe_high_res_image_src",""),n+=f[0],o.MN("fe_low_res_image_src",""),n+=f[0],o.MN("fe_image_alt",""),n+=f[0],o.MN("fe_icon_name",""),n+=f[0],o.MN("fe_link","")):(n+=f[0],o.MN("fe_class","beach-country-card"),n+=f[0],o.MN("fe_country_code",o.MG((o.MC(b[1])||{}).code)),n+=f[0],o.MN(b[2],o.ME(f[3],o.MB,o.MN,null)),n+=f[4],o.MN("fe_high_res_image_src",o.MG((((o.MC(b[1])||{}).photo||{}).by_size||{})["1920x1080"])),n+=f[0],o.MN("fe_low_res_image_src",o.MG((((o.MC(b[1])||{}).photo||{}).by_size||{})["600x400"])),n+=f[0],o.MN(b[3],(a.unshift({in_country:o.MB(b[4])}),u=o.ME(f[5],o.MB,o.MN,null),a.shift(),u)),n+=f[0],o.MN("fe_image_url",o.MG((((o.MC(b[1])||{}).photo||{}).by_size||{})["600x400"])),n+=f[0],o.MN("fe_icon_name","streamline/international"),n+=f[0],o.MN("fe_link",o.MG((o.MC(b[1])||{}).uri)),n+=f[0],o.MN("fe_data_args","data-ga-track='click|Beach Discovery|Landing page|Popular countries - Card'")),n+=f[2],n+=[f[2],"",f[2]].join(""),e=_r_(n),a.shift(),e+=f[2]):o.MJ(o.MB(b[5])+""=="CONTINENT")?(e+=f[0],a.unshift({param_item:o.MB(b[1])}),t=e,_i_("65cb:3c905ff0"),t+=["",f[1]].join(""),o.MD(b[0])?(t+=f[0],o.MN("fe_class",""),t+=f[0],o.MN("fe_title",""),t+=f[0],o.MN("fe_high_res_image_src",""),t+=f[0],o.MN("fe_low_res_image_src",""),t+=f[0],o.MN("fe_image_alt",""),t+=f[0],o.MN("fe_icon_name",""),t+=f[0],o.MN("fe_link",""),t+=f[0],o.MN("fe_class","")):(t+=f[0],o.MN("fe_class","beach-continent-card"),t+=f[0],o.MN("continent_id",o.MG((o.MC(b[1])||{}).id)),t+=f[0],o.MN(b[2],o.ME(f[6],o.MB,o.MN,null)),t+=f[0],o.MN("fe_high_res_image_src",o.MG((((o.MC(b[1])||{}).photo||{}).by_size||{})["1920x1080"])),t+=f[0],o.MN("fe_low_res_image_src",o.MG((((o.MC(b[1])||{}).photo||{}).by_size||{})["600x400"])),t+=f[0],o.MN(b[3],(a.unshift({in_continent:o.MB(b[6])}),u=o.ME(f[7],o.MB,o.MN,null),a.shift(),u)),t+=f[0],o.MN("fe_icon_name","streamline/international"),t+=f[0],o.MN("fe_link",o.MG((o.MC(b[1])||{}).uri)),t+=f[0],o.MN("fe_data_args","data-ga-track='click|Beach Discovery|Landing page|Continents - Card'")),t+=f[2],t+=[f[2],"",f[2]].join(""),e=_r_(t),a.shift(),e+=f[2]):o.MJ(o.MB(b[5])+""=="CITY")||o.MJ(o.MB(b[5])+""=="CITY_RESULTS")?(e+=f[0],a.unshift({param_item:o.MB(b[1]),param_type:o.MB(b[5])}),e=function(e){if(_i_("65cb:96749529"),e+=["",f[1]].join(""),o.MD(b[0]))e+=f[0],o.MN("fe_class",""),e+=f[0],o.MN("fe_link",""),e+=f[0],o.MN("fe_city_id",""),e+=f[0],o.MN("fe_title",""),e+=f[0],o.MN("fe_endorsement",""),e+=f[0],o.MN("fe_subtitle",""),e+=f[8],o.MN("fe_high_res_image_src",""),e+=f[0],o.MN("fe_low_res_image_src",""),e+=f[0],o.MN("fe_image_alt",""),e+=f[0],o.MN("fe_icon_name",""),e+=f[9],o.MN("fe_data_args",""),e+=f[2];else{if(e+=f[0],o.MN("fe_city_name",o.MG((o.MC(b[1])||{}).name)),e+=f[0],o.MN("fe_country_name",o.MG((o.MC(b[1])||{}).country_name)),e+=f[10],o.MJ(o.MB(b[7]))&&o.MJ(o.exists(o.MC(b[1]).region_name))&&(e+=f[11],o.MN("fe_country_name",o.MG((o.MC(b[1])||{}).region_name)),e+=f[0]),e+=f[8],o.MN("fe_country_code",o.MG((o.MC(b[1])||{}).countryIso2)),e+=f[0],o.MN("fe_city_id",o.MG((o.MC(b[1])||{}).ufi)),e+=f[0],o.MN(b[2],[o.F.html(o.MC(b[8])),f[12],o.F.html(o.MC(b[9]))].join("")),e+=f[0],o.MN("fe_high_res_image_src",o.MG((((o.MC(b[1])||{}).photo||{}).by_size||{})["1920x1080"])),e+=f[0],o.MN("fe_low_res_image_src",o.MG((((o.MC(b[1])||{}).photo||{}).by_size||{})["600x400"])),e+=f[0],o.MN(b[3],(a.unshift({city_name:o.MB(b[8])}),u=o.ME(f[13],o.MB,o.MN,null),a.shift(),u)),e+=f[0],o.MN("fe_icon_name","streamline/city"),e+=f[14],o.MN("beach_endorsements_size",o.array_length(o.MC(b[1]).endorsements)),e+=f[0],o.MJ(o.MC(b[1]).endorsements)&&o.MJ(o.MB(b[11]))){e+=f[11];var t=(o.MC(b[1])||{}).endorsements||[];a.unshift({fe_endorsement_item:null});for(var n,i=1,r=t.length;i<=r;i++){a[0].fe_endorsement_item=n=t[i-1],e+=f[15];var _="";_+=f[16],o.MJ(o.MG((n||{}).name))&&(_+=[f[17],o.MC(b[10]),f[18],(n||{}).name,f[19]].join(""),o.MK(o.MJ(i==t.length))&&(_+=f[20]),_+=f[16]),_+=f[21],o.MN(b[10],_),e+=f[11]}a.shift(),e+=f[0]}if(e+=f[9],o.MJ(o.MB(b[5])+""=="CITY")){e+=f[11],o.MN("fe_class","beach-city-card"),e+=f[22];var _="";_+=f[21],o.MJ(o.MC(b[1]).hemisphere+""=="NORTH")?_+=[f[16],(a.unshift({color:"#6B6B6B",name:f[23],size:f[24]}),u=o.HELPER("icon",a[0]),a.shift(),u),f[18],o.ME(f[25],o.MB,o.MN,null),f[21]].join(""):o.MJ(o.MC(b[1]).hemisphere+""=="SOUTH")?_+=[f[16],(a.unshift({color:"#6B6B6B",name:f[23],size:f[24]}),u=o.HELPER("icon",a[0]),a.shift(),u),f[18],o.ME(f[26],o.MB,o.MN,null),f[21]].join(""):o.MJ(o.MC(b[1]).hemisphere+""=="EQUATOR")&&(_+=[f[16],o.ME(f[27],o.MB,o.MN,null),f[21]].join("")),_+=f[11],o.MN(b[12],_),e+=f[28],o.MN("fe_data_args","data-city_id='"+o.MB(b[13])+"' data-photo_sizes='600x400' data-fragment_name='beach.landing.city_overlay' data-cst_name='city_overlay' data-ga-track='click|Beach Discovery|Landing page|Popular cities - Card'"),e+=f[0]}else o.MJ(o.MB(b[5])+""=="CITY_RESULTS")&&(e+=f[11],o.MN("fe_class","beach-city-result-card"),e+=f[22],o.MN("fe_avg_city_temp",o.MC(b[1]).monthlyMaxTemperature[o.MC(b[14])]),e+=f[11],o.MD(b[15])&&(e+=f[21],o.MN(b[12],[f[29],(a.unshift({in_month:o.MC(b[14]),temperature:o.MB(b[15])}),u=o.ME(f[30],o.MB,o.MN,null),a.shift(),u),f[21]].join("")),e+=f[11]),e+=f[22],o.MN("fe_quiz_month_year_params",""),e+=f[28],o.MN("fe_data_args",o.MB(b[16])+"data-city_id='"+o.MB(b[13])+"' data-photo_sizes='600x400' data-segment_id='"+o.MC(b[17])+"' data-fragment_name='beach.landing.city_overlay' data-cst_name='city_overlay' data-ga-track='click|Beach Discovery|Results|Popular cities - Card'"),e+=f[0]);e+=f[2]}return e+=[f[1],"",f[2]].join(""),_r_(e)}(e),a.shift(),e+=f[2]):o.MJ(o.MB(b[5])+""=="BEACHES")?(e+=f[0],a.unshift({param_item:o.MB(b[1])}),e=function(e){if(_i_("65cb:a2264ad0"),e+=["",f[1]].join(""),o.MD(b[0]))e+=f[0],o.MN("fe_class",""),e+=f[0],o.MN("fe_beach_id",""),e+=f[0],o.MN("fe_dest_id",""),e+=f[0],o.MN("fe_link",""),e+=f[8],o.MN("fe_counter",0),e+=f[0],o.MN("fe_title",""),e+=f[0],o.MN("fe_subtitle",""),e+=f[8],o.MN("fe_endorsements",""),e+=f[8],o.MN("fe_high_res_image_src",""),e+=f[0],o.MN("fe_low_res_image_src",""),e+=f[0],o.MN("fe_image_alt",""),e+=f[0],o.MN("fe_photos",""),e+=f[0],o.MN("fe_icon_name",""),e+=f[8],o.MN("fe_beach_review",""),e+=f[9],o.MN("fe_data_args",""),e+=f[2];else{e+=f[0],o.MN("fe_class","beach-beach-card"),e+=f[0],o.MN("fe_beach_id",o.MG((o.MC(b[1])||{}).geoObjectId)),e+=f[0],o.MN("fe_beach_name",o.MG((o.MC(b[1])||{}).name)),e+=f[0],o.MN("fe_dest_id",o.MG((o.MC(b[1])||{}).ufi)),e+=f[8];var t="";o.MJ(o.MB(b[19])+""!="GALLERY")&&(t+=[o.F.entities(o.MC(b[18])),f[31]].join("")),t+=[f[18],o.MC(b[20])].join(""),o.MN(b[2],t),e+=f[0],o.MN("fe_country_code",o.MG((o.MC(b[1])||{}).iso2)),e+=f[0],o.MN("fe_country_name",o.MG((o.MC(b[1])||{}).country_name)),e+=f[0],o.MN(b[12],[(o.MC(b[1])||{}).city_name,f[12],o.F.html(o.MC(b[9]))].join("")),e+=f[14],o.MN("fe_endorsements",o.MG(((o.MC(b[1])||{}).beachKnownFor||{}).ids)),e+=f[32],o.MN("fe_high_res_image_src",o.MG(((((o.MC(b[1])||{}).photo||[])[0]||{}).by_size||{})["1920x1080"])),e+=f[33],o.MN("fe_low_res_image_src",o.MG(((((o.MC(b[1])||{}).photo||[])[0]||{}).by_size||{})["600x400"])),e+=f[33],o.MN(b[3],(a.unshift({beach_name:o.MB(b[20])}),u=o.ME(f[34],o.MB,o.MN,null),a.shift(),u)),e+=f[33],o.MN("fe_photos",o.MG((o.MC(b[1])||{}).photo)),e+=f[33],o.MN("fe_icon_name","streamline/beach"),e+=f[8];var t="";t+=f[35],a.unshift({score:o.MG((o.MC(b[1])||{}).reviewScore)}),n=t,_i_("65cb:268dd83e"),o.MJ(9.5<=o.MB(b[22]))?n+=[f[36],o.ME(f[37],o.MB,o.MN,null),f[2]].join(""):o.MJ(9<=o.MB(b[22]))&&o.MJ(o.MB(b[22])<9.5)?n+=[f[36],o.ME(f[38],o.MB,o.MN,null),f[2]].join(""):o.MJ(8.6<=o.MB(b[22]))&&o.MJ(o.MB(b[22])<9)?n+=[f[36],o.ME(f[39],o.MB,o.MN,null),f[2]].join(""):o.MJ(8<=o.MB(b[22]))&&o.MJ(o.MB(b[22])<8.6)?n+=[f[0],o.ME(f[40],o.MB,o.MN,null),f[2]].join(""):o.MJ(7<=o.MB(b[22]))&&o.MJ(o.MB(b[22])<8)?n+=[f[0],o.ME(f[41],o.MB,o.MN,null),f[2]].join(""):o.MJ(6<=o.MB(b[22]))&&o.MJ(o.MB(b[22])<7)?n+=[f[0],o.ME(f[42],o.MB,o.MN,null),f[2]].join(""):o.MJ(5.6<=o.MB(b[22]))&&o.MJ(o.MB(b[22])<6)?n+=[f[0],o.ME(f[43],o.MB,o.MN,null),f[2]].join(""):o.MJ(5<=o.MB(b[22]))&&o.MJ(o.MB(b[22])<5.6)?n+=[f[0],o.ME(f[44],o.MB,o.MN,null),f[2]].join(""):o.MJ(o.MB(b[22])<5)&&(n+=[f[0],o.ME(f[45],o.MB,o.MN,null),f[2]].join("")),n+=f[2],t=_r_(n),a.shift(),t+=f[0],o.MN(b[21],t),e+=f[0];var t="";t+=f[11],a.unshift({extra_classes:f[124],layout:f[125],sample_size:o.MG((o.MC(b[1])||{}).numReviews),score:o.MG((o.MC(b[1])||{}).reviewScore),style:f[126],text:o.MB(b[21])}),t=c(t),a.shift(),t+=f[0],o.MN(b[23],t),e+=f[9],o.MN("fe_data_args","data-beach_id='"+o.MB(b[92])+"' data-photo_sizes='600x400' data-fragment_name='beach.landing.beach_overlay' data-cst_name='beach_overlay' "+o.MB(b[93])+" data-ga-track='click|Beach Discovery|Landing page|Best beaches - Card' "),e+=f[2]}var n;return e+=[f[1],"",f[2]].join(""),_r_(e)}(e),a.shift(),e+=f[2]):o.MJ(o.MB(b[5])+""=="PROPERTY")&&(e+=f[0],a.unshift({param_item:o.MB(b[1])}),e=function(e){if(_i_("65cb:f5c35be2"),e+=["",f[1]].join(""),o.MD(b[0]))e+=f[0],o.MN("fe_class",""),e+=f[0],o.MN("fe_title",""),e+=f[0],o.MN("fe_subtitle",""),e+=f[0],o.MN("fe_high_res_image_src",""),e+=f[0],o.MN("fe_low_res_image_src",""),e+=f[0],o.MN("fe_image_alt",""),e+=f[0],o.MN("fe_icon_name",""),e+=f[0],o.MN("fe_link",""),e+=f[0],o.MN("fe_cityname",""),e+=f[0],o.MN("fe_facility",""),e+=f[0],o.MN("fe_distance_to_beach",""),e+=f[2];else{e+=f[0];var t="";t+=f[11],a.unshift({extra_classes:f[124],layout:f[125],sample_size:o.MG((o.MC(b[1])||{}).reviewsCount),score:o.MG((o.MC(b[1])||{}).reviewScore),style:f[126]}),t=c(t),a.shift(),t+=f[0],o.MN(b[94],t),e+=f[0],o.MN("fe_class","beach-property-card bui-spacer--medium"),e+=f[0],o.MN("fe_country_code",o.MG((o.MC(b[1])||{}).code)),e+=f[0],o.MN("fe_title",o.MG((o.MC(b[1])||{}).hotel_name)),e+=f[0],o.MN("fe_distance_to_beach",o.MG((o.MC(b[1])||{}).distanceToBeach)),e+=f[8],o.MN(b[12],o.F.entities((o.MC(b[1])||{}).price_formatted)),e+=f[0],o.MN("fe_cityname",o.MG((o.MC(b[1])||{}).city_name)),e+=f[0];var t="";t+=f[11],o.MJ(o.MG((o.MC(b[1])||{}).beachfront))?t+=[f[21],(a.unshift({height:f[127],name:f[128],width:f[127]}),u=o.HELPER("icon",a[0]),a.shift(),u),f[21],o.ME(f[129],o.MB,o.MN,null),f[11]].join(""):t+=[f[21],(a.unshift({distance:o.MB(b[96])}),u=o.ME(f[130],o.MB,o.MN,null),a.shift(),u),f[11]].join(""),t+=f[0],o.MN(b[95],t),e+=f[8],o.MN("fe_high_res_image_src",o.MG((o.MC(b[1])||{}).hotel_photo)),e+=f[0],o.MN("fe_low_res_image_src",o.MG((o.MC(b[1])||{}).hotel_photo)),e+=f[0],o.MN("fe_image_alt",o.MG((o.MC(b[1])||{}).hotel_name)),e+=f[0],o.MN("fe_image_url",o.MG((o.MC(b[1])||{}).hotel_photo)),e+=f[0],o.MN("fe_icon_name","streamline/beach"),e+=f[0],o.MN("fe_link",o.MG((o.MC(b[1])||{}).uri)),e+=f[0],o.MN("fe_review",o.MB(b[94])),e+=f[0],o.MN("fe_data_args","data-ga-track='click|Beach Discovery|Landing page|Property carousel - Card'"),e+=f[2]}return e+=[f[2],"",f[2]].join(""),_r_(e)}(e),a.shift(),e+=f[2]),e+=f[2],i=_r_(e),a.shift(),i+=f[0];var l={fe_class:o.MB(b[99]),fe_data_args:o.MB(b[100]),fe_deals:o.MB(b[109]),fe_high_res_image_src:o.MB(b[101]),fe_icon_name:o.MB(b[105]),fe_lazy_load:f[131],fe_low_res_image_src:o.MB(b[104]),fe_review_nr:o.MB(b[110]),fe_review_score:o.MB(b[36]),fe_subtitle:o.MB(b[12]),fe_tags:o.MB(b[106]),fe_title:o.MB(b[2])},d=a;return(a=o.SV([{},{}])).unshift(l),i=function(e){_i_("65cb:388d7a8e"),e+=[f[2],"",f[48]].join(""),e+=f[132];var t={fe_agent_is_robot:o.MB(b[103]),fe_cityname:o.MB(b[108]),fe_class:o.MB(b[99]),fe_country_name:o.MB(b[9]),fe_data_args:o.MB(b[100]),fe_deals:o.MB(b[109]),fe_facility:o.MB(b[95]),fe_high_res_image_src:o.MB(b[101]),fe_icon_name:o.MB(b[105]),fe_image_alt:o.MB(b[3]),fe_lazy_load:o.MB(b[102]),fe_link:o.MB(b[98]),fe_low_res_image_src:o.MB(b[104]),fe_review:o.MB(b[107]),fe_subtitle:o.MB(b[12]),fe_tags:o.MB(b[106]),fe_title:o.MB(b[2])},n=a;return(a=o.SV([{},{}])).unshift(t),e=s(e),a=o.SV(n),e+=[f[178],"",f[2]].join(""),_r_(e)}(i),a=o.SV(d),i+=f[2],_r_(i)})}()),B.define("component/abstract-bui-card-image",function(e,t,n){_i_("65cb:61d0d645");var i=e("component"),r=e("jstmpl"),a=e("read-data-options"),_=!1;n.exports=i.extend({init:function(){_i_("65cb:40efea9d"),this.$imageEl=this.$el,this.image=new Image,this.errorCst=r("image_fallback_cst"),this.loadImage(),_r_()},loadImage:function(){_i_("65cb:2dba4a7c");var e=this.$imageEl.data("normalres");this.getRetinaValue()&&(e=this.$imageEl.data("highres")),this.initLazyLoaderImage(this.$imageEl.get(0),e),_r_()},renderImage:function(e,t,n){_i_("65cb:bfcb1b15");var i=this,r=a(i.$el,{altText:{name:"alt-text",type:String},iconName:{name:"icon-name",type:String}});if(t.addEventListener("load",function(){_i_("65cb:ce3b8a8a"),e.attr("src")||e.attr("src",n),r.altText&&(e.attr("alt",r.altText),e.attr("data-alt-text","")),_r_()}),t.addEventListener("error",function(){if(_i_("65cb:78b035a4"),i.$el.data("icon-name")&&r.iconName){var e=i.errorCst.render({data:r.iconName});i.$el.parent().html(e)}_r_()}),n)t.src=n;else if(r.iconName){var _=i.errorCst.render({data:r.iconName});i.$el.parent().html(_)}_r_()},getRetinaValue:function(){return _i_("65cb:4c326f32"),void 0!==window.devicePixelRatio&&(_=1<window.devicePixelRatio),_r_(_)},initLazyLoaderImage:function(n,i){_i_("65cb:08da3d72");var r=this;if("IntersectionObserver"in window){var _=new IntersectionObserver(function(e,t){_i_("65cb:b8e08ce3"),e.forEach(function(e){_i_("65cb:7f93826a"),e.isIntersecting&&(r.renderImage(r.$imageEl,r.image,i),_.unobserve(n)),_r_()}),_r_()});_.observe(n)}else{var e=!1,t=function(){_i_("65cb:d519dc0f"),!1===e&&(e=!0,setTimeout(function(){_i_("65cb:f2a03f74"),"none"!==getComputedStyle(n).display&&n.getBoundingClientRect().top<=window.innerHeight&&0<=n.getBoundingClientRect().bottom&&(r.renderImage(r.$imageEl,r.image,i),$(document).off("scroll",t),$(window).off("resize",t),$(window).off("orientationchange",t)),e=!1,_r_()},500)),_r_()};$(document).on("scroll",t),$(window).on("resize",t),$(window).on("orientationchange",t)}_r_()}}),_r_()}),booking.jstmpl("image_fallback_cst",function(){_i_("65cb:6a3dd156");var i,r=['\n    <div class="image-fallback image-fallback__cst">\n        ',"\n            ",'\n            <div class="image-fallback__icon">\n                ',"48","\n            </div>\n        ","\n    </div>\n"],_=["data","fe_icon_name"];return _r_(function(e){_i_("65cb:4f69f979");var t="",n=this.fn;return t+=r[0],n.MD(_[0])&&(t+=r[1],n.MN("fe_icon_name",n.MB(_[0])||"streamline/international"),t+=[r[2],(e.unshift({height:r[3],name:n.MB(_[1]),width:r[3]}),i=n.HELPER("icon",e[0]),e.shift(),i),r[4]].join("")),t+=r[5],_r_(t)})}()),B.define("redux-thunk",function(e,t,n){function i(r){return _i_("65cb:a7fd3be6"),_r_(function(e){_i_("65cb:062ac9a3");var n=e.dispatch,i=e.getState;return _r_(function(t){return _i_("65cb:a578fd04"),_r_(function(e){if(_i_("65cb:e53004a6"),"function"==typeof e)return _r_(e(n,i,r));return _r_(t(e))})})})}_i_("65cb:24d16021");var r=i();r.withExtraArgument=i,n.exports=r,_r_()}),booking.jstmpl("wishlist_entry_point",function(){_i_("65cb:17691675");var b,h=["\n        ","\n    ",'\n    <button\n        id="wl--','"\n        data-bui-component="','"\n        data-popover-content-id="','"\n        data-wl-hotel-saved="','"\n        data-popover-position="bottom end"\n        data-popover-trigger="click"\n        data-component="wishlist/entrypoint"\n        type="button"\n        data-hotel-id="','"\n        data-list-id="','"\n        data-key="','"\n        data-popover-z-index="modal"\n        data-corner-icon="','"\n        data-bui-button="','"\n        data-bui-button-type="','"\n        data-bui-button-size="','"\n        data-wl-icon-size="','"\n        data-expand-list="','"\n        data-show-text="','"\n        data-placement="hp_title"\n        data-position="','"\n        data-disable-tooltip="','"\n        ','\n        data-title="','\n        data-single-selection="','"\n\n        class="',"wl-entrypoint ","bui-button bui-button--"," ","bui-button--","corner ","saved_in_wl",'"\n\n        aria-label="',"/private/a11y_hp_bookmarks_button_saved/name","","/private/a11y_hp_bookmarks_add_to/name",'"\n\n        role="button"\n        aria-live="assertive"\n        data-loadingtext="',"/private/a11y_hp_bookmarks_loading/name",'"\n    >\n        ','\n            <div aria-label="loading" class="bui-spinner'," bui-spinner--size-small",'" role="alert" aria-busy="true">\n                <div class="bui-spinner__inner"></div>\n            </div>\n        ',"\n            ","\n                ","true","sr-wl-entry-heart-svg","false","iconset/heart","presentation","medium","\n                    ","saved","iconset/heart_outline",'\n            <span class="wl-entrypoint__btn-text">\n                ',"/private/sr_lists_saved_notification/name","/private/lists_add_to_list/name","\n            </span>\n        ",'\n    <div\n        id="','"\n        class="bui-card bui-u-hidden"\n    >\n        <div class="bui-card__content">\n            ',"\n\n    ",'\n        <div class="bui-inline-container bui-inline-container--align">\n            <div class="list-manager__title bui-inline-container__start">\n                ',"/private/wl_removed_from/name",'\n            </div>\n            <div class="bui-inline-container__main">\n                ','\n        <a\n            class="bui-link bui-link--primary bui_font_body js-open-list"\n            target="_blank"\n            href="','"\n        >\n            ','\n            <span aria-label="','"></span>\n        </a>\n    ',"\n            </div>\n        </div>\n    ",'\n        <span class="list-manager__title">\n            ','\n        </span>\n        <ul class="bui-list bui-list--unordered list-manager__removed-list">\n            ','\n                <li class="bui-list__item list-manager__removed-item">\n                    ',"\n                </li>\n            ","\n        </ul>\n    ","\n",'\n    <div class="list-manager__loading'," list-manager__loading-mask",'">\n        <div aria-label="Loading" class="bui-spinner" role="alert" aria-busy="true">\n            <div class="bui-spinner__inner"></div>\n        </div>\n    </div>\n','<div class="list-manager__title" aria-hidden="true">\n    ',"/private/wl_select_a_list/name",'\n                    <a href="','" class="js-open-list list-manager__title--saved" target="_blank">\n                ',"/private/wl_saved_to/name","</a>","        \n    ","\n</div>\n",'\n    <div class="list-manager__title" aria-hidden="true">\n        ',"        \n    </div>\n",'\n                    <div class="bui-link bui-link--secondary list-manager__expand-link js-list-manager__expand-link">\n                        <div class="bui-inline-container bui-inline-container--align">\n                            <div class="bui-inline-container__main">\n                                ',"/private/wl_lists_funnel_edit/name",'\n                            </div>\n                            <div class="bui-inline-container__end">\n                                ',"iconset/navarrow_down_bold","small","\n                            </div>\n                        </div>\n                    </div>\n                ","\n                        ",'\n                            <div class="',"bui-form__group list-manager__lists",'"\n                                role="group"\n                            >\n                                <div class="bui-group">\n                                    ',"\n                                        ",'<label\n    class="bui-radio js-wl-radio"\n    aria-label="','"\n    data-list-id="','"\n>\n    <input\n        type="radio"\n        class="bui-radio__input"\n        ','checked="checked"','\n    />\n\n    <span class="bui-radio__label">\n        <span class="list-manager__list-name">\n            ',"\n        </span>\n        ",'\n            <span class="list-manager_view-link-wrapper">\n                <a\n                    class="js-open-list"\n                    target="_blank"\n                    href="','"\n                    aria-describedby="wl_checkbox_label_','"\n                >\n                    ',"/private/wl_view_list/name",'\n                    <span aria-label="','"></span>\n                </a>\n            </span>\n        ',"\n    </span>\n</label>\n","\n                                    ","\n\n",'\n\n<div class="list-manager__input-wrapper'," bui-has-error",'">\n    ','\n    <label class="bui-radio list-manager__input-create js-list-manager__input-create">\n        <input\n            type="radio"\n            name="radio"\n            ','disabled=""','\n            class="bui-radio__input"\n            aria-hidden="true"\n        />\n        <span class="bui-radio__label">\n            ',"/private/wl_new_list/name","\n        </span>\n    </label>\n",'\n    <div class="bui-input-text__content"\n        data-bui-tooltip\n        data-bui-component="',"Tooltip",'"\n        data-tooltip-position="bottom"\n        data-tooltip-z-index="modal"\n        title="',"/private/wl_lists_max_tooltip/name",'"\n        aria-label="','"\n    >\n        <div class="bui-input-text__field">\n            <input\n                type="text"\n                ',"disabled",'\n                class="bui-input-text__control js-wl-create-input"\n                value="','"\n                placeholder="','"\n                aria-label="',"/private/a11y_hp_bookmarks_name_new/name",'"\n            />\n            <div class="bui-input-text__decorator"></div>\n            ','\n                <div class="bui-input-text__side">\n                    <span class="bui-icon bui-icon--medium bui-icon--color-destructive">\n                        <svg viewBox="0 0 24 24" width="1em" height="1em" iconset="streamline" name="Warning" focusable="false" aria-hidden="true">\n                            <path d="M12 15.75A1.125 1.125 0 1 0 12 18a1.125 1.125 0 0 0 0-2.25.75.75 0 0 0 0 1.5.375.375 0 1 1 0-.75.375.375 0 0 1 0 .75.75.75 0 0 0 0-1.5zm.75-2.25V5.25a.75.75 0 0 0-1.5 0v8.25a.75.75 0 0 0 1.5 0zM22.5 12c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12zm1.5 0c0-6.627-5.373-12-12-12S0 5.373 0 12s5.373 12 12 12 12-5.373 12-12z"></path>\n                        </svg>\n                    </span>\n                </div>\n            ',"\n        </div>\n    </div>\n",'\n    <label class="bui-checkbox js-wl-checkbox list-manager__input-create js-list-manager__input-create'," bui-checkout__loading",'">\n        <input\n            type="checkbox"\n            name="create"\n            ','\n            class="bui-checkbox__input"\n            aria-hidden="true"\n        />\n        <span class="bui-checkbox__label">\n            ','\n                <div aria-label="Label" class="bui-spinner bui-spinner--size-small" role="alert" aria-busy="true">\n                    <div class="bui-spinner__inner"></div>\n                </div>\n            ',"\n    \n    ",'\n        <div class="bui-form__error">\n            ',"/private/wl_lists_create_failed/name","\n        </div>\n    ","\n</div>","\n                                </div>\n                            </div>\n                            ","\n                                ","\n                            ",'\n                        <div class="','"\n                            role="group"\n                        >\n                            <div class="bui-group">\n                                ','<label\n    class="bui-checkbox js-wl-checkbox','"\n    aria-label="','"\n>\n    <input\n        type="checkbox"\n        class="bui-checkbox__input"\n        ','\n    />\n    <span class="bui-checkbox__label">\n        ','\n            <div aria-label="Label" class="bui-spinner bui-spinner--size-small" role="alert" aria-busy="true">\n                <div class="bui-spinner__inner"></div>\n            </div>\n        ','\n        <span class="list-manager__list-name">\n            ',"\n    </span>\n</label>","\n                            </div>\n                        </div>\n                        ","\n    </button>\n"],p=["wl_popover_content_id","component_id","wl_hotel_saved","hotel_id","wl_list_id","wl_popover_key","wl_corner_icon","bui_button","bui_button_type","bui_button_size","wl_icon_size","wl_expand_list","show_text","b_lang_is_rtl","wl_disable_tooltip","wl_entrypoint_title","wl_single_selection","fe_hotel_wishlists_count","listsCount","wl_entrypoint_loading","wl_lists","url","list_name","name","wl_expand_before_save","wl_list_toggled","wl_submitting","wl_loading_list","b_user_auth_level_is_low_or_high","wl_list_expanded","fe_wl_list_start_link","fe_wl_list_link","id","selected","wl_error_when_creating","wl_new_list_input_disabled","wl_remaining","wl_new_list_name","input_placeholder","wl_new_list_hint","wl_list_loading_status","wishlist_create_new","b_reg_user_wishlist_remaining","b_action","b_site_type"];return _r_(function(c){_i_("65cb:ba843692");var e,t,n="",l=this.fn;function d(e){return _i_("65cb:3dfb2d67"),e+=h[108],e+=h[108],e+=h[109],l.MD(p[34])&&(e+=h[110]),e+=h[111],l.MD(p[16])?(e=function(e){_i_("65cb:df8cbcc1"),e+=h[112],l.MD(p[35])&&(e+=h[113]);return e+=[h[114],l.ME(h[115],l.MB,l.MN,null),h[116]].join(""),_r_(e)}(e+=h[0]),e+=h[0],c.unshift({input_placeholder:l.MB(p[39])}),e=i(e),c.shift()):e=function(e){_i_("65cb:76c3854e"),e+=h[131],l.MJ(l.MG((l.MC(p[40])||{}).newList))&&(e+=h[132]);e+=h[133],l.MD(p[35])&&(e+=h[113]);e+=h[134],l.MJ(l.MG((l.MC(p[40])||{}).newList))&&(e+=h[135]);return e+=h[38],c.unshift({input_placeholder:l.MB(p[41])}),e=i(e),c.shift(),e+=h[116],_r_(e)}(e+=h[0]),e+=h[1],e+=h[136],l.MD(p[34])&&(e+=[h[137],l.ME(h[138],l.MB,l.MN,null),h[139]].join("")),e+=h[140],_r_(e)}function u(e){return _i_("65cb:5e086ca1"),e+=h[108],e+=h[108],e+=h[109],l.MD(p[34])&&(e+=h[110]),e+=h[111],l.MD(p[16])?(e=function(e){_i_("65cb:1c4c31cb"),e+=h[112],l.MD(p[35])&&(e+=h[113]);return e+=[h[114],l.ME(h[115],l.MB,l.MN,null),h[116]].join(""),_r_(e)}(e+=h[0]),e+=h[0],c.unshift({input_placeholder:l.MB(p[39])}),e=r(e),c.shift()):e=function(e){_i_("65cb:72de7d95"),e+=h[131],l.MJ(l.MG((l.MC(p[40])||{}).newList))&&(e+=h[132]);e+=h[133],l.MD(p[35])&&(e+=h[113]);e+=h[134],l.MJ(l.MG((l.MC(p[40])||{}).newList))&&(e+=h[135]);return e+=h[38],c.unshift({input_placeholder:l.MB(p[41])}),e=r(e),c.shift(),e+=h[116],_r_(e)}(e+=h[0]),e+=h[1],e+=h[136],l.MD(p[34])&&(e+=[h[137],l.ME(h[138],l.MB,l.MN,null),h[139]].join("")),e+=h[140],_r_(e)}function i(e){return _i_("65cb:55f2ffa7"),e+=h[117],l.MJ(l.MB(p[36])<=0)&&(e+=h[118]),e+=h[119],l.MJ(l.MB(p[36])<=0)&&(e+=l.ME(h[120],l.MB,l.MN,null)),e+=h[121],l.MJ(l.MB(p[36])<=0)&&(e+=l.ME(h[120],l.MB,l.MN,null)),e+=h[122],(l.MJ(l.MB(p[36])<=0)||l.MJ(l.MB(p[26])))&&(e+=h[123]),e+=[h[124],l.F.entities(l.MC(p[37])),h[125],l.F.entities(l.MC(p[38])),h[126],l.ME(h[127],l.MB,l.MN,null),h[128]].join(""),l.MD(p[34])&&(e+=h[129]),e+=h[130],_r_(e)}function r(e){return _i_("65cb:3cdadbd8"),e+=h[117],l.MJ(l.MB(p[36])<=0)&&(e+=h[118]),e+=h[119],l.MJ(l.MB(p[36])<=0)&&(e+=l.ME(h[120],l.MB,l.MN,null)),e+=h[121],l.MJ(l.MB(p[36])<=0)&&(e+=l.ME(h[120],l.MB,l.MN,null)),e+=h[122],(l.MJ(l.MB(p[36])<=0)||l.MJ(l.MB(p[26])))&&(e+=h[123]),e+=[h[124],l.F.entities(l.MC(p[37])),h[125],l.F.entities(l.MC(p[38])),h[126],l.ME(h[127],l.MB,l.MN,null),h[128]].join(""),l.MD(p[34])&&(e+=h[129]),e+=h[130],_r_(e)}function f(e){return _i_("65cb:766e82b6"),e+=[h[59],l.F.html(l.MB(p[21])),h[60],l.F.js(l.F.html(l.MC(p[22]))),h[61],l.F.js(l.F.html(l.MB(p[22]))),h[62]].join(""),_r_(e)}return n+=h[0],e=n,_i_("65cb:514c8363"),t=e+=["",h[1]].join(""),_i_("65cb:e5c4211d"),t+=["",h[2],l.F.entities(l.MC(p[0])),h[3],l.F.entities(l.MC(p[1])),h[4],l.F.entities(l.MC(p[0])),h[5],l.F.entities(l.MC(p[2])),h[6],l.F.entities(l.MC(p[3])),h[7],l.F.entities(l.MC(p[4])),h[8],l.F.entities(l.MC(p[5])),h[9],l.F.entities(l.MC(p[6])),h[10],l.F.entities(l.MC(p[7])),h[11],l.F.entities(l.MC(p[8])),h[12],l.F.entities(l.MC(p[9])),h[13],l.F.entities(l.MC(p[10])),h[14],l.F.entities(l.MC(p[11])),h[15],l.F.entities(l.MC(p[12])),h[16],l.F.entities(l.MC(p[13])?"bottom left":"bottom right"),h[17],l.F.entities(l.MC(p[14])),h[18]].join(""),l.MK(l.MB(p[14]))&&(t+=[h[19],l.F.entities(l.MC(p[15])),h[18]].join("")),t+=[h[20],l.F.entities(l.MC(p[16])),h[21]].join(""),t+=h[22],l.MD(p[7])&&(t+=[h[23],l.F.entities(l.MC(p[8])),h[24]].join(""),l.MD(p[9])&&(t+=[h[25],l.F.entities(l.MC(p[9])),h[24]].join(""))),l.MJ(1<l.MB(p[6]))&&(t+=h[26]),l.MD(p[10])&&(t+=[l.F.entities(l.MC(p[10])),h[24]].join("")),l.MD(p[2])&&(t+=h[27]),t+=h[28],l.MJ(0<l.MB(p[18]))?t+=[(c.unshift({num_lists:l.MB(p[17])}),b=l.ME(h[29],l.MB,l.MN,null),c.shift(),b),h[30]].join(""):t+=[l.ME(h[31],l.MB,l.MN,null),h[24]].join(""),t+=[h[32],l.ME(h[33],l.MB,l.MN,null),h[34]].join(""),l.MD(p[19])?(t+=h[35],l.MD(p[10])&&(t+=h[36]),t+=h[37]):(t+=h[38],l.MD(p[6])?t+=[h[39],(c.unshift({"aria-hidden":h[40],class:h[41],focusable:h[42],name:h[43],role:h[44],size:h[45]}),b=l.HELPER("icon",c[0]),c.shift(),b),h[38]].join(""):(t+=h[39],l.MD(p[2])?t+=[h[46],(c.unshift({class:h[47],name:h[43],size:h[45]}),b=l.HELPER("icon",c[0]),c.shift(),b),h[39]].join(""):t+=[h[46],(c.unshift({color:"#0071C2",name:h[48],size:h[45]}),b=l.HELPER("icon",c[0]),c.shift(),b),h[39]].join(""),t+=h[38]),t+=h[0]),t+=h[0],l.MD(p[12])&&(t+=h[49],l.MD(p[2])?t+=[h[46],l.ME(h[50],l.MB,l.MN,null),h[39]].join(""):t+=[h[46],l.ME(h[51],l.MB,l.MN,null),h[39]].join(""),t+=h[52]),t+=h[0],l.MJ(l.MC(p[44])+""=="www")&&(t=function(e){if(_i_("65cb:f654b2c5"),e+=["",h[53],l.F.entities(l.MC(p[0])),h[54]].join(""),l.MK(l.MB(p[2])||l.MB(p[24])||l.MB(p[25])))e=function(e){if(_i_("65cb:8ea24128"),e+=["",h[1]].join(""),e+=h[55],l.MJ(1==l.array_length(l.MB(p[20])))){e+=[h[56],l.ME(h[57],l.MB,l.MN,null),h[58]].join("");var t=l.MC(p[20])||[];c.unshift(null);for(var n=1,i=t.length;n<=i;n++)c[0]=t[n-1],e+=h[46],c.unshift({list_name:l.MB(p[23]),url:l.MB(p[21])}),e=f(e),c.shift(),e+=h[39];c.shift(),e+=h[63]}else{for(e+=[h[64],l.ME(h[57],l.MB,l.MN,null),h[65]].join(""),t=l.MC(p[20])||[],c.unshift(null),n=1,i=t.length;n<=i;n++)c[0]=t[n-1],e+=h[66],c.unshift({list_name:l.MB(p[23]),url:l.MB(p[21])}),e=f(e),c.shift(),e+=h[67];c.shift(),e+=h[68]}return e+=[h[69],""].join(""),_r_(e)}(e+=h[39]),e+=h[38];else if(l.MD(p[27]))o=e+=h[39],_i_("65cb:bda3c773"),o+=["",h[70]].join(""),l.MD(p[26])&&(o+=h[71]),o+=[h[72],""].join(""),e=_r_(o),e+=h[38];else{if(e+=h[39],e=l.MD(p[16])?function(e){if(_i_("65cb:302e8ecc"),e+=h[73],l.MJ(l.MC(p[28]))&&l.MJ(l.MB(p[29])))e+=[h[0],l.ME(h[74],l.MB,l.MN,null),h[1]].join("");else{e+=h[0];var t=l.MC(p[20])||[];c.unshift({list:null});for(var n,i=1,r=t.length;i<=r;i++)c[0].list=n=t[i-1],e+=h[38],l.MJ(l.MG((n||{}).selected))&&(e+=h[39],l.MN(p[30],[h[75],l.F.html((n||{}).url),h[76]].join("")),e+=h[39],l.MN("fe_wl_list_link",l.MG((n||{}).name)),e+=h[38]),e+=h[0];c.shift(),e+=[h[0],(c.unshift({end_link:h[78],list_name:l.MB(p[31]),start_link:l.MB(p[30])}),b=l.ME(h[77],l.MB,l.MN,null),c.shift(),b),h[79]].join("")}return e+=h[80],_r_(e)}(e+=h[46]):function(e){if(_i_("65cb:6b9762d8"),l.MK(l.MB(p[24])||l.MB(p[25]))){e+=h[81];var t=l.MC(p[20])||[];c.unshift({list:null});for(var n,i=1,r=t.length;i<=r;i++)c[0].list=n=t[i-1],e+=h[38],l.MJ(l.MG((n||{}).selected))&&(e+=h[39],l.MN(p[30],[h[75],l.F.html((n||{}).url),h[76]].join("")),e+=h[39],l.MN(p[31],[h[46],l.F.js(l.F.html((n||{}).name)),h[39]].join("")),e+=h[38]),e+=h[0];c.shift(),e+=[h[0],(c.unshift({end_link:h[78],list_name:l.MB(p[31]),start_link:l.MB(p[30])}),b=l.ME(h[77],l.MB,l.MN,null),c.shift(),b),h[82]].join("")}return e+=h[69],_r_(e)}(e+=h[46]),e+=h[39],e+=h[39],l.MJ(l.MC(p[28]))&&l.MK(l.MB(p[29])))e+=[h[83],l.ME(h[84],l.MB,l.MN,null),h[85],(c.unshift({color:"#000000",name:h[86],size:h[87]}),b=l.HELPER("icon",c[0]),c.shift(),b),h[88]].join("");else{if(e+=h[46],l.MD(p[16])){if(e+=h[89],l.MD(p[28])){e+=h[90],e+=h[91],e+=h[92];var t=l.MC(p[20])||[];c.unshift(null);for(var n=1,i=t.length;n<=i;n++)c[0]=t[n-1],a=e+=h[93],_i_("65cb:1b6c551e"),a+=[h[94],l.F.js(l.F.html(l.MC(p[23]))),h[95],l.F.js(l.F.html(l.MC(p[32]))),h[96]].join(""),l.MD(p[33])&&(a+=h[97]),a+=[h[98],l.F.js(l.F.html(l.MC(p[23]))),h[99]].join(""),l.MD(p[33])&&(a+=[h[100],l.F.html(l.MC(p[21])),h[101],l.F.js(l.F.html(l.MB(p[32]))),h[102],l.ME(h[103],l.MB,l.MN,null),h[104],l.F.js(l.F.html(l.MC(p[23]))),h[105]].join("")),a+=h[106],e=_r_(a),e+=h[107];c.shift(),e+=h[107],l.MJ(0<l.MC(p[42]))&&(e=d(e+=h[93]),e+=h[107]),e+=h[141],l.MD(p[26])&&(_=e+=h[142],_i_("65cb:9d07d1eb"),_+=["",h[70]].join(""),l.MD(p[26])&&(_+=h[71]),_+=[h[72],""].join(""),e=_r_(_),e+=h[143]),e+=h[89]}e+=h[46]}else{e+=h[144],e+=h[91],e+=h[145];var t=l.MC(p[20])||[];c.unshift(null);for(var n=1,i=t.length;n<=i;n++)c[0]=t[n-1],e+=h[107],s=e,_i_("65cb:0bc144df"),s+=h[146],l.MJ(l.MC(p[40])[l.MB(p[32])])&&(s+=h[132]),s+=[h[147],l.F.js(l.F.html(l.MC(p[23]))),h[95],l.F.js(l.F.html(l.MC(p[32]))),h[148]].join(""),l.MD(p[33])&&(s+=h[97]),s+=h[149],l.MJ(l.MC(p[40])[l.MB(p[32])])&&(s+=h[150]),s+=[h[151],l.F.js(l.F.html(l.MC(p[23]))),h[99]].join(""),l.MJ(l.MB(p[33]))&&l.MJ(l.MC(p[43])+""=="hotel")&&(s+=[h[100],l.F.html(l.MC(p[21])),h[101],l.F.js(l.F.html(l.MB(p[32]))),h[102],l.ME(h[103],l.MB,l.MN,null),h[104],l.F.js(l.F.html(l.MC(p[23]))),h[105]].join("")),s+=h[152],e=_r_(s),e+=h[142];c.shift(),e+=h[142],l.MJ(l.MC(p[28]))&&l.MJ(0<l.MC(p[42]))&&(e=u(e+=h[107]),e+=h[142]),e+=h[153],l.MD(p[26])&&(r=e+=h[143],_i_("65cb:3512dfe7"),r+=["",h[70]].join(""),l.MD(p[26])&&(r+=h[71]),r+=[h[72],""].join(""),e=_r_(r),e+=h[89]),e+=h[46]}e+=h[39]}e+=h[38]}var r,_,a,o,s;return e+=[h[130],"",h[69]].join(""),_r_(e)}(t+=h[38]),t+=h[0]),t+=[h[154],""].join(""),e=_r_(t),e+=[h[69],""].join(""),n=_r_(e),n+=h[1],_r_(n)})}()),booking.jstmpl("wishlist_savers",function(){_i_("65cb:9630fabe");var r=["\n        ",'\n    <p\n        class="hp-lists-counter wishlist-social-count'," g-hidden",'"\n        data-component="wishlist/savers"\n        data-wl-hotel-saved="','"\n        data-hotel-id="','"\n        data-hotel-count="','"\n    >\n    </p>\n',"\n    "],_=["wl_hotel_saved","hotel_id","b_wishlists_hotel_count"];return _r_(function(e){_i_("65cb:60d91e0f");var t,n="",i=this.fn;return n+=r[0],t=n,_i_("65cb:b2a34402"),t+=["",r[1]].join(""),i.MD(_[0])&&(t+=r[2]),t+=[r[3],i.F.entities(i.MC(_[0])),r[4],i.F.entities(i.MC(_[1])),r[5],i.F.entities(i.MC(_[2])),r[6],""].join(""),n=_r_(t),n+=r[7],_r_(n)})}()),B.define("lists/lists-api-legacy",function(e,t,n){_i_("65cb:e5190c58");var o=e("jquery"),s=e("promise"),c={},l={EDIT:"wl:edit",FETCH:"wl:fetch",CREATE:"wl:create",REMOVE:"wl:remove",EDITHOTEL:"wl:edithotel",EDITHOTELSTART:"wl:edithotelstart",EDITHOTELS:"wl:edithotels",EDITHOTELSSTART:"wl:edithotelsstart",LOADINGSTART:"wl:loadingstart",LOADINGEND:"wl:loadingend"},d={hotel:"hp_header",searchresults:"sr_list",mywishlist:"wishlist"};function i(e,i,t){_i_("65cb:fcaf146b"),i=function(e){_i_("65cb:da99af35");var t=B.env.b_action,n="www"===B.env.b_site_type,i=d[t]||"";return _r_(o.extend(e||{},{source:n?i:"",aid:booking.env.b_aid,lang:booking.env.b_lang_for_url,sid:booking.env.b_sid,stype:booking.env.b_site_type_id,stid:booking.env.b_stid,label:booking.env.b_label,currency:B.env.b_selected_currency}))}(i);var n=(t=t||{}).noCache,r=t.noErrorCode;if(!n){var _=e+o.param(i);if(_ in c)return _r_(c[_])}u(l.LOADINGSTART,{params:i});var a=new s(function(t,n){_i_("65cb:88ba6750"),o.ajax({type:"POST",url:e,data:i,success:function(e){if(_i_("65cb:a6f00409"),!(e&&e.success||r))return delete c[_],_r_(n("server error"));return _r_(t({params:i,result:e}))},error:function(e){return _i_("65cb:bc9f0fc3"),delete c[_],_r_(n(e))},complete:function(){_i_("65cb:449827e7"),u(l.LOADINGEND,{params:i}),_r_()}}),_r_()});return n||(c[_]=a),_r_(a)}function u(e,t){return _i_("65cb:14982cfe"),B.eventEmitter.trigger(e,t),_r_(t)}function r(e){_i_("65cb:e5d0874b");var t="creation_timestamp",i=["is_collaborated","privacy","selected"];o.each(e,function(e,n){_i_("65cb:fe6dfd1e"),o.each(i,function(e,t){_i_("65cb:001bb250"),t in n&&(n[t]=Boolean(Number(n[t]))),_r_()}),t in n&&(n.is_new=1e3*n[t]>new Date-864e5),_r_()}),_r_()}n.exports={init:function(){},EVENTS:l,TYPE:{RECENTLY_VIEWED:3},edit:function(){},lists:{},getHotelLists:function(e){return _i_("65cb:8504519f"),_r_(this.lists[e]||[])},getListById:function(e,t){_i_("65cb:55506ce2");for(var n=this.getHotelLists(e),i=0;i<n.length;i++){var r=n[i];if(r.id==t)return _r_(r)}return _r_(null)},updateLists:function(n,i){if(_i_("65cb:2a18ecee"),!n||!n.params)return _r_();var r=this;n.params.lists.split(",").forEach(function(e){_i_("65cb:2d1f76ed");var t=r.getListById(i,e);t&&(t.selected=1==n.params.new_state),_r_()}),_r_()},addList:function(e,t){if(_i_("65cb:d480fad7"),!e||!e.id)return _r_();for(var n in this.lists){if(this.lists.hasOwnProperty(n))this.lists[n].push(o.extend({hotels_count:1,selected:n===t},e))}_r_()},fetch:function(t,e){return _i_("65cb:acea8347"),_r_(i("/wishlist/get",t,e).then(function(e){return _i_("65cb:56665902"),r(e.result.lists),this.lists[t.hotel_id]=e.result.lists,_r_(u(l.FETCH,e))}.bind(this)))},createList:function(e){_i_("65cb:9b77871c");var t=this;return this.clearCache(),_r_(i("/wishlist/create",e).then(function(e){return _i_("65cb:36ad0e89"),r([e.result]),t.addList(e.result),_r_(e)}))},create:function(t){return _i_("65cb:866f206f"),this.clearCache(),_r_(i("/wishlist/create",t).then(function(n){if(_i_("65cb:422ac807"),r([n.result]),this.addList(n.result,t.hotel_id),"string"==typeof t.hotel_ids){var e=t.hotel_ids.split(",");o.each(e,function(e,t){_i_("65cb:28416e12"),u(l.EDITHOTEL,{params:o.extend({hotel_id:t,lists:n.result.id},n.params),result:n.result}),_r_()})}return _r_(u(l.CREATE,n))}.bind(this)))},renameList:function(e){return _i_("65cb:853caa31"),this.clearCache(),_r_(i("/wishlist/update",e))},removeList:function(e){return _i_("65cb:9164debb"),this.clearCache(),_r_(i("/wishlist/delete",e))},editHotels:function(e){_i_("65cb:bc8f37fb"),this.clearCache(),u(l.EDITHOTELSSTART,e);var t=e.hotel_ids,n=new Array(t.length+1).join("1").split("");return o.isArray(t)&&(e.hotel_ids=t.join(",")),_r_(i("/wishlist/save_hotels",o.extend({new_states:n.join(",")},e)).then(function(n){return _i_("65cb:ee3861a2"),o.each(t,function(e,t){_i_("65cb:9ee2b61a"),u(l.EDITHOTELS,{params:o.extend({hotel_id:t},n.params),result:n.result}),_r_()}),_r_(n)}))},switchList:function(n){return _i_("65cb:c7bf69b8"),this.clearCache(),_r_(i("/wishlist/save_hotel",n).then(function(e){if(_i_("65cb:735314eb"),!e||!e.params)return _r_();var r=this,_=n.hotel_id,t=n.new_state.split(","),a=n.lists.split(",");return t.forEach(function(e,t){_i_("65cb:c9034521");var n=a[t],i=r.getListById(_,n);i&&(i.selected=!!+e),_r_()}),_r_(this.getHotelLists(_))}.bind(this)))},editHotel:function(t){return _i_("65cb:06fa8621"),this.clearCache(),u(l.EDITHOTELSTART,t),_r_(i("/wishlist/save_hotel",t).then(function(e){return _i_("65cb:7f0e2ac5"),this.updateLists(e,t.hotel_id),_r_(u(l.EDITHOTEL,e))}.bind(this)))},getAvailability:function(e){return _i_("65cb:bb6d284c"),_r_(i("/wishlist/get_or_update_wishlist_hotels_dates",e,{noCache:!0,noErrorCode:!0}).then(function(e){return _i_("65cb:d3b76cd6"),_r_(e.result)}.bind(this)))},clearCache:function(){_i_("65cb:2766d5f5"),c={},_r_()},bind:function(e,t,n){_i_("65cb:a092e0ae"),B.eventEmitter.bind(e,function(){_i_("65cb:4dc0d951"),t.apply(n,arguments),_r_()}),_r_()}},_r_()}),B.define("component/wishlist/tracking",function(e,t,n){"use strict";_i_("65cb:7a2f224b");var r,i=e("server-data"),o=i.b_site_type,_=i.b_action,s={www:[{name:"desktop_wishlist_entry_point_refactoring",hash:"EUXPNMHfLebbMHSWedNDeQfYUXVaKBIecO",condition:function(){return _i_("65cb:711f77ba"),_r_(!B.env.b_sr_replatforming_holdout&&("hotel"===_||"searchresults"===_))},customGoals:{saveHotel:1,removeHotel:2,toggleList:3,createList:4,receiveResError:5},stages:{loggedInUser:1,nonLoggedInUser:2,searchresults:3,hotel:4,entrypointClicked:5,popoverMouseEnter:6}}],mdot:[]},a={listPage:{name:"wl_list_page_interaction",condition:function(){return _i_("65cb:d3f72d59"),_r_("mdot"===o&&("mywishlist"===_||"show_wishlists"===_))}},detailPage:{name:"wl_detail_page_interaction",condition:function(){return _i_("65cb:3fb650e2"),_r_("mywishlist"===_||"show_wishlists"===_)}},updateSearchConfig:{name:"wl_update_search_config",condition:function(){return _i_("65cb:d1596889"),_r_("www"===o&&"mywishlist"===_)}},shareList:{name:"wl_share_wishlist_web"},wishlistReturns:{name:"wl_returns_web"}},c=function(t){_i_("65cb:59e55152");var e=s[o];if(e&&e.length){var n=function(e,t){if(_i_("65cb:9a652f88"),e instanceof Array&&"function"==typeof t)for(var n=e.length,i=0;i<n;){var r=e[i];if(t(r,i,e))return _r_(r);i++}return _r_(void 0)}(e,function(e){return _i_("65cb:7367d36f"),_r_(e.name===t)});if(n){var i=n.hash,r=n.customGoals,_=n.condition,a=n.stages;return _r_({getHash:function(){return _i_("65cb:0d692c1c"),_r_(i)},customGoal:function(e){if(_i_("65cb:342f0364"),_&&!_())return _r_();r&&r[e]&&B.et.customGoal(i,r[e]),_r_()},track:function(){if(_i_("65cb:2e814938"),_&&!_())return _r_();return _r_(B.et.track(i))},isAllowed:function(){return _i_("65cb:ab7507a3"),_r_(!_||_&&_())},stage:function(e){if(_i_("65cb:b8aa967e"),_&&!_())return _r_();if(a&&e&&a[e]){var t=a[e];B.et.stage(i,t)}_r_()}})}}return _r_({getHash:function(){return _i_("65cb:29517791"),_r_(null)},customGoal:function(){return _i_("65cb:dcc2d86f"),_r_(null)},track:function(){return _i_("65cb:37aed5b7"),_r_(null)},isAllowed:function(){return _i_("65cb:98a47ccb"),_r_(!1)},stage:function(){return _i_("65cb:fef99b7b"),_r_(null)}})}("desktop_wishlist_entry_point_refactoring"),l=(r=a,_i_("65cb:a9de068e"),_r_({customGoal:function(e){_i_("65cb:e5d8d220");var t=r[e];if(t){var n=t.condition,i=t.name;if(!n||n&&n())return _r_(B.et.goal(i))}_r_()}}));n.exports={expDesktopEntryPointRefactoring:c,expPageInteraction:l},_r_()}),B.define("component/wishlist/utils",function(e,t,n){"use strict";_i_("65cb:ca45e82b");var i=e("server-data"),u=e("jquery"),f=i.b_query_params_delimiter,r={hotel:{openLink:"ZQafLebbMTSDSC",createList:"bYDXYFdKMDNdEPUUBYT"},searchresults:{openLink:"ZQafLebbMTSWYO",createList:"bYDXYFdKMDNdEPUUORe"},mywishlist:{viewSharedList:"IBZfWUFOJFIdOccPDNYPYKDcdC",register:"bESVCHAHNfUUIEC",signIn:"bEDcVDDNYVHO",updateDates:"BMRDfUFFdJfNWOOFBfC",updateGroup:"BMRDfUFFdJbRSdSSZRe",switchList:"YRCOMIIdOccPDbVT",renameList:"XMCDbMTSRDXe",deleteList:"EHMeGdEPUUIEC",createList:"bYDXYFdKMDNdEPUUIEC",shareList:"OcHeKMDNdEWe",searchFromEmptyList:"bESBbQAFfTFfFFdEWe"}},b=function(e,t,n){_i_("65cb:dd035804"),t=t||"&",n=n||"=";var i=[];for(var r in e)e.hasOwnProperty(r)&&i.push(r+n+e[r]);return _r_(i.join(t))};n.exports={sendSqueak:function(e,t){if(_i_("65cb:44147f46"),!r[e]||!r[e][t])return _r_();return _r_(B.squeak(r[e][t]))},getActiveWishlist:function(e){_i_("65cb:b4e9b620");var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i.selected&&t.push(i)}return _r_(t)},getWishlistNames:function(e){return _i_("65cb:11e0a57a"),_r_(e.map(function(e){return _i_("65cb:b41b3979"),_r_(e.name)}))},getLastUsedId:function(){_i_("65cb:5770ab34");var e=i.b_reg_user_last_used_wishlist;if(e&&e[0])return _r_(e[0].b_reg_user_detail_list_id);return _r_(null)},genEntryPointTooltipTitle:function(e){return _i_("65cb:c2a9678c"),_r_(e?B.jstmpl.translations("a11y_hp_bookmarks_button_saved",e,{num_lists:e}):B.jstmpl.translations("cdm_hp_quick_share_save"))},insertCSS:function(e){_i_("65cb:940884e4");var t="#".concat(e," {\n            -webkit-animation-name: wl-popover-enter-bottom;\n            animation-name: wl-popover-enter-bottom;\n            -webkit-animation-fill-mode: forwards;\n            animation-fill-mode: forwards;\n        }"),n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");n.appendChild(i),i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),_r_()},stringifyUrl:b,genSearchConfigQuery:function(e,t){_i_("65cb:2cf4394e");var n=e.url,i=t.checkin,r=t.checkout,_=t.adults,a=t.rooms,o=t.children,s=t.childrenAges,c=[],l=n.split("#"),d=e.availability&&e.availability.availability_irene&&e.availability.availability_irene.highlighted_blocks;return t&&!u.isEmptyObject(t)&&(i&&r&&c.push(b({checkin:i,checkout:r},f)),s&&(c=(c=c.concat(s.map(function(e){return _i_("65cb:4d32269c"),_r_(b({age:e},f))}))).concat(s.map(function(e){return _i_("65cb:072ea98b"),_r_(b({req_age:e},f))}))),d&&(c=c.concat(b({highlighted_blocks:d},f))),c=c.concat(b({group_rooms:a,group_adults:_,group_children:o,no_rooms:a,req_adults:_,req_children:o},f))),_r_(l[0]+f+c.join(f)+(l[1]?"#"+l[1]:""))},genSearchConfigQueryDeprecated:function(e,t){_i_("65cb:f0a70766");var n=e.url,i=e.availability||{},r=[],_=n.split("#"),a=i.checkin,o=i.checkout;if(a=a||B.search.dates("checkin").toString(),o=o||B.search.dates("checkout").toString(),a&&o&&r.push(b({checkin:a,checkout:o},f)),t&&!u.isEmptyObject(t)){var s=t.childrenAges,c=t.rooms,l=t.adults,d=t.children;s&&(r=(r=r.concat(s.map(function(e){return _i_("65cb:4d32269c1"),_r_(b({age:e},f))}))).concat(s.map(function(e){return _i_("65cb:072ea98b1"),_r_(b({req_age:e},f))}))),r=r.concat(b({group_rooms:c,group_adults:l,group_children:d,no_rooms:c,req_adults:l,req_children:d},f))}return _r_(_[0]+f+r.join(f)+(_[1]?"#"+_[1]:""))},find:function(e,t){if(_i_("65cb:9a652f881"),e instanceof Array&&"function"==typeof t)for(var n=e.length,i=0;i<n;){var r=e[i];if(t(r,i,e))return _r_(r);i++}return _r_(void 0)},findIndex:function(e,t){if(_i_("65cb:efdd28ca"),e instanceof Array&&"function"==typeof t)for(var n=e.length,i=0;i<n;){if(t(e[i],i,e))return _r_(i);i++}return _r_(-1)},fill:function(e,t){_i_("65cb:802eefd9");for(var n=[],i=0;i<e;i++)n.push(t);return _r_(n)}},_r_()}),B.define("component/wishlist/service",function(e,t,n){_i_("65cb:f9398739");var _=e("server-data"),a=e("formatting/date"),o=e("lists/lists-api-legacy"),i=e("component/wishlist/utils"),r=i.fill,s=i.find,c=e("component/wishlist/tracking").expDesktopEntryPointRefactoring,l=e("jquery"),d=e("promise"),u=function(e){return _i_("65cb:e4d1d798"),_r_(l.extend({},function(e){if(_i_("65cb:bd1968aa"),e&&e.length)return _r_({childrenAges:(e[0].children_ages||e[0].ages).map(function(e){return _i_("65cb:3bb51209"),_r_(void 0!==e.age?e.age:e)}).join(","),children:e[0].ages.length});return _r_({children:null,childrenAges:""})}(e.b_group),{rooms:e.b_nr_rooms_wanted||null,adults:e.b_occupancy&&e.b_occupancy.adults||null}))},f=function(e){_i_("65cb:fc1d42f7");var t=e.b_checkin_date,n=e.b_checkout_date;if(t||n)return _r_({checkin:t,checkout:n});return _r_({})},b=function(e,t){return _i_("65cb:784e75fc"),t&&t(),_r_(e)},h=function(e,t){_i_("65cb:40d2f03c");var n=t.hotel_id;switch(e){case"get":case"update":case"delete":return _r_(t);case"save":return _r_(b(l.extend(t,u(_),f(_),{new_state:1}),function(){_i_("65cb:31def660"),c.customGoal("saveHotel"),_r_()}));case"remove":return _r_(b(l.extend(t,{new_state:0}),function(){_i_("65cb:5ddcf727"),c.customGoal("removeHotel"),_r_()}));case"switch":return _r_(l.extend(t,u(_),f(_)));case"create":return _r_(b(l.extend(t,u(_),{use_list_details:1}),function(){_i_("65cb:e81e5ca5"),c.customGoal("createList"),_r_()}));case"toggle":return _r_(b(l.extend(t,u(_),f(_)),function(){_i_("65cb:af1ca61c"),c.customGoal("toggleList"),_r_()}));case"getHotels":return _r_(l.extend(t,{with_hotels:1,include_availability:1,include_list_search_config:1}));case"getLists":return _r_({with_hotels:0,include_availability:0});case"availability":return t.childrenAges&&t.childrenAges instanceof Array&&(t.childrenAges=t.childrenAges.join(" ")),_r_(t);case"availabilityDeprecated":var i=_.fe_current_date,r=l.extend({rooms:B.search.group("rooms"),adults:B.search.group("adults"),children:B.search.group("children"),childrenAges:B.search.group("childrenAges")},t,{checkin:B.search.dates("checkin").toString()||i,checkout:B.search.dates("checkout").toString()||a.add_days(i,1)});return r.childrenAges&&r.childrenAges instanceof Array&&(r.childrenAges=r.childrenAges.join(" ")),_r_(r)}return _r_({hotel_id:n,new_state:1})};n.exports={createList:function(e,t){return _i_("65cb:89b48bc4"),_r_(o.createList(h("create",{name:e,hotel_id:t})).then(function(e){return _i_("65cb:547b8aad"),_r_(e.result)}))},getList:function(e){return _i_("65cb:144d6410"),_r_(o.fetch(h("get",{hotel_id:e})))},getHotelLists:function(e){return _i_("65cb:a9f71a1b"),_r_(o.getHotelLists(e))},getCachedList:function(e){_i_("65cb:e472f6a4");var t=o.getHotelLists(e);if(t.length)return _r_(d.resolve({lists:t}));return _r_(o.fetch(h("get",{hotel_id:e})).then(function(e){return _i_("65cb:547b8aad1"),_r_(e.result)}))},toggleList:function(t,e){_i_("65cb:4b1e5028");var n=s(o.getHotelLists(e),function(e){return _i_("65cb:fa6938c6"),_r_(t==e.id&&e.selected)});return _r_(o.switchList(h("toggle",{hotel_id:e,new_state:String(+!n),lists:String(t)})))},switchList:function(e,t){_i_("65cb:38093b43");var n=o.getHotelLists(t).filter(function(e){return _i_("65cb:d420c2cb"),_r_(e.selected)}).map(function(e){return _i_("65cb:27b13853"),_r_(e.id)});if(n.length){var i=r(n.length,0);return i.push(1),n.push(e),_r_(o.switchList(h("switch",{hotel_id:t,new_state:i.join(","),lists:n.join(",")})))}return _r_(o.editHotel(h("switch",{hotel_id:t,new_state:1,lists:String(n)})))},save:function(e,t){if(_i_("65cb:6c8a3b83"),null!==e)return _r_(o.editHotel(h("save",{lists:String(e),hotel_id:t})));return _r_(o.fetch(h("get",{hotel_id:t})).then(function(){_i_("65cb:06224181");var e=o.getHotelLists(t)[0];if(e)return _r_(o.editHotel(h("save",{lists:String(e.id),hotel_id:t})));return _r_(d.reject())}))},remove:function(e,t){return _i_("65cb:2719f0c2"),_r_(o.editHotel(h("remove",{hotel_id:e,lists:t})).then(function(){return _i_("65cb:3bb64ad0"),_r_(t)}))},removeAll:function(r){return _i_("65cb:3f7a7a7b"),_r_(o.fetch(h("get",{hotel_id:r})).then(function(e){_i_("65cb:e9d5ab42");var t=e.result.remaining,n=o.getHotelLists(r).filter(function(e){return _i_("65cb:203b363b"),_r_(e.selected)}),i=n.map(function(e){return _i_("65cb:3308c8f7"),_r_(String(e.id))}).join(",");return _r_(o.editHotel(h("remove",{hotel_id:r,lists:i})).then(function(){return _i_("65cb:b82dad21"),_r_({removed:n,remaining:t})}))}))},getHotels:function(e){return _i_("65cb:57cf0202"),_r_(o.fetch(h("getHotels",{id:e})).then(function(e){_i_("65cb:c00a47aa");var t=e.result;if(!t.success)return _r_(d.reject(t));var n=t.lists[0];return _r_(n)},function(e){return _i_("65cb:7f5de410"),_r_(d.reject(e))}))},getLists:function(){return _i_("65cb:6c3a7c85"),_r_(o.fetch(h("getLists",{})).then(function(e){_i_("65cb:d95981e9");var t=e.result;if(!t.success)return _r_(d.reject(t));return _r_(t)}))},getAvailability:function(e){return _i_("65cb:2b678d48"),_r_(o.getAvailability(h("availability",e)))},getAvailabilityDeprecated:function(e){return _i_("65cb:044379bc"),_r_(o.getAvailability(h("availabilityDeprecated",e)))},renameList:function(e){return _i_("65cb:7058fe0e"),_r_(o.renameList(h("update",e)))},removeList:function(e){return _i_("65cb:583075a7"),_r_(o.removeList(h("delete",e)))},clearCache:function(){return _i_("65cb:b94e1033"),_r_(o.clearCache())}},_r_()}),B.define("component/wishlist/entrypoint",function(e,t,n){_i_("65cb:ba80ee46");var i=e("component/reactive"),r=e("server-data"),d=e("jquery"),s=r.b_action,_=r.b_is_tdot_traffic,u=r.b_site_type,a=e("component/wishlist/utils"),c=a.sendSqueak,f=a.getActiveWishlist,b=a.getWishlistNames,o=a.getLastUsedId,h=a.genEntryPointTooltipTitle,l=a.insertCSS,p=e("component/wishlist/service"),m=p.createList,M=p.getList,v=p.getHotelLists,g=p.getCachedList,w=p.switchList,y=p.toggleList,k=p.save,E=p.remove,C=p.removeAll,N=e("component/wishlist/tracking").expDesktopEntryPointRefactoring,T=e("morphdom"),j=i.extend({template:"wishlist_entry_point",initialState:{last_used_id:o(),b_action:s,b_site_type:u,b_is_tdot_traffic:_,wl_entrypoint_title:0,wl_saved_count:r.b_user_wishlisted_hotels_count,wl_hotel_saved:!1,wl_expand_before_save:!1,wl_list_toggled:!1,wl_entrypoint_loading:!1,wl_loading_list:!1,wl_submitting:!1,wl_error_when_creating:!1,wl_new_list_input_disabled:!0,wl_new_list_name:"",wl_disable_tooltip:!1,b_user_auth_level_is_low_or_high:r.b_user_auth_level_is_low_or_high,b_reg_user_wishlist_remaining:r.b_reg_user_wishlist_remaining},initialize:function(){_i_("65cb:92b6d4d1");var e=this.getAttr("data-hotel-id"),t=this.getAttr("data-key"),n="wl_entrypoint_".concat(t),i=+this.getAttr("data-wl-hotel-saved"),r=+this.getAttr("data-expand-list"),_=this.getAttr("data-disable-tooltip");this.setState({instances:{},wl_lists:[],wl_list_loading_status:{},wl_popover_content_id:n,wl_corner_icon:this.getAttr("data-corner-icon"),wl_single_selection:this.getAttr("data-single-selection"),wl_disable_tooltip:_,wl_entrypoint_title:!_&&h(i),hotel_id:e,wl_list_id:this.getAttr("data-list-id"),wl_popover_key:t,bui_button:this.getAttr("data-bui-button"),bui_button_type:this.getAttr("data-bui-button-type"),bui_button_size:this.getAttr("data-bui-button-size"),wl_icon_size:this.getAttr("data-wl-icon-size"),show_text:+this.getAttr("data-show-text"),wl_expand_list:r,wl_list_expanded:r,wl_hotel_saved:i}),this.$el.on("click",this.toggle.bind(this)),B.eventEmitter.bind("wl:updateLastUsedId",this.updateLastUsedId.bind(this)),B.eventEmitter.bind("wl:toggleHotelSavedStatus",this.toggleHotelSavedStatus.bind(this)),B.eventEmitter.bind("wl:reset",this.destroy.bind(this)),r||d(document).on("click.wl","#".concat(n," .js-list-manager__expand-link"),this.expand.bind(this)),d(document).on("keyup.wl","#".concat(n," .js-wl-create-input"),this.handleNameUpdate.bind(this)),d(document).on("focus.wl","#".concat(n," .js-wl-create-input"),this.handleFocus.bind(this)),d(document).on("change.wl","#".concat(n," .list-manager__lists .js-wl-radio"),this.handleSwitch.bind(this)),d(document).on("change.wl","#".concat(n," .list-manager__lists .js-wl-checkbox"),this.handleToggle.bind(this)),d(document).on("click.wl","#".concat(n," .js-list-manager__input-create"),this.handleClickOnCreate.bind(this)),d(document).on("click.wl","#".concat(n," .js-open-list"),function(){return _i_("65cb:918c986d"),_r_(c(s,"openLink"))}),_r_()},destroy:function(){_i_("65cb:1415fdfd");var e=this.getState().instances,t=!1;for(var n in e)if(e.hasOwnProperty(n)&&e[n]){var i=e[n];t=!0,i.close(),i.unmount()}t&&this.setState({instances:{}}),this.$el.off("click"),d(document).off("click.wl keyup.wl focus.wl change.wl"),B.eventEmitter.unbind("wl:updateLastUsedId",this.updateLastUsedId.bind(this)),B.eventEmitter.unbind("wl:toggleHotelSavedStatus",this.toggleHotelSavedStatus.bind(this)),B.eventEmitter.unbind("wl:reset",this.destroy.bind(this)),_r_()},getAttr:function(e){return _i_("65cb:01195e2a"),_r_(this.$el.attr(e)||this.$el.parent().attr(e)||"")},initToast:function(){_i_("65cb:f2881453");var c=this,l=window.BUI.createInstance("Toast",null,{duration:5e3});return l.update=function(){_i_("65cb:7a1210e0");var e=c.getState(),t=e.wl_lists,n=e.wl_hotel_saved,i=e.wl_loading_list;if(!t.length)return _r_();if(n){if(i)return _r_();var r=f(t);if(r.length){var _=r[0],a=_.name,o=_.url;l.show.call(this,{actionText:"",onActionClick:function(){_i_("65cb:1dd500ee"),o&&window.open(o),_r_()},text:B.jstmpl.translations("m_wl_saved_to",1,{list_name:a})})}return _r_()}var s=b(t);l.show.call(this,{text:B.jstmpl.translations("m_wl_removed_from",s.length,{list_name:s.join(", ")})}),_r_()},l.close=l.hide,_r_(l)},getInstance:function(){_i_("65cb:d68c63f3");var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"popover",n=this,i=this.getState().instances;if(i&&i[t])return _r_(i[t]);if("toast"===t)e=this.initToast.call(this);else{if(this.setState({component_id:"Popover"}),!(e=window.BUI.createInstance("Popover",this.el,{onAfterOpen:function(){_i_("65cb:e97a705c");var e=this;d(this.container).on("mouseenter.hide",function(){_i_("65cb:60d35f96"),N.stage("popoverMouseEnter"),window.clearTimeout(n.timer),_r_()}),d(this.container).on("mouseleave.hide",function(){_i_("65cb:cb124133"),window.clearTimeout(n.timer),n.timer=window.setTimeout(function(){_i_("65cb:1fba8e12"),e.close(),_r_()},3e3),_r_()}),_r_()},onAfterClose:function(){_i_("65cb:6b113070"),window.clearTimeout(n.timer),d(this.container).off("mouseenter.hide"),d(this.container).off("mouseleave.hide"),n.setState({wl_list_expanded:!1,wl_list_loading_status:{}}),this.unmount(),_r_()}})))return _r_();e.update=function(){if(_i_("65cb:ddceb877"),!this.state.active)return _r_();var e=(this.props||{}).contentId,t=e&&document.getElementById(e);this.content=t&&t.cloneNode(!0),this.content.classList.remove(this.modifiers.hidden);var n=this.container.querySelector("#"+e);return T(n,this.content),_r_(n)},"searchresults"===s&&l(e.id),this.setState({component_id:""})}return i[t]=e,this.setState({instances:i}),_r_(e)},updateLastUsedId:function(e,t){_i_("65cb:275be486"),this.setState({last_used_id:t}),_r_()},updateListLoadingStatus:function(e,t){_i_("65cb:0a9d35f1");var n=this.getState().wl_list_loading_status;n[e]=t,this.setState({wl_list_loading_status:n}),_r_()},toggleHotelSavedStatus:function(e,t){_i_("65cb:935fe6aa");var n=this.getState().hotel_id;for(var i in t)t.hasOwnProperty(i)&&i===n&&(this.setState(t[i]),this.$el.data("materialized-id",null));_r_()},expand:function(e){_i_("65cb:645a1351");var t=this.getInstance();this.setState({wl_list_expanded:!0});var n=t.update(),i=n&&n.querySelector('[data-bui-component="Tooltip"]');i&&window.BUI.createInstance("Tooltip",i).mount();_r_()},handleSwitch:function(e){_i_("65cb:2248dc8d");var t=this,n=d(e.currentTarget),i=this.getState(),r=i.wl_submitting,_=i.hotel_id,a=i.wl_new_list_name,o=this.getInstance();if(r)return _r_();if(n.hasClass("js-list-manager__input-create"))return this.handleSubmit(a.trim()),_r_();var s=n.attr("data-list-id");return this.setState({wl_submitting:!0}),o.update(),_r_(w(s,_).then(function(e){_i_("65cb:ef77c6f7"),t.setState({wl_submitting:!1}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",t.genEventParams(_,{wl_lists:e})),B.eventEmitter.trigger("wl:updateLastUsedId",s),o.update(),_r_()},function(){_i_("65cb:15fd4ced"),t.setState({wl_submitting:!1}),o.update(),_r_()}))},handleToggle:function(e){_i_("65cb:297fe559");var n=this,t=d(e.currentTarget),i=this.getState(),r=i.wl_submitting,_=i.hotel_id,a=i.wl_new_list_name,o=i.wl_list_loading_status,s=this.getInstance();if(r)return _r_();if(t.hasClass("js-list-manager__input-create"))return this.handleSubmit(a.trim()),_r_();var c=t.attr("data-list-id");if(o[c])return _r_();var l=t.find("input").is(":checked");return this.setState({wl_entrypoint_loading:!0}),this.updateListLoadingStatus(c,!0),s.update(),_r_(y(c,_).then(function(e){_i_("65cb:6d63e33b"),n.updateListLoadingStatus(c,!1);var t=v(_).filter(function(e){return _i_("65cb:62716560"),_r_(e.selected)}).length;n.setState({wl_lists:e,wl_entrypoint_loading:!1,wl_hotel_saved:!!t,wl_list_toggled:!0}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",n.genEventParams(_,{wl_lists:e,wl_entrypoint_title:h(t),wl_hotel_saved:!!t})),B.eventEmitter.trigger("update:b_hotel_is_saved",{b_hotel_is_saved:!!t,hotel_id:_,lists:e}),l&&B.eventEmitter.trigger("wl:updateLastUsedId",c),s.update(),_r_()},function(){_i_("65cb:b3df9728"),N.customGoal("receiveResError"),n.setState({wl_entrypoint_loading:!1,wl_submitting:!1}),s.update(),_r_()}))},genEventParams:function(e,t){_i_("65cb:09f2cc8a");var n={};return n[e]=t,_r_(n)},toggle:function(e){_i_("65cb:9f03f711");var r=this;e.preventDefault();var t=this.getState(),n=t.wl_lists,i=t.wl_list_id,_=t.wl_hotel_saved,a=t.wl_entrypoint_loading,o=t.hotel_id,s=t.last_used_id,c=t.wl_expand_list,l=this.getInstance("mdot"===u?"toast":"popover");if(!l)return _r_();if(l.close(),l.unmount(),a)return _r_();N.stage("entrypointClicked");var d=n.length?!!v(o).filter(function(e){return _i_("65cb:2279050c"),_r_(e.selected)}).length:_;if(this.setState({wl_entrypoint_loading:!0,wl_error_when_creating:!1,wl_hotel_saved:d,wl_list_toggled:!1}),d){if(i)return _r_(E(o,i).then(function(e){_i_("65cb:e6d4f8b8"),r.setState({wl_entrypoint_loading:!1}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",r.genEventParams(o,{wl_hotel_saved:0,wl_list_id:e})),_r_()},function(){_i_("65cb:1c20eb77"),r.setState({wl_entrypoint_loading:!1}),_r_()}));return _r_(C(o).then(function(e){_i_("65cb:9f92a6aa");var t=e.removed,n=e.remaining;r.setState({wl_entrypoint_loading:!1,wl_expand_before_save:!1,wl_remaining:n}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",r.genEventParams(o,{wl_lists:t,wl_entrypoint_title:h(0),wl_hotel_saved:0,wl_remaining:n})),B.eventEmitter.trigger("update:b_hotel_is_saved",{b_hotel_is_saved:0,hotel_id:o}),r.$el.data("materialized-id",null),l.mount(),l.open&&l.open(),l.update(),_r_()},function(e){return _i_("65cb:0558f907"),_r_(r.reset.call(r,e,{wl_hotel_saved:d}))}))}if(1<c)return _r_(g(o).then(function(e){_i_("65cb:e59dfb4a");var t=e.lists,n=e.remaining;r.setState({wl_entrypoint_loading:!1,wl_lists:t,wl_list_expanded:!0,wl_expand_before_save:!0}),void 0!==n&&(r.setState({wl_remaining:n}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",r.genEventParams(o,{wl_remaining:n}))),l.mount(),l.open&&l.open(),l.update(),_r_()},this.reset.bind(this)));if(i)return _r_();return _r_(k(s,o).then(function(){return _i_("65cb:1b9b22f0"),r.setState({wl_entrypoint_loading:!1,wl_loading_list:!0}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",r.genEventParams(o,{wl_entrypoint_title:h(1),wl_hotel_saved:1})),r.$el.data("materialized-id",null),l.mount(),l.open&&l.open(),l.update(),_r_(M(o).then(function(e){_i_("65cb:8a809148");var t=e.result,n=t.lists,i=t.remaining;r.setState({wl_remaining:i,wl_lists:n,wl_loading_list:!1}),B.eventEmitter.trigger("update:b_hotel_is_saved",{b_hotel_is_saved:1,hotel_id:o,lists:n}),c?r.expand.call(r):l.update(),_r_()},function(e){return _i_("65cb:700be127"),_r_(r.reset.call(r,e,{wl_hotel_saved:d}))}))},this.reset.bind(this)))},handleClickOnCreate:function(e){_i_("65cb:77268e77"),this.getState().wl_new_list_input_disabled&&d(e.currentTarget).next().find("input").trigger("focus"),_r_()},reset:function(e,t){_i_("65cb:eecb98fa"),N.customGoal("receiveResError"),t=d.extend(t,{wl_loading_list:!1,wl_entrypoint_loading:!1}),this.setState(t),_r_()},handleNameUpdate:function(e){_i_("65cb:90e55509");var t=d(e.target).val(),n=this.getState().wl_new_list_name;if(13===e.which)this.handleSubmit(n.trim());else{var i=this.getInstance();this.setState({wl_new_list_name:t,wl_new_list_input_disabled:!t}),i.update()}_r_()},handleSubmit:function(e){_i_("65cb:ba1e568a");var r=this;if(!e)return _r_();var t=this.getState(),_=t.hotel_id,a=t.wl_single_selection,n=t.wl_list_loading_status,o=this.getInstance();if(!a&&n.newList)return _r_();return a?this.setState({wl_submitting:!0}):this.updateListLoadingStatus("newList",!0),o.update(),c(s,"createList"),_r_(m(e,_).then(function(e){_i_("65cb:dc1e028a");var t=e.id,n=e.remaining;r.setState({wl_remaining:n});var i=o.update();n||window.BUI.createInstance("Tooltip",i.querySelector('[data-bui-component="Tooltip"]')).mount();if(B.eventEmitter.trigger("wl:updateLastUsedId",t),!a)return _r_(M(_).then(function(e){_i_("65cb:b03adc71");var t=e.result,n=t.lists,i=t.remaining;r.setState({wl_remaining:i,wl_lists:n,wl_hotel_saved:!0,wl_new_list_name:"",wl_new_list_input_disabled:!0}),r.updateListLoadingStatus("newList",!1),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",r.genEventParams(_,{wl_lists:n,wl_hotel_saved:!0})),o.update(),_r_()},function(){_i_("65cb:d0936117"),r.setState({wl_new_list_name:"",wl_new_list_input_disabled:!0,wl_submitting:!1}),o.update(),_r_()},function(){_i_("65cb:1d5049a7"),N.customGoal("receiveResError"),_r_()}));return _r_(w(t,_).then(function(e){_i_("65cb:0279a5cf"),r.setState({wl_new_list_name:"",wl_new_list_input_disabled:!0,wl_submitting:!1}),B.eventEmitter.trigger("wl:toggleHotelSavedStatus",r.genEventParams(_,{wl_lists:e})),o.update(),_r_()},function(){_i_("65cb:025d23f0"),r.setState({wl_new_list_name:"",wl_new_list_input_disabled:!0,wl_submitting:!1}),o.update(),_r_()}))},function(){_i_("65cb:ebb6b246"),N.customGoal("receiveResError"),r.setState({wl_new_list_name:"",wl_new_list_input_disabled:!0,wl_submitting:!1,wl_error_when_creating:!0}),o.update(),_r_()}))},handleFocus:function(){_i_("65cb:170157bc");var e=this.getInstance();this.setState({wl_error_when_creating:!1}),e.update(),_r_()}});n.exports=j,_r_()}),B.define("component/wishlist/savers",function(e,t,n){_i_("65cb:114eeda3");var i=e("component/reactive"),r=e("with-capla"),_=i.extend({template:"wishlist_savers",initialState:{wl_hotel_saved:!0},initialize:function(){_i_("65cb:f1901b51"),this.setState({hotel_id:this.getAttr("data-hotel-id"),wl_hotel_saved:this.getAttr("data-wl-hotel-saved"),b_wishlists_hotel_count:this.getAttr("data-hotel-count")}),B.eventEmitter.bind("wl:toggleHotelSavedStatus",this.toggleHotelSavedStatus.bind(this)),r("property-web","property-page",this.listenForWishlistChanges.bind(this))(),_r_()},getAttr:function(e){return _i_("65cb:7a8bd84a"),_r_(this.$el.attr(e))},toggleHotelSavedStatus:function(e,t){_i_("65cb:796bf69d");var n=this.getState().hotel_id;for(var i in t)t.hasOwnProperty(i)&&i===n&&this.setState(t[i]);_r_()},listenForWishlistChanges:function(e){_i_("65cb:ea5acd10");var i=this,t=e.eventBus;t&&t.subscribe("CAPLA_EVENT_wishlist-wishlist-cs_PROPERTY_LIKE_UPDATE",function(e,t){_i_("65cb:6c92293d");var n={};n[t.propertyId]={wl_hotel_saved:t.isLiked},i.toggleHotelSavedStatus(null,n),_r_()}),_r_()}});n.exports=_,_r_()}),booking.jstmpl("hotel_wishlist_state_added",function(){_i_("65cb:0cdc0dbe");var i,r=["\n    ","iconset/heart","large","\n"];return _r_(function(e){_i_("65cb:f8828742");var t="",n=this.fn;return t+=[r[0],(e.unshift({color:"#FCB4B4",name:r[1],size:r[2]}),i=n.HELPER("icon",e[0]),e.shift(),i),r[3]].join(""),_r_(t)})}()),booking.jstmpl("hotel_wishlist_state_not_added",function(){_i_("65cb:fc197835");var i,r=["\n    ","iconset/heart_outline","large","\n"];return _r_(function(e){_i_("65cb:f88287421");var t="",n=this.fn;return t+=[r[0],(e.unshift({color:"#FCB4B4",name:r[1],size:r[2]}),i=n.HELPER("icon",e[0]),e.shift(),i),r[3]].join(""),_r_(t)})}()),booking.jstmpl("wishlists_secondary_modal",function(){_i_("65cb:73c78edf");var r=["\n    ",'<div class="wishlists_secondary_modal">\n    <form id="wishlists_create_new_list" action="#">\n        <header class="bui-modal__header">\n            <h1 class="bui-modal__title" id="myModal2-title" data-bui-ref="modal-title">',"/private/m_dmw_hp_save_to_list/name",'</h1>\n        </header>\n\n        <hr class="bui-divider bui-divider--light" />\n\n        <div class="bui-modal__body bui-modal__body--primary">\n            <div class="bui-form__group">\n                <label for="wishlists_new_list_name">',"/private/m_dmw_hp_wl_name_hint/name",'</label>\n                <input type="text" id="wishlists_new_list_name" class="bui-form__control" />\n                <div class="bui-form__error" style="display:none;">',"/private/m_dmw_create_empty_list_error/name",'</div>\n            </div>\n        </div>\n\n        <hr class="bui-divider bui-divider--light" />\n\n        <footer class="bui-modal__footer">\n            <button id="wishlists_new_list_cancel" class="bui-button bui-button--secondary" type="button">\n                <span class="bui-button__text">',"/private/m_dmw_hp_ui_back_button/name",'</span>\n            </button>\n            <button id="wishlists_new_list_submit" class="bui-button bui-button--primary" type="submit">\n                <span class="bui-button__text">',"/private/m_dmw_hp_create_new_list/name","</span>\n            </button>\n        </footer>\n    </form>\n</div>\n","\n"];return _r_(function(e){_i_("65cb:f627f9dc");var t,n="",i=this.fn;return n+=r[0],t=n,_i_("65cb:804faba1"),t+=[r[1],i.ME(r[2],i.MB,i.MN,null),r[3],i.ME(r[4],i.MB,i.MN,null),r[5],i.ME(r[6],i.MB,i.MN,null),r[7],i.ME(r[8],i.MB,i.MN,null),r[9],i.ME(r[10],i.MB,i.MN,null),r[11]].join(""),n=_r_(t),n+=r[12],_r_(n)})}()),booking.jstmpl("wishlists_main_modal",function(){_i_("65cb:ee25ca6a");var o,s=["\n    ",'<div class="wishlists_main_modal">\n    <header class="bui-modal__header">\n        <h1 class="bui-modal__title" id="myModal2-title" data-bui-ref="modal-title">',"/private/m_dmw_hp_save_to_list/name",'</h1>\n    </header>\n\n    <hr class="bui-divider bui-divider--light" />\n\n    <div class="bui-modal__body bui-modal__body--primary">\n        <ul class="bui-list bui-list--divided">\n            ','\n                <li class="bui-list__item">\n                    <div class="wishlists_list_item_wrapper">\n                        <div class="wishlists_list_name">\n                            <span>\n                                ',"\n                            </span>\n                            <span>\n                                (",")&#x200E;\n                            </span>\n                        </div>\n                        ",'\n                            <button class="bui-button bui-button--secondary wishlists_list_action_trigger" type="button" data-list-id="','" data-is-in-wishlist="','">\n                                <span class="bui-button__icon sr-card__add_to_wishlist-icon_contaiter">\n                                    ',"iconset/heart","large",'\n                                </span>\n                                <span class="bui-button__text">',"/private/m_dmw_hp_preferences_updated_saved/name","</span>\n                            </button>\n                        ","iconset/heart_outline","/private/m_dmw_hp_about_me_save/name","\n                    </div>\n                </li>\n            ",'\n        </ul>\n    </div>\n\n    <hr class="bui-divider bui-divider--light" />\n\n    <footer class="bui-modal__footer">\n        <div class="bui-group bui-group--inline">\n            <button id="wishlists_new_list_open_form" type="button" class="bui-button bui-button--primary">\n                <span class="bui-button__text">',"/private/m_dmw_hp_create_new_list/name","</span>\n            </button>\n        </div>\n    </footer>\n\n</div>\n","\n"],c=["lists"];return _r_(function(_){_i_("65cb:7f8c6d99");var e="",a=this.fn;return e=function(e){_i_("65cb:8e4e29b2"),e+=[s[1],a.ME(s[2],a.MB,a.MN,null),s[3]].join("");var t=a.MC(c[0])||[];_.unshift({list:null});for(var n,i=1,r=t.length;i<=r;i++)_[0].list=n=t[i-1],e+=[s[4],a.F.html((n||{}).name),s[5],a.F.entities((n||{}).hotels_count),s[6]].join(""),a.MJ(a.MG((n||{}).is_hotel_in_list))?e+=[s[7],a.F.entities((n||{}).id),s[8],a.F.entities(n.is_hotel_in_list),s[9],(_.unshift({color:"#FCB4B4",name:s[10],size:s[11]}),o=a.HELPER("icon",_[0]),_.shift(),o),s[12],a.ME(s[13],a.MB,a.MN,null),s[14]].join(""):e+=[s[7],a.F.entities((n||{}).id),s[8],a.F.entities(n.is_hotel_in_list),s[9],(_.unshift({color:"#FCB4B4",name:s[15],size:s[11]}),o=a.HELPER("icon",_[0]),_.shift(),o),s[12],a.ME(s[16],a.MB,a.MN,null),s[14]].join(""),e+=s[17];return _.shift(),e+=[s[18],a.ME(s[19],a.MB,a.MN,null),s[20]].join(""),_r_(e)}(e+=s[0]),e+=s[21],_r_(e)})}()),booking.jstmpl("wishlists_main_modal_trigger",function(){_i_("65cb:cec1c2c0");var r=["\n    ",'<span id="wishlistsMainModalTrigger" aria-label="',"/private/m_dmw_hp_partner_how_respond_change_cta/name",'" data-modal-id="wishlistsMainModal" data-bui-component="Modal">\n    ',"\n</span>\n","\n"];return _r_(function(e){_i_("65cb:8199bba2");var t,n="",i=this.fn;return n+=r[0],t=n,_i_("65cb:68fbb332"),t+=[r[1],i.ME(r[2],i.MB,i.MN,null),r[3],i.ME(r[2],i.MB,i.MN,null),r[4]].join(""),n=_r_(t),n+=r[5],_r_(n)})}()),booking.jstmpl("wishlists_main_modal_logged_out_trigger",function(){_i_("65cb:322569e7");var r=["\n    ",'<span aria-label="',"/private/lists_module_1_view_button/name",'">\n    ',"\n</span>\n","\n"];return _r_(function(e){_i_("65cb:88d593d6");var t,n="",i=this.fn;return n+=r[0],t=n,_i_("65cb:7c9660c7"),t+=[r[1],i.ME(r[2],i.MB,i.MN,null),r[3],i.ME(r[2],i.MB,i.MN,null),r[4]].join(""),n=_r_(t),n+=r[5],_r_(n)})}()),B.define("component/wishlist/m-sr-add-hotel",function(e,t,n){_i_("65cb:0d2041a9");var i,r=e("jquery"),_=e("jstmpl"),a=e("component"),o=e("server-data"),s=e("lists/lists-store/lists-store"),c=e("jstmpl").translations,l=s.fetch({with_hotels:1}),d=null;function u(e,i){return _i_("65cb:e2b15f60"),_r_(e.hotels.filter(function(e){_i_("65cb:05e127de");var t,n=(t=e,_i_("65cb:fcd3efaf"),_r_(String(t.b_id||t.b_hotel_id||t.hotel_id||t.id)));return _r_(i.toString()==n)}).length)}function f(e,t){return _i_("65cb:88b0d4e0"),_r_(B.jstmpl("wishlists_main_modal").render({lists:(n=e,i=t,_i_("65cb:e7f970b5"),_r_(n.map(function(e){return _i_("65cb:f01f4d32"),_r_({name:e.name,hotels_count:e.hotels.length,is_hotel_in_list:!!u(e,i),id:e.id})})))}));var n,i}function b(e,t){return _i_("65cb:5e210ed8"),_r_((n=f(e,t),_i_("65cb:f9a78e80"),(i=window.BUI.createInstance("Modal",null,{template:n})).mount(),_r_(i)));var n}function h(e,t,n){_i_("65cb:515f1f54");var i=window.BUI.createInstance("Toast");i.mount(),i.show({text:e,actionText:t,onActionClick:n}),_r_()}n.exports=a.extend({init:function(){_i_("65cb:0a843f21"),this.params={with_hotels:1,hotel_id:this.$el.data("hotelId")},this.fetchData(),this.bindEvents(),_r_()},onClick:function(e){_i_("65cb:e671e446"),"true"==r(e.currentTarget).attr("data-is-in-wishlist")?0==B.env.auth_level||B.env.auth_level&&1===s.getLists().length?this.autoSaveHotel():b(s.getLists(),this.params.hotel_id).open():this.autoSaveHotel(),_r_()},bindEvents:function(){_i_("65cb:a1f5d3a3"),this.$el.on("click",function(e){return _i_("65cb:7f492d8a"),e.preventDefault(),e.stopPropagation(),this.onClick(e),_r_(!1)}.bind(this)),r(document).on("click",".wishlists_list_action_trigger",function(e){_i_("65cb:5e238136"),e.preventDefault(),e.stopPropagation();var t=r(e.currentTarget),n=t.attr("data-list-id"),i="true"==t.attr("data-is-in-wishlist");return B.et.customGoal("AfPcCWPFeaOTDKMDNdEWe",4),d=n,i?s.removeHotels({list_id:n,hotels:[{id:this.params.hotel_id}],new_state:0}).then(this.handleIndividualListSaveSuccess.bind(this),this.handleIndividualListSaveError.bind(this)):s.addHotels({list_id:n,hotels:[{id:this.params.hotel_id}],new_state:1}).then(this.handleIndividualListSaveSuccess.bind(this),this.handleIndividualListSaveError.bind(this)),this.updateModal(),_r_(!1)}.bind(this)),r(document).on("click","#wishlists_new_list_open_form",function(e){return _i_("65cb:439b263a"),e.preventDefault(),e.stopPropagation(),i.updateContent(B.jstmpl("wishlists_secondary_modal").render()),_r_(!1)}.bind(this)),r(document).on("click","#wishlists_new_list_cancel",function(e){return _i_("65cb:01c9c4a6"),e.preventDefault(),e.stopPropagation(),this.updateModal(),_r_(!1)}.bind(this)),r(document).on("submit","#wishlists_create_new_list",function(e){_i_("65cb:e3d9c3da"),e.preventDefault(),e.stopPropagation(),r(".bui-form__group",e.currentTarget).removeClass("bui-has-error"),r(".bui-form__group .bui-form__error",e.currentTarget).hide();var t=r("#wishlists_new_list_name").val().trim();return t.length?s.createList({hotel_id:this.params.hotel_id,name:t}).then(this.handleIndividualListSaveSuccess.bind(this),this.handleIndividualListSaveError.bind(this)):(r(".bui-form__group",e.currentTarget).addClass("bui-has-error"),r(".bui-form__group .bui-form__error",e.currentTarget).show()),_r_(!1)}.bind(this)),_r_()},handleIndividualListSaveSuccess:function(){_i_("65cb:a0b689bb"),this.updateModal(),this.updateState(),_r_()},handleIndividualListSaveError:function(){_i_("65cb:cd920b61"),this.updateModal(),this.updateState(),this.showGenericErrorToast(),_r_()},updateModal:function(){_i_("65cb:832d65e1");var e=f(s.getLists(),this.params.hotel_id);i.updateContent(e),_r_()},updateState:function(e){_i_("65cb:4d998d91");e=e||s.getLists();var t,i,n=(t=e,i=this.params.hotel_id,_i_("65cb:995a5a49"),_r_(t.reduce(function(e,t){_i_("65cb:f701cd9d");var n=u(t,i);if(n)return _r_(e.concat(n));return _r_(e)},[])));this.state=!!n.length,this.renderState(this.state),_r_()},fetchData:function(){_i_("65cb:ea5896d9"),l.then(function(e){_i_("65cb:a4522556"),this.updateState(e.lists),_r_()}.bind(this)),_r_()},renderState:function(e,t){_i_("65cb:f04e896b");t=t||this.$el;e?(t.attr("data-is-in-wishlist",!0),r(".sr-card__add_to_wishlist-icon_contaiter",t).html(_("hotel_wishlist_state_added").render())):(t.attr("data-is-in-wishlist",!1),r(".sr-card__add_to_wishlist-icon_contaiter",t).html(_("hotel_wishlist_state_not_added").render())),_r_()},getLastAddedToListId:function(){if(_i_("65cb:62d6f5d0"),null!=d)return _r_(d);return _r_(function(){_i_("65cb:efbbb2e7");var e=o.b_reg_user_last_used_wishlist;if(e&&e[0])return _r_(e[0].b_reg_user_detail_list_id);return _r_(null)}())},autoSaveHotel:function(){_i_("65cb:9cb78602");var e=this.getLastAddedToListId();null!=e?this.autoSaveHotelToList(e):s.fetch({with_hotels:1}).then(this.handleAutoSaveFetchResponse.bind(this),this.handleAutoSaveFetchError.bind(this)),_r_()},handleAutoSaveFetchResponse:function(){_i_("65cb:85970fa5");var e=s.getLists()[0];e?this.autoSaveHotelToList(e.id):this.handleAutoSaveFetchError(),_r_()},handleAutoSaveFetchError:function(){_i_("65cb:0d5a21fd"),this.showGenericErrorToast(),_r_()},autoSaveHotelToList:function(e){return _i_("65cb:02a62d4f"),"true"==this.$el.attr("data-is-in-wishlist")?_r_(this.removeHotel(e)):_r_(this.addHotel(e))},addHotel:function(e){return _i_("65cb:4975b917"),this.renderState(!0),_r_(s.addHotels({list_id:e,hotels:[{id:this.params.hotel_id}],new_state:1}).then(this.handleAutoSaveResponse.bind(this,"add",e),this.handleAutoSaveError.bind(this,"add")))},removeHotel:function(e){return _i_("65cb:cb815f76"),this.renderState(!1),_r_(s.removeHotels({list_id:e,hotels:[{id:this.params.hotel_id}],new_state:0}).then(this.handleAutoSaveResponse.bind(this,"remove",e),this.handleAutoSaveError.bind(this,"remove")))},handleAutoSaveResponse:function(e,t){_i_("65cb:ad386c24");var n=s.getListById(t);"add"===e?this.handleSuccessAddResponse(n):this.handleSuccessRemoveResponse(n),_r_()},handleSuccessAddResponse:function(e){_i_("65cb:4297c829"),this.renderState(!0),B.env.auth_level?this.loggedInSuccessAddResponse.call(this,e):this.loggedOutSuccessAddResponse.call(this,e),_r_()},loggedInSuccessAddResponse:function(e){_i_("65cb:bc6388ca");var t=b(s.getLists(),this.params.hotel_id);h(c("m_dmw_hp_property_added_to_list_toast","",{list_name:e.name}),B.jstmpl("wishlists_main_modal_trigger").render(),function(){_i_("65cb:0d308fbf"),B.et.customGoal("AfPcCWPFeaOTDKMDNdEWe",3),t&&t.open(),_r_()}.bind(this)),_r_()},loggedOutSuccessAddResponse:function(t){_i_("65cb:5a381f22");var e="";if(B.env.fe_user_hotel_wishlists)var n=B.env.fe_user_hotel_wishlists.find(function(e){return _i_("65cb:a7b3f46c"),_r_(e.b_wishlist_id.toString()==t.id.toString())});if(n)var i=n.b_wishlist_url;if(i)e=B.jstmpl("wishlists_main_modal_logged_out_trigger").render();h(c("m_dmw_hp_property_added_to_list_toast","",{list_name:t.name}),e,this.openWishlistPage.bind(this,i)),_r_()},openWishlistPage:function(e){_i_("65cb:75445b88"),window.location=e+B.env.b_query_params_delimiter+"from_toast=1",_r_()},handleSuccessRemoveResponse:function(e){_i_("65cb:4b0e9c38"),this.renderState(!1),h(c("m_dmw_hp_cdm_toast_property_removed","",{list_name:e.name}),c("m_dmw_hp_error_undo"),this.addHotel.bind(this,e.id)),_r_()},handleAutoSaveError:function(e){_i_("65cb:4ad4d214"),"add"===e?this.renderState(!1):this.renderState(!0),this.showGenericErrorToast(),_r_()},showGenericErrorToast:function(){_i_("65cb:12656994"),h(c("m_dmw_property_added_to_list_toast_error")),_r_()}}),_r_()}),B.when({events:"ready",condition:Boolean(Number(B.env.fe_aff_to_capla_comms))}).run(function(e){_i_("65cb:a36c55b7");var t=e("with-capla"),n=e("squeak"),c={hashRpWithPrice:"aaOYWPDSFbWHWXFZEVWCPbKe",COMMS_CAPLA_TO_AFF:"CAPLA_EVENT_property-web_property-page_COMMS_CAPLA_TO_AFF",COMMS_AFF_TO_CAPLA:"CAPLA_EVENT_property-web_property-page_COMMS_AFF_TO_CAPLA",MFE_LOADED:"CAPLA_EVENT_property-web-property-page_MFE_LOADED",EVENT_HS_RATE_SELECTED:"HS_RATE:room_list_horizontal_rate_selected",RT_SQUEAK:"CAPLA_EVENT_property-web-property-page_MFE_RT_SQUEAK",caplaRtComponentBoundary:'[data-capla-component-boundary="b-property-web-property-page/RoomTableMobileMF"]',hiddenInputsForm:"#aff_to_capla_form",affRtSelector:"#bookForm",affFiltersSelector:".rt-controls",buiHiddenClass:"bui-u-hidden",searchConf:B.env.b_search_config||{}},i={rt_error__rtq__not_found:"cJPcVDZBFLQecGMBTVfFfJPGO",rt_error__rtq__failed:"cJPcVDZBFLQecGaDIARMGWe",rt_warn__rtq__missing_rooms:"cJZaTCMDbGGeNAIKGYBFbUC",rt_warn__rtq__missing_blocks:"cJZaTCMDbGGeNAIKGYBDCSRe",rt_info__rtq__no_dates_served:"cJZbQdfbeLLEHJefNZFeeLQC",rt_info__rtq__soldouts_served:"cJZbQdfbeLQJJYDNOSBZeUJLT",rt_error__rds__not_found:"cJPcVDZBFZVMIWDDPIdJEFGWe",rt_error__rds__failed:"cJPcVDZBFZVMIJVHWEKJLT",rt_warn__rds__missing_rooms:"cJZaTCMDbdJCKaRGSCQJeRe",rt_warn__rds__missing_blocks:"cJZaTCMDbdJCKaRGSCLHNYO",rt_info__rds__no_dates_served:"cJZbQdFaEACMVScTBNSeNAae",rt_info__rds__soldouts_served:"cJZbQdFaEAELSVefNZFeeLQC",rt_error__bridge__no_data_received:"cJPcVDZBSfOeOQbLEZGcBYRMPFIPGO",rt_info__bridge__data_received:"cJZbQBJTUTGSbGcBYRMPFIPGO",rt_error__bridge__fail_to_generate_data:"cJPcVDZBSfOeOQbLWMVbOdTDdGHFYLccFDFO",rt_error__bridge__empty:"cJPcVDZBSfOeOQbQUPMcWe",rt_error__data_adapters__empty_cancellation_policy:"cJPcVDZBFQLNZFIeGAFQUPMcZaaNRfXaIRdNC",rt_warn__data_adapters__rooms_order_mismatch:"cJZaTCMDbGcBNZKTQIZGPTcKbOFYaAbVLHKe",rt_warn__data_adapters__blocks_order_mismatch:"cJZaTCMDbGcBNZKTQIZGEBURGPNSIKGPAMXT",rt_warn__data_adapters__rooms_mismatch_compared_to_rds:"cJZaTCMDbGcBNZKTQIZGPTcVIQJGEASYHUGZYZdJCXO",rt_warn__data_adapters__rooms_mismatch_compared_to_rtq:"cJZaTCMDbGcBNZKTQIZGPTcVIQJGEASYHUGZYZGGeNXe",rt_warn__data_adapters__less_rooms_mismatch_than_rds:"cJZaTCMDbGcBNZKTQIZGYddJeLaAbVLHbCcGZdJCXO",rt_warn__data_adapters__less_rooms_mismatch_than_rtq:"cJZaTCMDbGcBNZKTQIZGYddJeLaAbVLHbCcGZGGeNXe",rt_warn__data_adapters__more_rooms_mismatch_than_rds:"cJZaTCMDbGcBNZKTQIZGdJXIPTcVIQJGEAWNAdFPKRC",rt_warn__data_adapters__more_rooms_mismatch_than_rtq:"cJZaTCMDbGcBNZKTQIZGdJXIPTcVIQJGEAWNAdQATURT",rt_warn__data_adapters__blocks_mismatch:"cJZaTCMDbGcBNZKTQIZGEBUWXQEJDXO",rt_warn__data_adapters__less_blocks_mismatch_than_rds:"cJZaTCMDbGcBNZKTQIZGYdEHNNIKGPAMIHUJFZERHKe",rt_warn__data_adapters__less_blocks_mismatch_than_rtq:"cJZaTCMDbGcBNZKTQIZGYdEHNNIKGPAMIHUJFcJSeaO",rt_warn__data_adapters__more_blocks_mismatch_than_rds:"cJZaTCMDbGcBNZKTQIZGdJXIEBUWXQEJDKETfbdFaEXe",rt_warn__data_adapters__more_blocks_mismatch_than_rtq:"cJZaTCMDbGcBNZKTQIZGdJXIEBUWXQEJDKETfbdfbeLC",rt_warn__data_adapters__more_blocks_mismatch_than_rds_due_to_300_cap:"cJZaTCMDbGcBNZKTQIZGdJXIEBUWXQEJDKETfbdFaEVGWdMeMaNSMYFKYKe",rt_warn__data_adapters__more_blocks_mismatch_than_rtq_due_to_300_cap:"cJZaTCMDbGcBNZKTQIZGdJXIEBUWXQEJDKETfbdfbeLWGALZYPCFYZJHORO",rt_warn__data_adapters__rooms_sort_mismatch:"cJZaTCMDbGcBNZKTQIZGPTcfCIKGPAMXT",rt_warn__data_adapters__blocks_sort_mismatch:"cJZaTCMDbGcBNZKTQIZGEBUJaHRGFffRC",rt_warn__data_adapters__blocks_price_mismatch:"cJZaTCMDbGcBNZKTQIZGEBUJFWXQEJDXO",rt_warn__data_adapters__blocks_nr_stays_mismatch:"cJZaTCMDbGcBNZKTQIZGEBUDETMHTcVIQJGEXe",rt_warn__data_adapters__only_x_left_messages_mismatch:"cJZaTCMDbGcBNZKTQIZGIQNNDREKNdcOGdCNIKGPAMXT",rt_warn__data_adapters__only_x_left_messages_more_than_one_per_room:"cJZaTCMDbGcBNZKTQIZGIQNNDREKNdcOGdCNMPXKETfbBVbDdJHe",rt_info__connected_patterns__loading_banner_rendered:"cJZbQCeMJYGUAeMVfObXRNOZTZVCMIQFeaSfYKe",rt_info__connected_patterns__error_banner_rendered:"cJZbQCeMJYGUAeMVfObXRNOaJTdPXPRQdScAcTXT",rt_info__connected_patterns__error_banner_in_view:"cJZbQCeMJYGUAeMVfObXRNOaJTdPXPRQVYFGO",rt_info__connected_patterns__error_banner_click_retry:"cJZbQCeMJYGUAeMVfObXRNOaJTdPXPRQAFaKHeFUWe",rt_info__connected_patterns__error_banner_rendered_no_dates:"cJZbQCeMJYGUAeMVfObXRNOaJTdPXPRQdScAcTIMEfTRe",rt_info__connected_patterns__error_banner_no_dates_in_view:"cJZbQCeMJYGUAeMVfObXRNOaJTdPXPRQCMVScfPELT",rt_info__connected_patterns__error_banner_no_data_in_view:"cJZbQCeMJYGUAeMVfObXRNOaJTdPXPRQCMcFDSVYFGO",rt_info__connected_patterns__error_banner_rendered_soldout:"cJZbQCeMJYGUAeMVfObXRNOaJTdPXPRQdScAcTIPfBfC",rt_info__connected_patterns__error_banner_soldout_in_view:"cJZbQCeMJYGUAeMVfObXRNOaJTdPXPRQELSVPOAJWe",rt_info__connected_patterns__error_banner_ineligible_in_view:"cJZbQCeMJYGUAeMVfObXRNOaJTdPXPRQVZJQaCQFfOAJWe",rt_error__aff__ssr_empty_rt:"cJPcVDZBSGAAcOdZNJdQFLLT",rt_error__aff__csr_empty_rt_after_10_secs:"cJPcVDZBSGATWMZSZVZbdfEePWIcbBfXfYO",rt_error__builder__incorrect_required_vectors:"cJPcVDZBWKHccZQfOeJdFRMPYXeeBGXAEUfHLAUC",rt_error__builder__blockid_parts_fail:"cJPcVDZBWKHccZQfWZTKCTefIEaFBHT"};c.squeak=function(e){_i_("65cb:01ee5806");var t=i[e];t&&n(t),_r_()},c.checkIfRtIsVisible=function(e){_i_("65cb:be0952a5");var t=0===$('[data-testid="caplaRt"]').length||0===$('[data-testid="caplaRt"]').children().length;return t&&(c.squeak(e),B&&B.reportError&&B.reportError("","[MF_RT]: RT visibility check failed with token: "+e,{searchConf:c.searchConf})),_r_(t)},c.caplaHandler=function(e){_i_("65cb:ffc94db4");var o=e.eventBus,s=!0,t=function(e){_i_("65cb:e378a847");var t={},n=$(c.hiddenInputsForm);try{if("errors"in(t=window.___rt_data_for_capla__.getAffData())&&t.errors.length&&s&&(t.errors.forEach(function(e){_i_("65cb:d48df534"),c.squeak("",e),_r_()}),s=!1),Object.keys(t.blocks).forEach(function(e){_i_("65cb:885a16f8"),B&&B.env&&B.env.b_room_blocks_json&&B.env.b_room_blocks_json[e]&&(t.blocks[e].price=Number(B.env.b_room_blocks_json[e].price),t.blocks[e].nrStaysAff=Number(B.env.b_room_blocks_json[e].maxRooms)),_r_()}),n.length){var i=n.serializeArray();t.extras=[],i.forEach(function(e){_i_("65cb:d1cc23a3"),t.extras.push({name:e.name,value:e.value}),_r_()})}B.env.b_room_group&&B.env.b_room_group.length&&(t.groupReco=B.env.b_room_group),t.selectedBlockData=null,B.events.on(c.EVENT_HS_RATE_SELECTED,function(e){_i_("65cb:cd5b00b6"),t.selectedBlockData=e.selectedBlockData,_r_()}),t.sortOrder={};var r=B.env.b_rooms_available_and_soldout;r&&r.length&&(t.sortOrder.roomOrder=[],t.sortOrder.roomBlocksOrder={},r.forEach(function(e){_i_("65cb:8d7a3eb1"),e.b_room_id&&e.b_blocks&&(t.sortOrder.roomOrder.push(e.b_room_id),t.sortOrder.roomBlocksOrder[e.b_room_id]=e.b_blocks.map(function(e){return _i_("65cb:5ae808d9"),_r_(e.b_block_id)})),_r_()}));var _=B.env.b_blocks_sorted;_&&_.length&&(t.sortOrder.blockOrder=[],t.sortOrder.blockOrder=_.map(function(e){return _i_("65cb:2c3155a9"),_r_(e.b_id)}))}catch(e){t={errors:["rt_error__bridge__fail_to_generate_data"]},B&&B.reportError&&B.reportError(e,"Building affData failed",{searchConf:c.searchConf})}if(t.errors.length){var a="[MF_RT]: affData errors:"+t.errors.join(",");B&&B.reportError&&B.reportError(new Error(a),document.location.url)}t.isNotFromLoadedEvent=Boolean(e),o.publish(c.COMMS_AFF_TO_CAPLA,t),_r_()};o.subscribeOnce(c.MFE_LOADED,t),o.subscribe(c.RT_SQUEAK,function(e,t){_i_("65cb:307c8b46"),c.squeak(t),_r_()}),t(!0),_r_()},c.squeakRtVisibility=function(){_i_("65cb:da248e26"),c.checkIfRtIsVisible("rt_error__aff__ssr_empty_rt"),setTimeout(function(){_i_("65cb:3b36a382"),c.checkIfRtIsVisible("rt_error__aff__csr_empty_rt_after_10_secs"),_r_()},1e4),_r_()},c.kickstart=function(){_i_("65cb:49a617b6"),t("property-web","property-page",c.caplaHandler)(),_r_()},c.kickstart(),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){"use strict";_i_("65cb:fe59f75a");var _=e("jquery"),a=B.require("hotel/store"),t="HS_RATE:room_list_horizontal_rate_selected",n=null;if(0<_(".js-rt-rate-horizontal").length)return a.subscribe(function(){_i_("65cb:7c97d0b5");var e=function(){_i_("65cb:41f785ca");for(var e=a.getState().roomsTable.selection.blocks,t=Object.keys(e),n=0;n<t.length;n++){var i=t[n];if(0<_('.js-rt-rate-horizontal-rate[data-block-id="'+i+'"]').length){var r=e[i];return _r_({blockId:i,count:r?r.count:0})}}return _r_(null)}();JSON.stringify(n)!==JSON.stringify(e)&&((n=e)?B.events.trigger(t,{selectedBlockData:n}):B.events.trigger(t,{selectedBlockData:null})),_r_()}),_r_();B.events.trigger(t,{selectedBlockData:n}),_r_()}),B.when({events:"ready",condition:Boolean(Number(B.env.fe_mrt_m_hp_rt_basket_integration))}).run(function(e){_i_("65cb:f5cb06a5");var t=e("with-capla"),l=e("et"),n=e("server-data"),d=e("jquery"),i=Boolean(Number(n.fe_exp_rsw_m_group_rec_basket_integration)||0),r=Boolean(Number(n.fe_exp_rsw_m_hp_rt_basket_timeout_fix)||0),_=Boolean(Number(n.fe_has_group_multirec)||0)?".js-group-recommendation-block":"#group_rec_form",u=e("hotel/store"),f="GROUP_RECO",a="BOOK_FORM",b={timeoutFixHash:"aaMRYBENNQASfAWZFLMJbZJdZRO",debugHash:"OOGbCDOTdfdcfEBNQKLDTLZOXJEHSFO",RT_CREATE_BASKET:"CAPLA_EVENT_property-web_property-page_RT_CREATE_BASKET",RT_SEND_BASKET_ID:"CAPLA_EVENT_property-web_property-page_RT_SEND_BASKET_ID",shouldMakeBasketRequest:!0,autoSubmitTimeoutToken:0,checkinDate:n.b_checkin_date,checkoutDate:n.b_checkout_date,searchConfig:n.b_search_config,label:n.b_label,hotelId:parseInt(n.b_hotel_id,10),channelId:n.b_partner_channel_id,eventOrigin:a,triggeredForm:d("#bookForm")[0],fe_exp_rsw_m_group_rec_basket_integration:i,fe_exp_rsw_m_hp_rt_basket_timeout_fix:r,hasAlreadyForceSubmitted:!1,timeoutFixVariant:l.track("aaMRYBENNQASfAWZFLMJbZJdZRO"),delayBudgetPerVariant:{1:500,2:750},debugLog:function(){return _i_("65cb:a0af727b"),l.track(b.debugHash)&&console.log.apply(console,arguments),_r_(arguments[0])}},h=15e3;b.fe_exp_rsw_m_hp_rt_basket_timeout_fix&&b.timeoutFixVariant in b.delayBudgetPerVariant&&(h=b.delayBudgetPerVariant[b.timeoutFixVariant]);var p=1,o=2,s=3,c=4,m=2,M=3,v=4,g=5,w=6,y=7;b.createBasketRequest=function(e,t){_i_("65cb:e9c2ad16"),l.stage(b.timeoutFixHash,y),l.customGoal(b.timeoutFixHash,c),b.debugLog("Aff: sending request to basket integrator"),b.shouldMakeBasketRequest=!1,e.publish(b.RT_CREATE_BASKET,t),_r_()},b.onReceiveBasketId=function(e){_i_("65cb:1f2f7378");var t=e.basketId,n=e.isTimeoutError;if(b.debugLog("Aff: receiving basket ID from basket integrator.","basket ID: ",t),!t)return B.squeak&&B.squeak("OOGbCDOTdfdcfEBNQKLDTLZOXJNVFOBcRcBWVUZC"),l.customGoal(b.timeoutFixHash,o),n&&l.customGoal(b.timeoutFixHash,p),b.debugLog("Aff: no valid basket ID received.","basket ID: ",t),b.forceSubmitRoomTable(),_r_();l.customGoal(b.timeoutFixHash,s);var i=b.fe_exp_rsw_m_group_rec_basket_integration&&b.eventOrigin===f?d(b.triggeredForm):d("#bookForm"),r='input[name="basket_id"]';i.find(r).length?i.find(r).val(t):i.append('<input type="hidden" name="basket_id" value="'+t+'" />'),b.forceSubmitRoomTable(),_r_()},b.extractBedPreferences=function(){_i_("65cb:a423ae9e");var e=u.getState().preferences;if(e&&e.perBlock)return _r_(e.perBlock);return _r_({})},b.setRoomTableToWaitForBasket=function(c){_i_("65cb:3ae57bba"),b.debugLog("Aff: setting up RT to wait for basket");var e="#bookForm";b.fe_exp_rsw_m_group_rec_basket_integration&&(e="#bookForm, "+_),d(e).on("submit",function(e,t){_i_("65cb:492118a5");var n=t&&!0===t.synthetic,i=t&&!0===t.synthetic&&!0===t.forceSubmit;if(b.fe_exp_rsw_m_group_rec_basket_integration){e.target&&-1<e.target.className.indexOf("js-group-recommendation-block")&&(b.eventOrigin=f),b.triggeredForm=e.target;var r={blocks:{}};if(b.eventOrigin===f){var _={};d(b.triggeredForm).find("input[name^=nr_rooms]").each(function(){_i_("65cb:3188de96");var e=d(this),t=e.attr("name").replace("nr_rooms_",""),n=e.attr("value"),i=parseInt(n,10);_[t]={count:i},_r_()}),r.blocks=_}}if(b.fe_exp_rsw_m_hp_rt_basket_timeout_fix&&n&&!i&&e.preventDefault(),!b.shouldMakeBasketRequest||i)return _r_();b.autoSubmitTimeoutToken&&(b.debugLog("Aff: clear existing basket safety timeout"),clearTimeout(b.autoSubmitTimeoutToken)),b.debugLog("Aff: RT submit - in variant, so stop submission and wait"),e.preventDefault();var a=b.fe_exp_rsw_m_group_rec_basket_integration&&b.eventOrigin===f?r:u.getState().roomsTable.selection,o=b.extractBedPreferences(a),s={selection:a,checkinDate:b.checkinDate,checkoutDate:b.checkoutDate,searchConfig:b.searchConfig,label:b.label,hotelId:b.hotelId,channelId:b.channelId,bedPreferences:o,siteType:"MDOT"};b.createBasketRequest(c,s),b.autoSubmitTimeoutToken=setTimeout(function(){if(_i_("65cb:1559b539"),b.fe_exp_rsw_m_hp_rt_basket_timeout_fix&&b.hasAlreadyForceSubmitted)return _r_();b.debugLog("Aff: we timed out waiting for basket response - force submitting RT"),B.squeak&&B.squeak("OOGbCDOTdfdcfEBNQKLDTLZOXJNVFOBcRcfTBfC"),l.customGoal(b.timeoutFixHash,p),b.forceSubmitRoomTable(),_r_()},h),_r_()}),_r_()},b.createBasketRequestFromDebugger=function(e){_i_("65cb:6e61b18b");var t=u.getState().roomsTable.selection,n=b.extractBedPreferences(t),i={selection:t,checkinDate:b.checkinDate,checkoutDate:b.checkoutDate,searchConfig:b.searchConfig,label:b.label,hotelId:b.hotelId,channelId:b.channelId,bedPreferences:n,siteType:"MDOT",isDebugRequest:!0};b.createBasketRequest(e,i),_r_()},b.forceSubmitRoomTable=function(){if(_i_("65cb:75ccc5eb"),b.fe_exp_rsw_m_hp_rt_basket_timeout_fix&&b.hasAlreadyForceSubmitted)return b.debugLog("Aff: already submitted the form - not submitting it again"),_r_();if(b.hasAlreadyForceSubmitted=!0,b.autoSubmitTimeoutToken&&clearTimeout(b.autoSubmitTimeoutToken),b.debugLog("Aff: force-submitted Room Table"),b.fe_exp_rsw_m_group_rec_basket_integration&&b.eventOrigin===f){var e=b.fe_exp_rsw_m_hp_rt_basket_timeout_fix?{synthetic:!0,forceSubmit:!0}:void 0;d(b.triggeredForm).trigger("submit",e)}else{e=b.fe_exp_rsw_m_hp_rt_basket_timeout_fix?{synthetic:!0,forceSubmit:!0}:void 0;d("#bookForm").trigger("submit",e)}_r_()},b.subscribeToReceiveBasketId=function(e){_i_("65cb:42f0cdab"),e.subscribe(b.RT_SEND_BASKET_ID,function(e,t){_i_("65cb:2677c767"),b.debugLog("Aff: received basket data","basketData",t),b.onReceiveBasketId(t),_r_()}),_r_()},b.trackTimeoutFixStages=function(){if(_i_("65cb:4afcfc84"),"undefined"!=typeof navigator&&navigator.connection&&navigator.connection.effectiveType)switch(navigator.connection.effectiveType){case"4g":l.stage(b.timeoutFixHash,g);break;case"3g":l.stage(b.timeoutFixHash,v);break;case"2g":l.stage(b.timeoutFixHash,M);break;case"slow-2g":l.stage(b.timeoutFixHash,m);break;default:l.stage(b.timeoutFixHash,w)}else l.stage(b.timeoutFixHash,w);_r_()},b.kickstart=function(){_i_("65cb:c83d8adf"),b.debugLog("Aff: starting basket integration");t("property-web","property-page",function(e){_i_("65cb:29259e77");var t=e.eventBus;b.setRoomTableToWaitForBasket(t),b.subscribeToReceiveBasketId(t),d("#rt_basket_integration_send_manual_request").click(function(e){_i_("65cb:5a5ce95b"),b.createBasketRequestFromDebugger(t),_r_()}),_r_()})(),b.trackTimeoutFixStages(),_r_()},b.kickstart(),_r_()}),booking.jstmpl("acid_carousel",function(){_i_("65cb:9ae775c1");var u,f=["\n    ",'<div class="bui-banner bui-u-bleed@small" data-bui-component="Banner"><div class="bui-banner__content">','<a class="bui-banner__title_a" href="','" ',' target="_blank" ',">","iconset/arrow_right_bold","large","",'<h2 class="bui-banner__title u-padding-left:0 u-padding-top:0">',"/private/m_sxp_sr_carousel_bh/name","/private/m_sxp_sr_carousel_getaway_deals/name","/private/m_sxp_sr_carousel_centre_and_breakfast/name","/private/m_sxp_filter_combo_properties_solo/name","/private/m_sxp_filter_combo_properties_couples/name","/private/m_sxp_filter_combo_properties_families/name","/private/m_sxp_filter_combo_properties_groups/name","</h2>","</a>",'<p class="bui-banner__text">',"/private/m_sxp_sr_carousel_getaway_deals_sub/name","</p>",'<div role="region" class="bui-carousel bui-carousel--medium bui-u-bleed@small" data-bui-component="Carousel"><ul class="bui-carousel__inner" data-bui-ref="carousel-container">','<li class="bui-carousel__item" data-bui-ref="carousel-item"><a href="','" class="bui-card bui-card--media bui-card--transparent'," bui-f-depth-2",' ><div class="bui-card__image-container bui-card__image-container--square"><img class="bui-card__image" src="','">',"<p>",'</div><div class="bui-card__content"><h3 class="bui-card__title">',"</h3>",'<div class="c-acid-carousel__square-rating">','<div class="bui-icon bui-rating__item"><svg class="bk-icon -iconset-square_rating" fill="#FEBB02" height="16" width="16" viewBox="0 0 128 128"><path d="M104 8H24A16 16 0 0 0 8 24v96h96a16 16 0 0 0 16-16V24a16 16 0 0 0-16-16zM64 88a24 24 0 1 1 24-24 24 24 0 0 1-24 24z"></path></svg></div>',"</div>","\n\n\n\n\n\n\n\n","\n\n\n\n\n\n\n\n\n    \n    ","\n\n    \n    ","\n\n    ",".5","\n        ","5","\n\n    \n    \n    \n    ","\n         ",'\n         <div class="',"china_stars_categories ","ms-china-stars-categories",'">\n            ','\n                \n                <span class="china_stars_categories_title">',"</span>\n            ","\n\n            \n            ","sprite/ratings_circles_","_half",'\n\n            <i class="\n                bk-icon-wrapper\n                zhcn-ratings\n                ',"\n                ","jq_tooltip ratings_stars_tooltip","ms-title-stars",'\n                "\n                title="','"\n            >',"true","1","false","</i>\n\n        </div>\n\n    \n    \n    \n    ","\n\n        ","/5","\n            ","\n\n        \n        ",'\n\n        <i class="\n            bk-icon-wrapper\n            ','\n            "\n            title="','"\n            ','\n                data-toponly="true"\n            ',"\n        >",'\n            <span class="invisible_spoken">',"</span>","\n        </i>\n        \n        \n        \n        ",'\n            <span data-bui-component="Tooltip" title="','" style="margin: ',"0 0 0 ","0 "," 0 0","; position: relative; top: ","-2px","-4px",';">\n                ',"streamline/question_mark_circle","smaller","\n            </span>\n        ","\n\n    \n    \n    \n    \n    ","\n            \n            ","sprite/ratings_stars_",'\n            <i\n                class="\n                    bk-icon-wrapper\n                    bk-icon-stars\n                    ',"\n                    ","\n                    star_track",'\n                    "\n                title="','"\n                ','\n                    rel="300"\n                    data-toponly="true"\n                ',"\n            >\n                ",'\n                    <span class="invisible_spoken">',"\n            </i>\n    ","\n","\n\n\n","\n\n","\n\n\n\n"," \n",'\n\n<span\n    class="',"bh-quality-bars bh-quality-bars--"," ",'"\n    ','\n    data-bui-component="Popover"\n    data-popover-position="bottom"\n    data-popover-content-id="bhqc_explanation_popover"\n    ','\n    data-bui-component="Tooltip"\n        ','\n        title="',"/private/bhqc_sr_qc_desc_tooltip_affiliate/name",'"\n        ',"/private/bh_sr_quality_explanationv3/name",'\n        data-tooltip-position="bottom"\n    ','data-et-click="','"','data-et-mouseenter="',"\n>\n    ","iconset/square_rating",'\n        <span style="margin: ',';">\n            ',"\n        </span>\n    ","\n</span>\n\n","\n\n            ","small",'<i class="no_rating">&nbsp;</i>','<p class="bui-card__subtitle">',"&nbsp;","<b>","</b>",'<p class="bui-card__subtitle c-acid-carousel__price">',"/private/sxp_acid_carousels_starting_price/name",'<p class="bui-card__subtitle c-acid-carousel__price c-acid-carousel__price--unavailable">',"/private/sxp_sh_carousel_unavailable/name",'<p class="bui-card__subtitle c-acid-carousel__last-viewed">','<div class="bui-card__subtitle"><p>',"</p></div>","</div></a></li>",'" class="bui-card bui-card__see-all ',"bui-f-depth-2"," >","iconset/arrow_right","larger","<span>","/private/m_sxp_sr_property_carousel_cta_show_more/name","/private/sxp_sh_carousel_cta_show_all/name","</span></a></li>","</ul></div></div></div>"],b=["show_more_url","show_all_url","with_target_blank","title","type","traveler_type_id","hotels","b_url","with_shadow","b_photo_url","b_price","layout_version","b_name","b_accommodation_classification_rating_data","fe_bh_squares_rating","fe_exp_bh_quality_class","b_class","b_class_is_estimated","b_cc1","cc1","b_countrycode","b_common_cc1","b_booker_cc1","b_hotel_cc1","b_common_class_is_estimated","ip_country","b_locale","b_action","fe_show_estimated_rating","fe_show_rating_tooltip","decimal_halfstar","rating_score","b_common_class","b_common_class_half","b_common_rating_score_localized","fe_small_stars","fe_large_stars","b_user_auth_level","b_site_type","fe_nostar_rating_stars","b_lang","rating_icon__path","fe_custom_classes","star_rating_dots_tooltip_zhcn","fe_rating_symbols_height","fe_china_estimated_rating","rating_score_pure","fe_estimated_rating_tooltip_text","fe_estimated_tooltip","sr_unofficial_star_or_dot_rating_tooltip","fe_style_rating_tooltip","b_lang_is_rtl","star_rating_text","sr_star_property","b_accommodationtype_id","star_rating_1_half","star_rating_1","star_rating_2_half","star_rating_2","star_rating_3_half","star_rating_3","star_rating_4_half","star_rating_4","star_rating_5","sr_official_star_rating_tooltip","b_common_stars_type","sr_star_rating_tooltip_legal","b_guest_country","loc_star_rating_color","loc_star_rating_tracking","fe_bar_size","fe_icon_width","fe_show_extended_tooltip","fe_bar_level","fe_is_affiliate","fe_companyname","fe_site_type","fe_no_tooltip","fe_click_tracking","fe_mouseenter_tracking","fe_icon_height","fe_icon_size","b_bh_quality_class","fe_class_on_map","b_companyname","b_site_info","class","class_is_estimated","version","b_review_score","b_review_title","fe_price","b_last_booked","b_last_viewed"];return _r_(function(o){_i_("65cb:16d0251f");var e="",s=this.fn;function t(e){if(_i_("65cb:93886e1e"),e+=["",f[34]].join(""),s.MJ(s.MC(b[32]))&&s.MJ(0<s.MC(b[32]))){e+=f[35],s.MN("fe_china_estimated_rating",s.MJ(s.MB(b[19])+""=="cn")||s.MJ(s.MC(b[18])+""=="cn")||s.MJ(s.MC(b[20])+""=="cn")||s.MJ(s.MC(b[21])+""=="cn")||s.MJ(s.MC(b[22])+""=="cn")&&s.MJ(s.MC(b[23])+""=="cn")),e+=f[36],s.MN("fe_show_estimated_rating",s.MJ(/^ph$/.test(s.MC(b[21])))||s.MC(b[24])&&s.MJ(/^de|ru|fr|be$/.test(s.MC(b[21])))||s.MJ(s.MB(b[25])+""=="us")&&s.MJ(s.MC(b[26])+""=="en-us")&&s.MJ(s.MC(b[27])+""!="confirmationmg")),e+=f[36],s.MN("fe_show_rating_tooltip",(s.MJ(s.MC(b[21])+""=="de")||s.MB(b[28])&&s.MJ(!/^fr|be$/.test(s.MC(b[21]))))&&s.MJ(/^searchresults|hotel$/.test(s.MC(b[27])))),e+=f[36],s.MN("fe_style_rating_tooltip",s.MB(b[29])&&s.MJ(s.MC(b[27])+""=="searchresults")),e+=f[37],s.MN(b[30],f[38]),e+=f[0];var t="";if(t+=s.F.entities(parseInt(s.MC(b[32]))),s.MD(b[33])&&(t+=s.F.entities(s.MB(b[30]))),s.MN(b[31],t),e+=f[36],s.MD(b[34])?(e+=f[39],s.MN(b[31],s.MC(b[34]))):(s.MJ(5==s.MB(b[31]))||s.MJ(5.5==s.MB(b[31])))&&s.MJ(s.MC(b[33]))?(e+=f[39],s.MN(b[31],f[40])):(e+=f[39],s.MN(b[31],s.format_number_decimal(s.MB(b[31])))),e+=f[0],e+=f[36],s.MD(b[35])?(e+=f[39],s.MN("fe_rating_symbols_height","8")):s.MD(b[36])?(e+=f[39],s.MN("fe_rating_symbols_height","13")):(e+=f[39],s.MN("fe_rating_symbols_height","10")),e+=f[0],e+=f[41],s.MD(b[45])){e+=f[42],s.MN("fe_nostar_rating_stars","{nostar_rating_filter_"+s.MC(b[32])+"}"),e+=f[43],e+=f[44],s.MJ(s.MC(b[37]))&&s.MJ(s.MC(b[38])+""=="www")&&s.MJ(s.MC(b[27])+""=="mywishlist")&&(e+=f[45]),e+=f[46],s.MJ(s.MB(b[39]))&&s.MJ(s.MC(b[40])+""=="zh")&&(e+=[f[47],s.MB(b[39]),f[48]].join("")),e+=f[49];t="";t+=[f[50],parseInt(s.MC(b[32]))].join(""),s.MJ(s.MC(b[33]))&&s.MJ(parseInt(s.MC(b[32]))<5)&&(t+=f[51]),s.MN(b[41],t),e+=f[52],s.MD(b[42])&&(e+=s.F.entities(s.MC(b[42]))),e+=f[53],s.MD(b[43])&&(e+=f[54]),e+=f[53],s.MJ(s.MC(b[37]))&&s.MJ(s.MC(b[38])+""=="www")&&s.MJ(s.MC(b[27])+""=="mywishlist")&&(e+=f[55]),e+=[f[56],s.F.html(s.MB(b[43])),f[57]].join(""),e+=(o.unshift({"aria-hidden":f[58],critical:f[59],focusable:f[60],height:s.MB(b[44]),name:s.MB(b[41])}),u=s.HELPER("icon",o[0]),o.shift(),u),e+=f[61]}else if(s.MJ(s.MB(b[28]))){e+=f[62],s.MN(b[46],s.F.entities(s.MB(b[31]))),e+=f[39],s.MN(b[31],[s.F.entities(s.MB(b[31])),f[63]].join("")),e+=f[62],(s.MJ(s.MB(b[29]))||s.MJ(s.MB(b[48])))&&(e+=f[64],s.MD(b[48])?(e+=f[53],s.MN(b[47],s.MC(b[48]))):(e+=f[53],s.MN(b[47],s.MB(b[49]))),e+=f[64],e+=f[39]),e+=f[65];t="";t+=[f[50],parseInt(s.MC(b[32]))].join(""),s.MJ(s.MC(b[33]))&&s.MJ(parseInt(s.MC(b[32]))<5)&&(t+=f[51]),s.MN(b[41],t),e+=f[66],s.MD(b[42])&&(e+=s.F.entities(s.MC(b[42]))),e+=f[64],(s.MJ(s.MB(b[50]))||s.MJ(s.MC(b[27])+""=="searchresults")&&s.MJ(s.MB(b[48])))&&(e+=f[54]),e+=f[64],s.MJ(s.MC(b[37]))&&s.MJ(s.MC(b[38])+""=="www")&&s.MJ(s.MC(b[27])+""=="mywishlist")&&(e+=f[55]),e+=[f[67],s.MB(b[47]),f[68]].join(""),s.MJ(s.MC(b[27])+""=="searchresults")&&(e+=f[69]),e+=f[70],e+=[(o.unshift({"aria-hidden":f[58],critical:f[59],focusable:f[60],height:s.MB(b[44]),name:s.MB(b[41])}),u=s.HELPER("icon",o[0]),o.shift(),u),f[71],s.MB(b[47]),f[72]].join(""),e+=f[73],s.MJ(s.MB(b[29]))&&s.MJ(s.MB(b[25])+""=="de")&&s.MJ(s.MC(b[21])+""=="de")&&s.MJ(s.MC(b[38])+""=="www")&&(s.MJ(s.MC(b[27])+""=="searchresults")||s.MJ(s.MC(b[27])+""=="hotel"))&&(e+=[f[74],s.F.entities(s.MC(b[47])),f[75]].join(""),s.MD(b[51])?e+=[f[76],s.F.entities("4px")].join(""):e+=[f[77],s.F.entities("4px"),f[78]].join(""),e+=f[79],s.MJ(s.MC(b[27])+""=="hotel")?e+=f[80]:e+=f[81],e+=[f[82],(o.unshift({color:"#6B6B6B",name:f[83],size:f[84]}),u=s.HELPER("icon",o[0]),o.shift(),u),f[85]].join("")),e+=f[86]}else{if(e+=f[39],s.MJ(204!=s.MC(b[54])))e+=f[87],s.MN(b[52],s.MB(b[53])),e+=f[39];else{e+=f[64];t="";s.MJ(1==s.MC(b[32]))?s.MD(b[33])?t+=s.MB(b[55]):t+=s.MB(b[56]):s.MJ(2==s.MC(b[32]))?s.MD(b[33])?t+=s.MB(b[57]):t+=s.MB(b[58]):s.MJ(3==s.MC(b[32]))?s.MD(b[33])?t+=s.MB(b[59]):t+=s.MB(b[60]):s.MJ(4==s.MC(b[32]))?s.MD(b[33])?t+=s.MB(b[61]):t+=s.MB(b[62]):s.MJ(5==s.MC(b[32]))&&(t+=s.MB(b[63])),s.MN(b[52],t),e+=f[39]}e+=f[62],s.MD(b[29])&&(e+=f[64],s.MN(b[52],s.MB(b[64])),e+=f[39]),e+=f[62],s.MN(b[65],s.MC(b[65])||"4"),e+=f[65],s.MJ(s.MC(b[67])+""=="nl")&&s.MJ(s.MC(b[38])+""=="www")&&(s.MJ(s.MC(b[27])+""=="searchresults")||s.MJ(s.MC(b[27])+""=="hotel"))&&(e+=f[64],s.MN("fe_style_rating_tooltip",1),e+=f[64],s.MN("star_rating_text",s.MB(b[66])),e+=f[39]),e+=f[65];t="";t+=[f[88],parseInt(s.MC(b[32]))].join(""),s.MJ(s.MC(b[33]))&&s.MJ(parseInt(s.MC(b[32]))<5)&&(t+=f[51]),s.MN(b[41],t),e+=f[89],s.MD(b[42])&&(e+=s.F.entities(s.MC(b[42]))),e+=f[90],s.MD(b[50])&&(e+=f[54]),e+=[f[91],s.MB(b[68]),f[90]].join(""),s.MJ(s.MC(b[37]))&&s.MJ(s.MC(b[38])+""=="www")&&s.MJ(s.MC(b[27])+""=="mywishlist")&&(e+=f[55]),e+=[f[92],s.F.html(s.MB(b[52])),f[93]].join(""),s.MD(b[50])&&(e+=f[94]),e+=[f[53],s.MB(b[69]),f[95]].join(""),e+=[(o.unshift({"aria-hidden":f[58],critical:f[59],focusable:f[60],height:s.MB(b[44]),name:s.MB(b[41])}),u=s.HELPER("icon",o[0]),o.shift(),u),f[96],s.F.html(s.MB(b[52])),f[72]].join(""),e+=f[97]}e+=f[98]}else{if(e+=f[0],s.MJ(s.MC(b[82]))){if(e+=f[62],s.MJ(s.MC(b[38])+""=="www")){e+=f[64];var n={fe_bar_level:s.MC(b[82]),fe_bar_size:s.MB(b[83])?"small":"medium",fe_companyname:s.MC(b[84]),fe_is_affiliate:s.MC(b[85])&&s.MC(b[85]).is_hybrid,fe_show_extended_tooltip:s.MJ(s.MB(b[25])+""=="de")&&(s.MJ(s.MC(b[27])+""=="searchresults")||s.MJ(s.MC(b[27])+""=="hotel")),fe_site_type:s.MC(b[38])},i=o;(o=s.SV([{},{}])).unshift(n),e=r(e),o=s.SV(i),e+=f[39]}else if(s.MJ(s.MC(b[38])+""=="mdot")){e+=f[123];n={fe_bar_level:s.MC(b[82]),fe_bar_size:f[124],fe_is_affiliate:s.MC(b[85])&&s.MC(b[85]).is_hybrid,fe_no_tooltip:1,fe_site_type:s.MC(b[38])},i=o;(o=s.SV([{},{}])).unshift(n),e=r(e),o=s.SV(i),e+=f[62]}else if(s.MJ(s.MC(b[38])+""=="tdot")){e+=f[123];n={fe_bar_level:s.MC(b[82]),fe_bar_size:"small",fe_is_affiliate:s.MC(b[85])&&s.MC(b[85]).is_hybrid,fe_no_tooltip:1,fe_site_type:s.MC(b[38])},i=o;(o=s.SV([{},{}])).unshift(n),e=r(e),o=s.SV(i),e+=f[62]}e+=f[37]}e+=f[98]}return e+=[f[100],"",f[98]].join(""),_r_(e)}function r(e){_i_("65cb:29fdc4ab"),e+=["",f[99]].join(""),s.MJ(/\d+/.test(s.MB(b[70])))&&(e+=f[0],s.MN("fe_icon_width",s.MB(b[70])),e+=f[0],s.MN("fe_icon_height",s.MB(b[70])),e+=f[98]),e+=f[100],s.MK(s.MB(b[70]))&&(e+=f[0],s.MN("fe_bar_size","medium"),e+=f[98]),e+=f[101],s.MJ(s.MB(b[70])+""=="small")?(e+=f[0],s.MN("fe_icon_size","smaller"),e+=f[102]):s.MJ(s.MB(b[70])+""=="large")?(e+=f[0],s.MN("fe_icon_size","medium"),e+=f[102]):s.MK(s.MB(b[71]))&&(e+=f[0],s.MN("fe_icon_size","small"),e+=f[102]),e+=f[103],e+=[f[104],s.F.entities(s.MC(b[70])),f[105],s.F.entities(s.MC(b[42])),f[8]].join(""),e+=f[106],s.MK(s.MJ(s.MB(b[76])+""=="mdot")||s.MB(b[77]))&&(e+=f[0],s.MD(b[72])?e+=f[107]:(e+=f[108],s.MD(b[74])?e+=[f[109],(o.unshift({num_rating:s.MB(b[73])}),u=s.ME(f[110],s.MB,s.MN,null),o.shift(),u),f[111]].join(""):e+=[f[109],(o.unshift({b_companyname:s.MB(b[75]),end_bold:"</strong>",start_bold:"<strong>"}),u=s.ME(f[112],s.MB,s.MN,null),o.shift(),u),f[111]].join(""),e+=f[113]),e+=f[0]),e+=f[0],s.MD(b[78])&&(e+=[f[114],s.F.entities(s.MC(b[78])),f[115]].join("")),e+=f[0],s.MD(b[79])&&(e+=[f[116],s.F.entities(s.MC(b[79])),f[115]].join("")),e+=f[117];var t=_,n=r,i=a,r=s.seq(1,s.MB(b[73]))||[];o.unshift(null);for(var _=1,a=r.length;_<=a;_++)o[0]=r[_-1],e+=[(o.unshift({color:"#FEBB02",height:s.MB(b[80]),name:f[118],size:s.MB(b[81]),width:s.MB(b[71])}),u=s.HELPER("icon",o[0]),o.shift(),u),f[8]].join("");return o.shift(),_=t,r=n,a=i,e+=f[37],s.MD(b[72])&&(e+=f[119],s.MD(b[51])?e+=[f[76],s.F.entities("4px")].join(""):e+=[f[77],s.F.entities("4px"),f[78]].join(""),e+=[f[120],(o.unshift({color:"#6B6B6B",name:f[83],size:f[84]}),u=s.HELPER("icon",o[0]),o.shift(),u),f[121]].join("")),e+=[f[122],"",f[98]].join(""),_r_(e)}if(e+=f[0],e+=f[1],(s.MJ(s.MB(b[0]))||s.MJ(s.MB(b[1])))&&(e+=[f[2],s.F.entities(s.MC(b[0])?s.MC(b[0]):s.MC(b[1])),f[3]].join(""),s.MD(b[2])&&(e+=f[4]),e+=[f[5],(o.unshift({color:"#0071C2",name:f[6],size:f[7]}),u=s.HELPER("icon",o[0]),o.shift(),u),f[8]].join("")),e+=f[9],s.MD(b[3]))e+=[f[8],s.F.entities(s.MC(b[3])),f[8]].join("");else{e+=f[8];var n=s.MB(b[4]);if(s.MJ(n+""=="1"))e+=[s.ME(f[10],s.MB,s.MN,null),f[8]].join("");else if(s.MJ(n+""=="2"))e+=[s.ME(f[11],s.MB,s.MN,null),f[8]].join("");else if(s.MJ(n+""=="5"))e+=[s.ME(f[10],s.MB,s.MN,null),f[8]].join("");else if(s.MJ(n+""=="7"))e+=[s.ME(f[12],s.MB,s.MN,null),f[8]].join("");else{e+=f[8];n=s.MB(b[5]);s.MJ(n+""=="1")?e+=[s.ME(f[13],s.MB,s.MN,null),f[8]].join(""):s.MJ(n+""=="2")?e+=[s.ME(f[14],s.MB,s.MN,null),f[8]].join(""):s.MJ(n+""=="4")?e+=[s.ME(f[15],s.MB,s.MN,null),f[8]].join(""):s.MJ(n+""=="5")&&(e+=[s.ME(f[16],s.MB,s.MN,null),f[8]].join("")),e+=f[8]}e+=f[8]}e+=f[17],(s.MJ(s.MB(b[0]))||s.MJ(s.MB(b[1])))&&(e+=f[18]),e+=f[8],s.MJ(2==s.MB(b[4]))&&(e+=[f[19],s.ME(f[20],s.MB,s.MN,null),f[21]].join("")),e+=f[22];var i=s.MC(b[6])||[];o.unshift(null);for(var _=1,a=i.length;_<=a;_++){if(o[0]=i[_-1],e+=[f[23],s.F.entities(s.MC(b[7])),f[24]].join(""),s.MD(b[8])&&(e+=f[25]),e+=f[3],s.MD(b[2])&&(e+=f[4]),e+=[f[26],s.STATIC_HOSTNAME(s.MC(b[9]),0,0,0,0),f[27]].join(""),s.MJ(s.MC(b[10]))&&s.MJ(1==s.MB(b[11]))&&(e+=[f[28],s.F.entities(s.MC(b[10])),f[21]].join("")),e+=[f[29],s.F.entities(s.MC(b[12])),f[30]].join(""),s.MJ(1==s.MB(b[4]))||s.MJ(5==s.MB(b[4]))&&s.MJ(1==s.MB(b[88]))){if(e+=f[8],s.MN("fe_exp_bh_quality_class",s.MC(b[13])&&s.MJ(s.MC(b[13]).type+""=="tiles")),e+=f[8],s.MD(b[15])){e+=f[8],s.MN("fe_bh_squares_rating",s.MC(b[13])&&s.MC(b[13]).rating),e+=f[31];var c=_,l=i,d=a;i=s.seq(1,s.MB(b[14]))||[];o.unshift(null);for(_=1,a=i.length;_<=a;_++)o[0]=i[_-1],e+=f[32];o.shift(),_=c,i=l,a=d,e+=f[33]}else s.MD(b[16])?(e+=f[8],s.MN("class",s.MC(b[16])),e+=f[8],s.MN("class_is_estimated",s.MC(b[17])),e+=f[8],s.MN("cc1",s.MC(b[18])),e+=f[8],s.MD(b[86])&&(e+=f[8],o.unshift({b_common_cc1:s.MB(b[19]),b_common_class:s.MB(b[86]),b_common_class_is_estimated:s.MB(b[87])}),e=t(e),o.shift(),e+=f[8]),e+=f[8]):e+=f[125];e+=f[8]}e+=f[8],s.MJ(2==s.MB(b[11]))?(e+=[f[126],s.F.entities(s.MC(b[89])),f[127],s.F.entities(s.MC(b[90])),f[21]].join(""),s.MD(b[10])?(e+=f[8],s.MN(b[91],[f[128],s.F.entities(s.MC(b[10])),f[129]].join("")),e+=[f[130],(o.unshift({price:s.MB(b[91])}),u=s.ME(f[131],s.MB,s.MN,null),o.shift(),u),f[21]].join("")):e+=[f[132],s.ME(f[133],s.MB,s.MN,null),f[21]].join(""),e+=f[8],s.MJ(s.MB(b[92]))?e+=[f[134],s.MC(b[92]),f[21]].join(""):s.MJ(s.MB(b[93]))&&(e+=[f[134],s.MC(b[93]),f[21]].join("")),e+=f[8]):e+=[f[135],s.F.entities(s.MC(b[89])),f[127],s.F.entities(s.MC(b[90])),f[136]].join(""),e+=f[137]}return o.shift(),e+=f[8],(s.MJ(s.MB(b[0]))||s.MJ(s.MB(b[1])))&&(e+=[f[23],s.F.entities(s.MC(b[0])?s.MC(b[0]):s.MC(b[1])),f[138]].join(""),s.MD(b[8])&&(e+=f[139]),e+=f[3],s.MD(b[2])&&(e+=f[4]),e+=[f[140],(o.unshift({color:"#0071C2",name:f[141],size:f[142]}),u=s.HELPER("icon",o[0]),o.shift(),u),f[143]].join(""),s.MD(b[0])?e+=[f[8],s.ME(f[144],s.MB,s.MN,null),f[8]].join(""):e+=[f[8],s.ME(f[145],s.MB,s.MN,null),f[8]].join(""),e+=f[146]),e+=f[147],e+=f[98],_r_(e)})}()),B.define("component/acid-carousel",function(e,t,n){_i_("65cb:8f7f419c");var i=e("component"),d=e("utils/throttled"),u=e("jquery"),r=e("server-data"),_=e("jstmpl"),a=e("event-bus"),o=e("events"),f=e("et"),s=r.b_search_config||{},c=r.b_ufi||r.b_dest_id,l=r.b_checkin_date,b=r.b_checkout_date,h=r.b_currency_code||r.b_derived_currency,p=i.extend({init:function(){_i_("65cb:bad4759a"),this.filterAggregates=this.$el.get(0).getAttribute("data-fa"),this.type=+this.$el.data("type"),this.version=+this.$el.data("version"),this.layoutVersion=+this.$el.data("layout-version"),this.templateName=this.$el.data("templateName")||"acid_carousel",this.forBusiness=this.$el.data("business"),this.withShadow=this.$el.data("shadow"),this.inTheCityName=this.$el.data("in-city-name"),this.withTargetBlank=this.$el.data("target-blank"),this.optional=this.$el.data("optional"),this.nflt=this.$el.data("nflt"),12===this.type||16===this.type?this.loadOnDemand():this.load(!0),_r_()},load:function(){if(_i_("65cb:fdabe994"),this.loaded)return _r_();this.loaded=!0,u.post("/acid_carousel",{ufi:c,checkin:l,checkout:b,nr_rooms_needed:s.b_nr_rooms_needed,adults_total:s.b_adults_total,children_total:s.b_children_total,children_ages_total:s.b_children_ages_total&&s.b_children_ages_total.join(","),filter_aggregates:this.filterAggregates,currency:h,optional:this.optional,sb_travel_purpose:this.forBusiness?"business":"leisure",version:this.version,carousel_type:this.type,filters:this.nflt}).then(function(e){_i_("65cb:468f3e42"),this._initComponents(e),this._initOnViewTracking(e),o.emit(o.EVENTS.ACID_CAROUSEL_LOADED,{type:this.type,$container:this.$el,component:this,data:e}),_r_()}.bind(this)).fail(function(){}.bind(this)),_r_()},loadOnDemand:function(){var t;_i_("65cb:4ed5256f");var e=this.$el.offset();if(e&&e.top){var n=Math.round(e.top/2),i=u(window);i.on("scroll",t=d(function(){_i_("65cb:0ed9d315");var e=i.scrollTop();n<e&&(this.load(),i.off("scroll",t)),_r_()}.bind(this),100)),t()}_r_()},_initOnViewTracking:function(n){if(_i_("65cb:d186fcee"),(n=n||{}).b_has_data&&n.h){var i,r=this.$el.offset().top;if(!r)return _r_();var _=u(window),a=Math.round(r/2),o=!1,s=!1,c=!1,l=this.type;_.on("scroll",i=d(function(){_i_("65cb:87c99e4d");var e=_.scrollTop(),t=_.height();!o&&50<e&&16!==l&&(f.stage(n.h,7),o=!0),!s&&a<e&&(f.stage(n.h,8),s=!0),!c&&r<e+50+t&&(f.stage(n.h,9),c=!0,16===l&&-1===location.href.indexOf("ucfs=")&&f.stage(n.h,7)),o&&s&&c&&_.off("scroll",i),_r_()},100)),i()}_r_()},_initComponents:function(e){if(_i_("65cb:02810d33"),!(e=e||{}).b_hotels)return _r_();this.template=_(this.templateName),this.$el.show(),this.$el.html(this.template.render({hotels:e.b_hotels,traveler_type_id:e.b_traveler_type,show_more_url:e.b_show_more_url,show_all_url:e.b_show_all_url,title:e.b_title,version:this.version,layout_version:this.layoutVersion,type:this.type,with_shadow:this.withShadow,with_target_blank:this.withTargetBlank,in_city_name:this.inTheCityName})),window.BUI.initComponents(this.$el.get(0)),this._initHandlers(),_r_()},_initHandlers:function(){_i_("65cb:a53b52d4"),a.on(a.EVENTS.SR_AJAX_LOADING,function(e,t){_i_("65cb:0237d7a7"),"FILTER_VIEW_FILTER_CHANGE"!==t.id&&"FILTER_VIEW_SORT_CHANGE"!==t.id&&"SORT_CHANGE"!==t.id||this.$el.remove(),_r_()}.bind(this)),_r_()}});n.exports=p,_r_()}),B.require(["ga-tracker","et","jquery"],function(t,e,s){if(_i_("65cb:14a493de"),!t||!e||!s)return _r_();var n={},i=s("[data-ga-track-pob]").map(function(e,t){_i_("65cb:37815ba2");var n=s(t).data("ga-track-pob"),i=n.split("|"),r=i[0],_=i[1]||"Action",a=i[2]||"Label",o=parseInt(i[3],10)||1;return _r_({hash:n,category:r,action:_,label:a,value:o})}).get().reduce(function(e,t){if(_i_("65cb:66f9e756"),n[t.hash])return _r_(e);return n[t.hash]=1,e.push(t),_r_(e)},[]);t.pageviewIsTracked().then(function(){_i_("65cb:67955a68"),i.map(function(e){_i_("65cb:e2be2af9"),t.trackEvent(e.category,e.action,e.label,e.value),_r_()}),_r_()}),_r_()}),B.define("component/surveygizmo_survey",function(e,t,n){_i_("65cb:daa64d50");var i,r=e("component"),_=e("jquery"),a=e("jstmpl"),o=[],s={};try{s=JSON.parse(window.localStorage.getItem("survey_history"))||{}}catch(e){s={}}function c(e){_i_("65cb:e1d5a86c");try{s[e]=1,window.localStorage.setItem("survey_history",JSON.stringify(s))}catch(e){}_r_()}function l(){_i_("65cb:075f90b4"),i&&clearTimeout(i),i=setTimeout(function(){if(_i_("65cb:329ffc49"),0<o.length){var e=Math.floor(1e3*Math.random())%o.length;o[e].runSurvey()}_r_()},500),_r_()}n.exports=r.extend({init:function(){if(_i_("65cb:f821abd7"),this.title=this.$el.data("survey-title"),this.description=this.$el.data("survey-description"),this.survey_url=this.$el.data("survey-url"),this.invite_position=this.$el.data("survey-invite-position"),this.survey_url_base=this.survey_url.split("?")[0],s[this.survey_url_base]||o.push(this),B.env.b_check_ot_consent)if(_.cookie("OptanonAlertBoxClosed"))l();else{"us"===B.env.b_guest_country&&l();var e=["#onetrust-accept-btn-handler","#accept-recommended-btn-handler",".save-preference-btn-handler"].join(", ");_(document).one("click",e,function(){_i_("65cb:03694206"),setTimeout(function(){_i_("65cb:6805cf16"),_.cookie("OptanonAlertBoxClosed")&&l(),_r_()},700),_r_()})}else B.env.fe_may_set_marketing_cookies?l():B.env.fe_cookie_warning?B.eventEmitter&&"function"==typeof B.eventEmitter.on&&B.eventEmitter.on("ACCEPT_COOKIE_POLICY",function(){_i_("65cb:b27d0b96"),l(),_r_()}):B.eventEmitter&&"function"==typeof B.eventEmitter.on&&B.eventEmitter.on("COOKIE_CONSENT_PROVIDED",function(){_i_("65cb:dcec8cc3"),l(),_r_()});_r_()},runSurvey:function(){_i_("65cb:dfaedbcc");var e=this,t=this.$el,n=_(a("surveygizmo_survey_invite").render({title:e.title,description:e.description,survey_url:e.survey_url,invite_position:e.invite_position}));t.append(n),n.on("click",".js-surveygizmo-survey-cancel",function(){return _i_("65cb:76894af6"),n.addClass("surveygizmo-survey-invite--hidden"),c(e.survey_url_base),setTimeout(function(){_i_("65cb:fa934b29"),n.remove(),_r_()},200),_r_(!1)}),n.on("click",".js-surveygizmo-survey-ok",function(){return _i_("65cb:9aad9d4b"),n.remove(),c(e.survey_url_base),window.open(t.data("survey-url"),"_blank"),_r_(!1)}),setTimeout(function(){_i_("65cb:c3625f0c"),n.removeClass("surveygizmo-survey-invite--hidden"),_r_()},10),_r_()}}),_r_()}),booking.jstmpl("surveygizmo_survey_invite",function(){_i_("65cb:13314a1d");var i=['\n    <div class="surveygizmo-survey-invite surveygizmo-survey-invite--hidden surveygizmo-survey-invite--position-','">\n        \n        <div class="survey-container">\n            <div class="survey-image">\n                <img src="https://t-cf.bstatic.com/design-assets/assets/v3.79.0/illustrations-traveller/TravellerQuestion@2x.png" />\n            </div>\n            <div class="survey-content">\n                <div class="surveygizmo-survey-invite__title">','</div>\n                <div class="surveygizmo-survey-invite__description">','</div>\n                <div class="surveygizmo-survey-invite__buttons-wrapper">\n                    <a class="surveygizmo-survey-invite__button surveygizmo-survey-invite__button--primary js-surveygizmo-survey-ok">\n                        ',"/private/mlx_holidays_survey_popup_take/name",'\n                    </a>\n                    <a class="surveygizmo-survey-invite__button js-surveygizmo-survey-cancel">\n                        ',"/private/mlx_holidays_survey_popup_dismiss/name","\n                    </a>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n"],r=["invite_position","title","description"];return _r_(function(e){_i_("65cb:03135e4f");var t="",n=this.fn;return t+=[i[0],n.MC(r[0]),i[1],n.MC(r[1]),i[2],n.MC(r[2]),i[3],n.ME(i[4],n.MB,n.MN,null),i[5],n.ME(i[6],n.MB,n.MN,null),i[7]].join(""),_r_(t)})}()),B.when({events:"load"}).run(function(e){"use strict";_i_("65cb:d9963459");var n=e("et"),t=e("jquery"),i=e("server-data"),r=i.b_site_type,_="";"mdot"===r?_="MCIAFKKZUTPXMfAKFcFKCdJFAVDBcOOIBBO":"www"===r&&(_="MCIAFKKZUTPXMfAKFcFKCdJFAVDBccCcCcCC"),0<function(){_i_("65cb:fd2ef979");var t=0,e="www"===r?i.b_acc_type:i.b_accommodationtype_id.toString();i.b_hotel_chains&&i.b_hotel_chains.map(function(e){_i_("65cb:2f46f937"),1===e.b_adf_id&&(t=1),_r_()});if(t&&_&&!i.b_site_info.is_hybrid&&!i.b_site_info.is_cobrand&&-1<i.b_lang.indexOf("en")&&"us"===i.ip_country&&"us"===i.b_countrycode&&("204"===e||"206"===e))return _r_(n.track(_));return _r_(0)}()&&t("body").append('\x3c!-- Ethnio Activation Code --\x3e<script type="text/javascript" language="javascript" src="//ethn.io/61684.js" async="true" charset="utf-8"><\/script>'),_r_()}),B.define("component/tvalue/flights",function(e,t,n){_i_("65cb:ac29d15e");var i=e("component"),r=e("ga-tracker"),_=B.env.b_url_start||B.env.b_domain_for_app||window.location.origin,a={eligibility:_+"/xps/get",modalVisible:_+"/xps/view",modalDismissed:_+"/xps/dismiss"};n.exports=i.extend({init:function(){_i_("65cb:e9aeed65"),this.fetchData(),this.attachEvents(),_r_()},bindEvent:function(e,t,n,i){_i_("65cb:e3c87ab1");var r=this;e.on(n,t,function(e){_i_("65cb:797ef862"),i&&i.call(this,r,e),_r_()}),_r_()},attachEvents:function(){_i_("65cb:556600cd"),this.bindEvent($(document),"#flight-awareness-billy","click",this.onModalClicked),_r_()},fetchData:function(){_i_("65cb:a510fb93");var t=this;$.ajax({url:a.eligibility,method:"POST",dataType:"json",contentType:"application/json",xhrFields:{withCredentials:!0},data:this.getRequestData(),success:function(e){_i_("65cb:c67bdeb2"),t.checkEligibility(e),_r_()},error:function(e){}}),_r_()},getRequestData:function(){return _i_("65cb:a3c322d6"),_r_(JSON.stringify({placement_names:["modal"],page:"booking_com_"+B.env.b_action,language_code:B.env.b_lang||"en",dest_id:B.env.b_dest_id||null,hotel_id:B.env.b_hotel_id||null,affiliate_id:B.env.b_aid||null,label:B.env.b_label||null,checkin_date:B.env.b_checkin_date||null,checkout_date:B.env.b_checkout_date||null,guest_details:B.env.b_group||null,visitor_country:B.env.b_guest_country||null,utm_campaign:{utm_campaign:"ddot-booking_com_"+B.env.b_action+"-modal-flight-awareness_modal",utm_medium:"intra",utm_source:"flight_awareness_modal"}}))},checkEligibility:function(e){_i_("65cb:c5f5ff7b");var t=((e||{}).shelves_placements||{}).modal,n=null,i=null;Array.isArray(t)&&(n=(((i=(t[0]||{}).properties)||{}).cta||{}).action,this.cta=n&&n.target,this.showFlightModal(i)),_r_()},setFlightImages:function(e){if(_i_("65cb:ab7fe9e6"),!e)return _r_(!1);var t=e.company_logo_url,n=e.image_url;$("#tv-flight-awareness-logo").attr("src",t),$("#tv-flight-awareness-img").attr("src",n),_r_()},showFlightModal:function(e){if(_i_("65cb:f3772f04"),!window.BUI)return _r_(!1);var t=this,n=window.BUI.createInstance("Modal",null,{id:"flight-awareness-billy",onAfterClose:function(){_i_("65cb:0defac03"),t.onModalClose(event),_r_()},onAfterOpen:function(){_i_("65cb:10cfe821"),t.paintFlightsModal(e),t.onModalOpen(),_r_()}});n.mount(),n.open(),this.mobileModalFix(n),$(n.contentWrapper).loadComponents(),_r_()},mobileModalFix:function(e){if(_i_("65cb:79ab54f3"),!e.getModalRoot&&"mdot"!==B.env.b_site_type)return _r_(!1);var t=((e||{}).overlayInstance||{}).overlayEl;t&&$(t).addClass("mdot-flights-awareness-modal"),_r_()},paintFlightsModal:function(e){_i_("65cb:70fe886c"),this.setFlightImages(e),this.setFlightsText(e),this.setFlightsURL(e),_r_()},setFlightsText:function(e){_i_("65cb:f9514a87");var t=e.title,n=e.description,i=((e||{}).cta||{}).title,r="";$("#tv-flight-awareness-title").html(t),$("#tv-flight-awareness-desc").html(n),$("#tv-flight-awareness-cts").html(i),Array.isArray(e.USP)&&(e.USP.forEach(function(e){_i_("65cb:d3e9cda9"),r+=B.jstmpl("b_flight_awareness_benefits").render({b_flight_awareness_benefit:e}),_r_()}),$("#tv-flight-awareness-benfits-list").append(r)),_r_()},setFlightsURL:function(){_i_("65cb:f4bdd42c"),$(".flight-cta-flaw")[0].href=this.cta,_r_()},onModalOpen:function(){_i_("65cb:e6977c70"),this.trackImpressions(),this.setBEViewTracking(),_r_()},onModalClicked:function(e,t){_i_("65cb:19caeab0"),t.stopPropagation(),_r_()},trackImpressions:function(){_i_("65cb:242b8021"),r.ecommerceAddPromo("flights","flights_awareness_modal","modal","0"),_r_()},onModalClose:function(e){_i_("65cb:150eea7a");var t=$(e.currentTarget);if(t&&t.is(".flight-cta-flaw"))return _r_(!1);this.setBEDismissTracking(),_r_()},setBEViewTracking:function(){_i_("65cb:9bc72b4e"),$.ajax({url:a.modalVisible,method:"POST"}),_r_()},setBEDismissTracking:function(){_i_("65cb:d123bb9d"),$.ajax({url:a.modalDismissed,method:"POST"}),_r_()}}),_r_()}),B.when({events:"ready",action:"hotel"}).run(function(e){_i_("65cb:7008d334");var _=e("et"),t=e("jquery"),a="EKVMeIJBKDSWefUMVBFUZYTMWQeHT",o=t("#hotel-photos"),n=t(document),s=!1,i=!1,c=[];if(!o.length)return _r_(!0);function l(e){if(_i_("65cb:b6a06b6e"),o.off("touchmove.aa_exp"),!s)return _r_(!0);o.off("touchstart.aa_exp.zoom"),n.off("touchend.aa_exp.zoom"),_r_()}function d(e){_i_("65cb:71b30c3b");var t=e.originalEvent||{},n=t.touches||t.changedTouches||[],i=((n[0]||{}).pageX||0)-((c[0]||{}).pageX||0),r=((n[0]||{}).pageY||0)-((c[0]||{}).pageY||0);70<Math.abs(Math.sqrt(i*i+r*r))&&(s=!0,l(),_.customGoal(a,2)),_r_()}_.stage(a,1),o.on("touchstart.aa_exp.zoom",function(e){if(_i_("65cb:87793d0a"),s)return _r_(!0);var n,i,r,t=e.originalEvent||{};1<Math.max((t.touches||[]).length,(t.changedTouches||[]).length)&&(c=t.touches||t.changedTouches||[],o.on("touchmove.aa_exp",(n=d,i=5,_i_("65cb:30e5d9d7"),_r_(function(){_i_("65cb:2071f3ce");var e=this,t=arguments;clearTimeout(r),r=setTimeout(function(){_i_("65cb:d43ea598"),n.apply(e,t),_r_()},i),_r_()})))),_r_()}),o.on("touchend.aa_exp.double",function(){_i_("65cb:ee8ebeb7"),i&&(o.off("touchend.aa_exp.double"),_.customGoal(a,1)),i=!0,setTimeout(function(){_i_("65cb:d6b27524"),i=!1,_r_()},500),_r_()}),n.on("touchend.aa_exp.zoom",l),_r_()}),B.when({events:"ready",condition:"hotel"===B.env.b_action&&B.env.fl_bhgwe_do_you_agree}).run(function(e){_i_("65cb:f43565c1");var t=e("jquery"),n=t("#bhgwe-feedback-loop"),i=n.data("fl-poll"),r=n.data("fl-property-type-ml"),_={poll:i,hotel_id:B.env.b_hotel_id,action:B.env.b_action,property_type_ml:r};n.on("click",".bhgwe-feedback-loop__button:not(.bhgwe-feedback-loop__button--submit)",function(e){_i_("65cb:846b99f7"),e.preventDefault(),e.stopPropagation(),function(e){_i_("65cb:366cc214");var t=e.data("fl-name");e.is("button")?_[t]=e.data("fl-value"):_[t]=e.val(),_r_()}(t(this)),t(".bhgwe-feedback-loop__button").attr("disabled","disabled"),t.ajax({url:"/receive_content_feedback",method:"post",data:_}),_i_("65cb:4cd7d6b7"),t("#bhgwe-feedback-loop").addClass("bui-u-hidden"),t(".bhgwe-feedback-loop__thank-you").removeClass("bui-u-hidden"),_r_(),_r_()}),_r_()}),function(e){"use strict";_i_("65cb:bc3407ad"),e.when({events:"ready"}).run(function(e){_i_("65cb:893e1239");var t=e("et"),n=e("jquery");n(".hp_location_block__wrapper").on("click",".bui-tab__link",function(){_i_("65cb:22013856"),t.customGoal("cJaDDSSCaIfWcNfaYYfPHe",1),4==n(this).data("tabId")&&t.customGoal("cJaDDSSCaIfWcNfaYYfPHe",2),_r_()}),_r_()}),_r_()}(window.booking),B.define("component/trip-types/scroll-to-tag",function(e,t,n){_i_("65cb:e3c39a0d");var i=e("jquery");n.exports=B.require("component").extend({init:function(){_i_("65cb:bfc25c23"),this.data=this.$el.data(),this._validate()&&this.$el.on("click",this._handleClick.bind(this)),_r_()},_validate:function(){if(_i_("65cb:db00a892"),this.data.shifting?this.data.shifting=parseInt(this.data.shifting):this.data.shifting=0,!this.data.scroll_to)return _r_(!1);if(this.$scroll_to=i(this.data.scroll_to),!this.$scroll_to.length)return _r_(!1);return _r_(!0)},_handleClick:function(){_i_("65cb:72c6ee09");var e=this.$scroll_to.offset().top+this.data.shifting;i("html, body").animate({scrollTop:e},1e3),_r_()}}),_r_()}),_i_("65cb:b8045cc6"),B.when({action:"hotel",events:"ready"}).run(function(o){_i_("65cb:02f8e516");var s=o("jquery"),e=o("with-capla"),n=o("sliding-view-model"),c=o("server-data"),i=o("c360Tracker"),r="CAPLA_EVENT_property-web-property-page_OPEN_SKI_PANEL",_="CAPLA_EVENT_property-web-property-page_BEACH_OPEN_MAP",a="CAPLA_EVENT_property-web-property-page_OPEN_BEACHES_PANEL",l="CAPLA_EVENT_property-web-property-page_OPEN_BEACH_REVIEW";function d(e,t){_i_("65cb:53de3bf3"),this.sliding_view_model=n.get(e.panel),s.extend(t,e),this.sliding_view_model.show(t),_r_()}e("property-web","property-page",function(e){_i_("65cb:ecc5061a");var t=e.eventBus;t.subscribe(r,function(e,t){_i_("65cb:e99d2914"),d({panel:"ski_overview_panel",target:t.target},{resort_id:t.skiResortId,dest_title:t.resortName}),_r_()}),t.subscribe(a,function(e,t){var n;_i_("65cb:4a2460ad"),d({panel:"explore_beaches_panel",target:t.target},{dest_id:t.id,dest_title:t.title}),n={page_details:{page:B.env.b_action,travel_destination:{destination_id:Number(t.id),destination_type:"geoobject",destination_trip_type:"beach"}},trip_type_poi:{geo_object_id:Number(t.id),geo_object_type:"beach"}},_i_("65cb:c55878bc"),i.track({action_name:"trip_types.trip_types_panel_opened",action_version:"3.0.x",content:n}),_r_(),_r_()}),t.subscribe(l,function(e,t){_i_("65cb:f30b8893");var n=o("hotel/reviews"),i={en:251,fr:111,nl:189,it:143,ru:206,zh:27,de:40},r=i[B.env.b_lang]||i.en;if("mdot"===c.b_site_type){var _=o("tabbed-nav");n.load({topics:[r],offset:0}),_.activateTab("htReviews",s(),{})}else{var a=o("hotel/review-list");a.scrollToPlaceholderOnce=!0,a.isInit||(a.isInit=!0),n.load({topics:[r],offset:0}),B.events.trigger("open-tab",{tab:"reviews"})}_r_()}),t.subscribe(_,function(e,t){_i_("65cb:9c992853"),"mdot"===c.b_site_type&&B.require("tabbed-nav").activateTab("htMap",s(),{isTabFullScreen:!0}),_r_()}),_r_()})(),_r_()}),_r_(),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:a54e17ee");var i,r,_=e("jquery"),t=e("async-loader"),a={zoomEl:!1,loop:!1,shareEl:!1,captionEl:!1,fullscreenEl:!1,errorMsg:'<div class="pswp__error-msg"></div>',barsSize:{top:0,bottom:"auto"},bgOpacity:1,allowPanToNext:!0};function o(e,t){_i_("65cb:860f81a0");var n=_(".js-pswp-swimmingpool-gallery-fullscreen-template");window.PhotoSwipe&&n.length&&((i=new window.PhotoSwipe(n.get(0),window.PhotoSwipeUI_Default,e,a)).options.index=0<t?t-1:0,i.listen("gettingData",s),i.init()),_r_()}function s(e,t){_i_("65cb:f7edf4921");var n=this;if(t.w<1||t.h<1){var i=new Image;i.onload=function(){_i_("65cb:da3832751"),t.w=this.width,t.h=this.height,n.invalidateCurrItems(),n.updateSize(!0),_r_()},i.src=t.src}_r_()}_i_("65cb:96e0d60e"),t.load({js:"async_photoswipe_js",css:"async_photoswipe_css"}).then(function(){_i_("65cb:0ce0ee431"),r&&o(),_r_()}),_("body").on("click",".js-open-pool-trigger",function(e){_i_("65cb:e3e06627"),r=!0;var t=_(e.target),n=t.closest(".swimming-pool-carousel").find(".js-open-pool-trigger");0<n.size()&&o(function(e){_i_("65cb:1fa3a17a1");var t=e.map(function(){_i_("65cb:9342dde81");var e=_(this).data();return _r_({src:e.photosLargeSrc,msrc:e.photosSrc,w:0,h:0})}).get();return _r_(t)}(n),t.data("photos-index")),_r_()}),_r_(),_r_()}),b.env.scripts_tracking.hotel.run=1,B.define("component/seo/breadcrumbs/component",function(e,t,n){_i_("65cb:391296e8");var i=e("component/fragment");n.exports=i.extend({init:function(){_i_("65cb:096ec802");var e=B.env.b_bcrumbs_context;this.fragmentArgs=Object.assign({},this.fragmentArgs,{b_bcrumbs_context:e}),i.prototype.init.call(this),_r_()},fragmentAfterRender:function(){_i_("65cb:8859c2c4");var e=document.querySelector("#breadcrumb--multi_product_init");window.BUI&&!window.BUI.getInstance(e)&&window.BUI.createInstance("Accordion",e).mount();_r_()}}),_r_()}),B.when({action:"hotel",events:"ready",experiment:"IaaVGGeaYPZZXeMFJKeKe",condition:document.querySelector(".m_hp_rt_room_card__bundle")}).run(function(e){_i_("65cb:0565882b");var c=e("jquery"),t={hotel_id:B.env.b_hotel_id,aid:B.env.b_aid,lang:B.env.b_selected_language};function l(e){_i_("65cb:d93818b1");for(var t=[],n=0;n<e.services.length;n++)t=t.concat(e.services[n].photos.allPhotos);return _r_(t.filter(function(e){return _i_("65cb:5fab9c34"),_r_(e&&e.url)}))}c(".m_hp_rt_room_card__bundle").addClass("m_hp_rt_bundle_disabled"),c.ajax({url:"/bundle_services",data:t,success:function(e){if(_i_("65cb:44bff21a"),!e.bundle_service_mapping)return _r_();for(var t in e.bundle_service_mapping){var n=c("#bundle_service_modal_"+t);if(n.length){var i=e.bundle_service_mapping[t],r=parseFloat(n.attr("data-vector-id")),_=0,a=0,o=0;16&r&&(_=1),4&r&&(a=1),1&r&&(o=1),i.has_breakfast==o&&i.has_lunch==a&&i.has_dinner==_||B&&B.reportError&&B.reportError(new Error("We are displaying a conflicting bundle/mealplan vector combination"),"Bundle Error",{b_hotel_id:B.env.b_hotel_id,bundle_id:t,checkin:B.env.b_checkin_date,checkout:B.env.b_checkout_date});var s=B.jstmpl("bundle_service_modal").render({fe_bundle_id:t,fe_bundle:i,fe_photos:l(i)});n[0].innerHTML=s,c(".m_hp_rt_room_card__bundle").removeClass("m_hp_rt_bundle_disabled")}}_r_()}}),_r_()}),booking.jstmpl("bundle_service_modal",function(){_i_("65cb:f6b523c7");var M,v=['\n    <hr class="bui-divider bui-divider--light" />\n    <div class="bui-modal__body bui-modal__body--primary">\n        ','\n            <div class="m_hp_rt__bundle_service_detail">\n                <div>\n                    <span class="m_hp_rt__service_popup_bundle_name">','</span>\n                    <div class="bui-media-slider" data-bui-component="MediaSlider">\n                        <div class="bui-media-slider__inner">\n                            <ul class="bui-media-slider__items" data-bui-ref="media-slider-container">\n                                ','\n                                    <li class="bui-media-slider__item" data-bui-ref="media-slider-item">\n                                        <div class="bui-media-slider__content" style="background-image:url(',')"></div>\n                                    </li>\n                                ','\n                            </ul>\n                            <div class="bui-scrim bui-scrim--centered bui-scrim--position-start bui-media-slider__scrim bui-media-slider__scrim--start">\n                                <div class="bui-scrim__content">\n                                    <button class="bui-media-slider__control" data-bui-ref="media-slider-prev">\n                             <span role="presentation" class="bui-icon bui-media-slider__icon bui-icon--medium">\n                               <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                                 <path d="M14.55 18a.74.74 0 0 1-.53-.22l-5-5A1.08 1.08 0 0 1 8.7 12a1.1 1.1 0 0 1 .3-.78l5-5a.75.75 0 0 1 1.06 0 .74.74 0 0 1 0 1.06L10.36 12l4.72 4.72a.74.74 0 0 1 0 1.06.73.73 0 0 1-.53.22zm-4.47-5.72zm0-.57z"></path>\n                               </svg>\n                             </span>\n                                    </button>\n                                </div>\n                            </div>\n                            <div class="bui-scrim bui-scrim--centered bui-scrim--position-end bui-media-slider__scrim bui-media-slider__scrim--end">\n                                <div class="bui-scrim__content">\n                                    <button class="bui-media-slider__control" data-bui-ref="media-slider-next">\n                             <span role="presentation" class="bui-icon bui-media-slider__icon bui-icon--medium">\n                               <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                                 <path d="M9.45 6a.74.74 0 0 1 .53.22l5 5a1.08 1.08 0 0 1 .32.78 1.1 1.1 0 0 1-.32.78l-5 5a.75.75 0 0 1-1.06 0 .74.74 0 0 1 0-1.06L13.64 12 8.92 7.28a.74.74 0 0 1 0-1.06.73.73 0 0 1 .53-.22zm4.47 5.72zm0 .57z"></path>\n                               </svg>\n                             </span>\n                                    </button>\n                                </div>\n                            </div>\n                            <div class="bui-scrim bui-scrim--centered bui-scrim--position-bottom">\n                                <div class="bui-scrim__content">\n                                    <div data-bui-ref="media-slider-progress" class="bui-pagination-indicator bui-pagination-indicator--light"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div>\n                    ','\n                        <div class="m_hp_rt__service_popup_meal_container">\n                            ','\n                            <span class="m_hp_rt__service_popup_meal_name">',"</span>\n                        ",'\n                        <ul class="m_hp_rt__service_popup_meal_list">\n                            ',"\n                            ","\n                            <li>\n                                ",":\n                                ","\n                                ","/private/hp_magic_review_separator/name","\n                                    ","\n                    ","\n                </li>\n                ","\n                ","\n                        <li>","</li>\n                ","\n                         <li>","\n                    <li>","\n                <li>","</li>\n            ","\n        ","\n        </ul>\n        </div>\n        ","\n        </div>\n            </div>\n        ",'\n    </div>\n    <hr class="bui-divider bui-divider--light" />\n'],g=["fe_bundle_id","fe_bundle","fe_photos","content_translation_tag","content","content_type","detail_translation_tag"];return _r_(function(e){_i_("65cb:43a50e7f");var t="",n=this.fn;if(t+=v[0],n.MJ(M=n.MC(g[0])&&n.MC(g[1]))&&!n.IS_EMPTY_OBJECT(M)){e.unshift(M),t+=[v[1],n.F.entities((n.MC(g[1])||{}).bundle_name),v[2]].join("");var i=n.MC(g[2])||[];e.unshift({service_image:null});for(var r,_=1,a=i.length;_<=a;_++)e[0].service_image=r=i[_-1],t+=[v[3],n.STATIC_HOSTNAME(r.url,0,0,0,0),v[4]].join("");e.shift(),t+=v[5];i=(n.MC(g[1])||{}).services||[];e.unshift({fe_bundle_service:null});var o;for(_=1,a=i.length;_<=a;_++){e[0].fe_bundle_service=o=i[_-1],t+=v[6],n.MJ(o)&&n.MJ(o.details)&&n.MJ(o.details.meal_name)&&(t+=[v[7],n.F.entities(o.details.meal_name.content),v[8]].join("")),t+=v[9];var s=_,c=i,l=a,d=u;i=o.details_keys||[];e.unshift({service_detail_type:null});var u;for(_=1,a=i.length;_<=a;_++){if(e[0].service_detail_type=u=i[_-1],t+=v[10],n.MJ(o.details[u].type+""=="grouped")){t+=[v[11],n.F.entities(o.details[u].header_translation),v[12]].join("");var f=_,b=i,h=a,p=m;i=o.details[u].content_translation||[];e.unshift({content:null});var m;for(_=1,a=i.length;_<=a;_++)e[0].content=m=i[_-1],t+=v[13],n.MJ(m.translation_tag)&&n.MJ(-1==n.index(m.content_type,"serving_time"))?(t+=v[13],n.MN("content_translation_tag",m.translation_tag),t+=[v[13],n.F.entities(n.MC(g[3]))].join(""),n.MJ(_!=i.length)&&(t+=n.ME(v[14],n.MB,n.MN,null)),t+=v[15]):n.MJ(m.content)&&(t+=[v[15],n.F.entities(m.content)].join(""),n.MJ(_!=i.length)&&(t+=n.ME(v[14],n.MB,n.MN,null)),t+=v[13]),t+=v[16];e.shift(),_=f,i=b,a=h,m=p,t+=v[17]}else n.MJ(u+""!="meal_name")&&(t+=v[18],n.MN("detail_translation_tag",o.details[u].translation_tag),t+=v[18],n.MN("content_type",o.details[u].content_type),t+=v[18],n.MN("content",o.details[u].content),t+=v[18],n.MJ(-1!=n.index(n.MB(g[5]),"kids_menu"))&&n.MJ(n.MB(g[4]))?t+=[v[19],n.F.entities(n.MC(g[4])),v[20]].join(""):n.MJ(-1!=n.index(n.MB(g[5]),"vegetarian_menu"))&&n.MJ(n.MB(g[4]))?t+=[v[21],n.F.entities(n.MC(g[4])),v[20]].join(""):n.MJ(n.MB(g[6]))&&n.MJ(-1==n.index(n.MB(g[6]),"serving_time"))&&n.MJ(-1==n.index(n.MB(g[6]),"[dev]"))?t+=[v[22],n.F.entities(n.MC(g[6])),v[20]].join(""):n.MJ(o.details[u].content)&&n.MJ(o.details[u].content+""!="1")&&(t+=[v[23],n.F.entities(o.details[u].content),v[24]].join("")),t+=v[25]);t+=v[25]}e.shift(),_=s,i=c,a=l,u=d,t+=v[26]}e.shift(),t+=v[27],e.shift()}return t+=v[28],_r_(t)})}()),B.define("component/chains/bundle_explainer",function(e,t,n){_i_("65cb:08b64a86");var u=e("server-data"),i=e("component/reactive"),f=e("hotel/roomstable/bundles/helpers");n.exports=i.extend({template:"bundle_explainer",initialize:function(){_i_("65cb:ca338d73");var e=this.$el.data("explainerId")||null,t=this.$el.data("roomTypeId")||null,n=this.$el.data("bundleId")||null,i=this.$el.data("hideMeals")||null,r=this.$el.data("isBp")||null,_=this.$el.data("mealplan")||null;if(!e||!t||!n){var a="You should pass explainerId, roomTypeId and bundleRateId to render Bundle Explainer component";B.reportError&&B.reportError(new Error(a),a)}var o=this.$el.data("displayCta")||null,s=this.$el.data("hasModal")||null,c=u.bundle_service_mapping&&u.bundle_service_mapping[n],l=f.getUnitTypeFromRoomTypeId(t),d=u.b_action;this.setState({explainerId:e,bundleId:n,isCtaVisible:o,bundleInformation:c,unitType:l,roomTypeId:t,hasModal:s,blocksById:u.b_blocks_by_id,feHideMeals:i,isBp:r,mealplan:_,actionName:d}),this.initModal(e),_r_()},initModal:function(e){_i_("65cb:bc7a004a");var t=$("#"+e);window.BUI.initComponents(t[0]),_r_()},getInnerState:function(){return _i_("65cb:ddde5c51"),_r_(this.__state)}}),_r_()}),booking.jstmpl("bundle_explainer",function(){_i_("65cb:73b416c1");var r,v=["\n\n","\n    ",'\n\n    \n    <div\n        data-component="chains/bundle_explainer"\n        class="rt-bundle-explainer"\n        data-explainer-id="','"\n        data-bundle-id="','"\n        data-room-type-id="','"\n        data-display-cta="','"\n        data-has-modal="','"\n        data-hide-meals="','"\n        data-action-name="','"\n        data-is-bp="','"\n        data-mealplan="','"\n    >\n        ',"\n        ","\n            ","\n                ",'\n                    <button\n                        type="button"\n                        data-modal-id="bundle-explainer-',"-",'"\n                        data-bui-component="Modal"\n                        ','\n                            data-modal-full-screen="true"\n                        ','\n                        class="bui-button bui-button--tertiary js-bundle-explainer-trigger"\n                        on:click="trackMoreInformationClicked"\n                    >\n                        <span class="bui-button__text">\n                            ',"/private/chains_rt_bundle_rates_info_cta/name","\n                        </span>\n                    </button>\n                ",'\n\n                <template id="bundle-explainer-','">\n                    <div class="bui-modal__body bui-modal__body--primary" role="document" tabindex="0">\n                        ',"\n\n    ","\n\n\n    \n\n    ","bui-f-font-featured","room-details-item-header u-margin-top:8","bui-spacer--medium",'\n        <div class="bui-spacer--large bundle-explainer__title">\n            <p class="bui-f-font-featured">\n                ',"\n                    ","/private/chains_br_rt_header/name","/private/chains_rt_bundle_rates_included_header/name","\n            </p>\n        </div>\n    ","\n            \n            ",'\n            <p class="','">',"/mealplan_vector/optional_extras_mealplan/name","</p>\n            ","\n        \n        ","/instay_addons_fine_print/fine_print_1/breakfast","\n\n        \n        ","/instay_addons_fine_print/fine_print_1/lunch","/instay_addons_fine_print/fine_print_1/dinner","/instay_addons_fine_print/fine_print_1/breakfast_and_lunch","/instay_addons_fine_print/fine_print_1/breakfast_and_dinner","/instay_addons_fine_print/fine_print_1/all_meals","\n\n        ",'\n                <ul class="'," bui-list bui-list--unordered "," bui-spacer"," ",'">\n            ','\n            <li class="bui-list__item">\n                <span class="bui-f-font-body">\n                    ',"\n                </span>\n            </li>\n            ","\n                </ul>\n            ",'\n            <p class="bui-spacer">',"</p>\n        ","\n        \n\n        ",'\n            <div class="bui-group__item">\n                ','\n                    <div class="bui-text bui-text--variant-strong_1 bui-spacer--medium">\n                        ',"\n                    </div>\n                ","\n\n                ",'\n                    <ul class="bui-list bui-list--unordered">\n                        ','\n                            <li class="bui-list__item ',"bui-spacer--small",'">\n                                <span class="bui-text bui-text--variant-body_2">\n                                    ',"","\n","/{fe_fp_group}/{fe_fp_element}/{fe_fp_name}","\n                                </span>\n                            </li>\n                        ","\n                    </ul>\n                ",'\n                    <div class="bui-group">\n                        ','\n                            <div class="bui-group__item">\n                                <div class="bui-text bui-text--variant-body_2">\n                                    ',"\n                                </div>\n                            </div>\n                        ","\n            </div>\n        ",'\n                <p class="','">\n                    ',"\n                </p>\n            ","\n\n            ","\n                        ",'\n                            <ul class="','">\n                        ','\n                        <li class="bui-list__item">\n                            <span class="bui-f-font-body">\n                                ',"\n                            </span>\n                        </li>\n                        ","\n                            </ul>\n                        ",'\n                        <p class="bui-spacer '," bundle-explainer__text--title_skipped","</p>\n                    ",'\n                        <p class="bui-spacer">\n                            <span class="bui-text bui-text--variant-small_2 bui-text--color-neutral_alt">\n                                ',"/private/chains_br_addons_fine_print_parking_and_spa/name","\n                            </span>\n                        </p>\n                    "," bui-list bui-list--unordered bui-spacer ",'\n                        <li class="bui-list__item">\n                            <span class="bui-text bui-text--variant-small_2 bui-text--color-neutral_alt">\n                                ','\n                <p class="bui-text bui-spacer bui-text--variant-small_2 bui-text--color-neutral_alt">\n                    ',"/instay_addons_fine_print/fine_print_3/general_fine_print",'\n            <span class="bui-text bui-text--variant-small_2 bui-text--color-neutral_alt">\n                ',"\n            </span>\n        ",'\n        <div class="bui-group__item">\n            <div class="bui-group bui-spacer--medium">\n                <div class="bui-group__item">\n                    <div class="bui-text bui-text--variant-small_1 bui-text--color-neutral_alt">\n                        ',"/instay_addons_fine_print/fine_print_1/general_fine_print",'\n                    </div>\n                </div>\n                <div class="bui-group__item">\n                    <div class="bui-text bui-text--variant-small_1 bui-text--color-neutral_alt">\n                        ',"/instay_addons_fine_print/fine_print_2/general_fine_print","\n                    </div>\n                </div>\n            </div>\n        </div>\n    ",'\n            <hr class="bui-divider bui-spacer--medium" />\n        ','\n        <p class="bui-text bui-text--variant-small_2 bui-text--color-neutral_alt">\n            ',"/private/chains_br_addons_fine_print_general_1/name","\n        </p>\n    ",'\n        <p class="bui-text bui-text--variant-small_1 bui-text--color-neutral_alt">\n            ','\n        </p>\n        <p class="bui-text bui-text--variant-small_1 bui-text--color-neutral_alt">\n            ',"\n                    </div>\n                </template>\n            ","1","\n    </div>\n\n"],g=["explainerId","bundleId","roomTypeId","isCtaVisible","hasModal","feHideMeals","actionName","isBp","mealplan","bundle_information","fe_rate_title_classes","action_name","fe_rate_content_classes","fe_is_inlined","fe_is_conditions_modal","mealplan_text","fe_mealplan_name","fe_mealplan_vector","__is_last__","__is_first__","meals_counter","is_bp","blocks_by_id","block_id","mealplan_title","fe_hide_meals","fe_bundle_information","previous_service","skip_title","fineprint_counter","fe_bundle_rates_use_title","fe_service_fineprints","fe_fineprint","fe_fp_be_variables","fe_unit_type","fe_fp_variables","fe_fp_name","fe_bundle_rates_use_list","fe_display_general_fine_print_3","fe_fp_copy","fe_service_disclaimer","b_block_id","blocksById","bundleInformation","unitType"];return _r_(function(h){_i_("65cb:9303da9f");var e,t,n="",p=this.fn;function m(e){return _i_("65cb:488e367c"),e+=v[24],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=v[1],e+=[v[0],"",v[68]].join(""),p.MJ(p.MB(g[35]))&&(p.MJ(p.MB(g[36])+""=="self_parking")||p.MJ(p.MB(g[36])+""=="valet_parking")||p.MJ(p.MB(g[36])+""=="food_drink_credit")||p.MJ(p.MB(g[36])+""=="food_drink_credit_per_stay")||p.MJ(p.MB(g[36])+""=="property_credit")||p.MJ(p.MB(g[36])+""=="property_credit_per_stay"))?(e+=v[1],p.MJ(p.MB(g[33]))&&p.MJ(p.MC(g[33]).num_credit)?e+=[v[12],(h.unshift({num_credit:p.MG((p.MC(g[33])||{}).num_credit),unit_type:p.MB(g[34])}),r=p.ME(v[69],p.MB,p.MN,null),h.shift(),r),v[1]].join(""):e+=[v[12],(h.unshift({unit_type:p.MB(g[34])}),r=p.ME(v[69],p.MB,p.MN,null),h.shift(),r),v[1]].join("")):(e+=v[1],p.MJ(p.MB(g[33]))&&p.MJ(p.MC(g[33]).num_credit)?e+=[v[12],(h.unshift({num_credit:p.MG((p.MC(g[33])||{}).num_credit)}),r=p.ME(v[69],p.MB,p.MN,null),h.shift(),r),v[1]].join(""):e+=[v[12],p.ME(v[69],p.MB,p.MN,null),v[1]].join("")),e+=v[68],e+=[v[68],"",v[68]].join(""),_r_(e)}function M(e){if(_i_("65cb:196f7b29"),e+=v[67],p.MJ(p.MG((p.MC(g[32])||{}).text)))e+=[v[67],p.F.entities((p.MC(g[32])||{}).text),v[67]].join("");else{e+=v[67];var t={fe_fp_be_variables:p.MG((p.MC(g[32])||{}).variables),fe_fp_element:p.MG(((p.MC(g[32])||{}).tag||{}).element),fe_fp_group:p.MG(((p.MC(g[32])||{}).tag||{}).group),fe_fp_name:p.MG(((p.MC(g[32])||{}).tag||{}).name),fe_fp_variables:p.MG((p.MC(g[32])||{}).fe_variables),fe_unit_type:p.MB(g[34])},n=h;(h=p.SV([{},{}])).unshift(t),e=m(e),h=p.SV(n),e+=v[67]}return e+=v[67],_r_(e)}function i(e){if(_i_("65cb:4f173c7a"),e+=[v[0],"",v[24]].join(""),e+=v[24],e+=v[25],p.MN(g[10],v[26]),e+=v[1],p.MJ(p.MB(g[11])+""!="confirmation")&&(e+=v[12],p.MN("fe_rate_title_classes",p.MB(g[10])+" bui-spacer--medium"),e+=v[1]),e+=v[1],p.MN(g[12],void 0),e+=v[24],p.MD(g[13])?(e+=v[12],p.MN(g[10],v[27]),e+=v[12],p.MJ(p.MB(g[11])+""!="confirmation")&&(e+=v[13],p.MN("fe_rate_title_classes",p.MB(g[10])+" bui-spacer--medium"),e+=v[12]),e+=v[12],p.MN(g[12],v[28]),e+=v[1]):p.MK(p.MB(g[14]))&&(e+=v[29],p.MJ(p.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))?e+=[v[30],p.ME(v[31],p.MB,p.MN,null),v[14]].join(""):e+=[v[30],p.ME(v[32],p.MB,p.MN,null),v[14]].join(""),e+=v[33]),e+=v[24],(p.MJ(p.MB(g[23]))&&p.MJ(p.MB(g[22]))&&p.MJ(p.MC(g[22])[p.MC(g[23])].b_mealplan_message_short)||p.MJ(p.MB(g[21]))&&p.MJ(p.MB(g[8])))&&p.MK(p.MB(g[25]))&&p.MJ(p.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))){if(e+=v[12],p.MJ(p.MB(g[21]))&&p.MJ(p.MB(g[8])))e+=v[34],p.MN("fe_mealplan_name",p.MB(g[8])),e+=[v[35],p.F.entities(p.MC(g[10])),v[36],p.ME(v[37],p.MB,p.MN,null),v[38]].join(""),_=e,_i_("65cb:19edf4b8"),_+=v[39],(p.MJ(p.MB(g[16])+""=="breakfast")||p.MJ(1==p.MB(g[17]))||p.MJ(9==p.MB(g[17]))||p.MJ(33==p.MB(g[17]))||p.MJ(41==p.MB(g[17])))&&(_+=v[13],p.MN(g[15],p.ME(v[40],p.MB,p.MN,null)),_+=v[12]),_+=v[41],(p.MJ(p.MB(g[16])+""=="lunch")||p.MJ(4==p.MB(g[17]))||p.MJ(6==p.MB(g[17]))||p.MJ(36==p.MB(g[17]))||p.MJ(38==p.MB(g[17])))&&(_+=v[13],p.MN(g[15],p.ME(v[42],p.MB,p.MN,null)),_+=v[12]),_+=v[41],(p.MJ(p.MB(g[16])+""=="dinner")||p.MJ(16==p.MB(g[17]))||p.MJ(18==p.MB(g[17]))||p.MJ(24==p.MB(g[17]))||p.MJ(26==p.MB(g[17])))&&(_+=v[13],p.MN(g[15],p.ME(v[43],p.MB,p.MN,null)),_+=v[12]),_+=v[41],(p.MJ(p.MB(g[16])+""=="half_board_lunch")||p.MJ(5==p.MB(g[17]))||p.MJ(37==p.MB(g[17])))&&(_+=v[13],p.MN(g[15],p.ME(v[44],p.MB,p.MN,null)),_+=v[12]),_+=v[41],(p.MJ(p.MB(g[16])+""=="half_board_dinner")||p.MJ(17==p.MB(g[17]))||p.MJ(25==p.MB(g[17])))&&(_+=v[13],p.MN(g[15],p.ME(v[45],p.MB,p.MN,null)),_+=v[12]),_+=v[41],(p.MJ(p.MB(g[16])+""=="full_board")||p.MJ(p.MB(g[16])+""=="all_inclusive")||p.MJ(21==p.MB(g[17])))&&(_+=v[13],p.MN(g[15],p.ME(v[46],p.MB,p.MN,null)),_+=v[12]),_+=v[47],p.MJ(1<p.MB(g[20]))?(_+=v[13],p.MJ(p.MB(g[19]))&&(_+=v[48],_+=v[49],p.MK(p.MB(g[18]))&&(_+=v[50]),_+=[v[51],p.F.entities(p.MC(g[12])),v[51]].join(""),_+=v[52]),_+=[v[53],p.F.entities(p.MC(g[15])),v[54]].join(""),p.MJ(p.MB(g[18]))&&(_+=v[55]),_+=v[12]):_+=[v[56],p.F.entities(p.MC(g[15])),v[57]].join(""),_+=v[1],e=_r_(_),e+=v[12];else{e+=v[13],p.MN("mealplan_title",p.MB(g[22])&&p.MC(g[22])[p.MC(g[23])].b_mealplan_policy_title),e+=[v[35],p.F.entities(p.MC(g[10])),v[36],p.F.entities(p.MC(g[24])),v[38]].join(""),p.MN("meals_counter",p.MB(g[23])&&p.MB(g[22])&&p.array_length(p.MB(g[22])&&p.MC(g[22])[p.MC(g[23])].b_mealplan_message_short)),e+=v[13];var t=p.MC(g[23])&&p.MC(g[22])&&p.MC(g[22])&&p.MC(g[22])[p.MC(g[23])].b_mealplan_message_short||[];h.unshift({mealplan_item:null});for(var n=1,i=t.length;n<=i;n++)h[0].mealplan_item=t[n-1],e+=v[14],p.MN("fe_mealplan_vector",p.MB(g[22])&&p.MC(g[22])[p.MC(g[23])].b_mealplan_vector),e+=v[14],r=e,_i_("65cb:5fbe57e5"),r+=v[39],(p.MJ(p.MB(g[16])+""=="breakfast")||p.MJ(1==p.MB(g[17]))||p.MJ(9==p.MB(g[17]))||p.MJ(33==p.MB(g[17]))||p.MJ(41==p.MB(g[17])))&&(r+=v[13],p.MN(g[15],p.ME(v[40],p.MB,p.MN,null)),r+=v[12]),r+=v[41],(p.MJ(p.MB(g[16])+""=="lunch")||p.MJ(4==p.MB(g[17]))||p.MJ(6==p.MB(g[17]))||p.MJ(36==p.MB(g[17]))||p.MJ(38==p.MB(g[17])))&&(r+=v[13],p.MN(g[15],p.ME(v[42],p.MB,p.MN,null)),r+=v[12]),r+=v[41],(p.MJ(p.MB(g[16])+""=="dinner")||p.MJ(16==p.MB(g[17]))||p.MJ(18==p.MB(g[17]))||p.MJ(24==p.MB(g[17]))||p.MJ(26==p.MB(g[17])))&&(r+=v[13],p.MN(g[15],p.ME(v[43],p.MB,p.MN,null)),r+=v[12]),r+=v[41],(p.MJ(p.MB(g[16])+""=="half_board_lunch")||p.MJ(5==p.MB(g[17]))||p.MJ(37==p.MB(g[17])))&&(r+=v[13],p.MN(g[15],p.ME(v[44],p.MB,p.MN,null)),r+=v[12]),r+=v[41],(p.MJ(p.MB(g[16])+""=="half_board_dinner")||p.MJ(17==p.MB(g[17]))||p.MJ(25==p.MB(g[17])))&&(r+=v[13],p.MN(g[15],p.ME(v[45],p.MB,p.MN,null)),r+=v[12]),r+=v[41],(p.MJ(p.MB(g[16])+""=="full_board")||p.MJ(p.MB(g[16])+""=="all_inclusive")||p.MJ(21==p.MB(g[17])))&&(r+=v[13],p.MN(g[15],p.ME(v[46],p.MB,p.MN,null)),r+=v[12]),r+=v[47],p.MJ(1<p.MB(g[20]))?(r+=v[13],p.MJ(p.MB(g[19]))&&(r+=v[48],r+=v[49],p.MK(p.MB(g[18]))&&(r+=v[50]),r+=[v[51],p.F.entities(p.MC(g[12])),v[51]].join(""),r+=v[52]),r+=[v[53],p.F.entities(p.MC(g[15])),v[54]].join(""),p.MJ(p.MB(g[18]))&&(r+=v[55]),r+=v[12]):r+=[v[56],p.F.entities(p.MC(g[15])),v[57]].join(""),r+=v[1],e=_r_(r),e+=v[13];h.shift(),e+=v[12]}e+=v[1]}var r,_;e+=v[24];t=(p.MC(g[26])||{}).services||[];h.unshift({service:null});for(n=1,i=t.length;n<=i;n++){if(h[0].service=b=t[n-1],e+=v[58],p.MN("fe_display_general_fine_print_3",0),e+=v[12],p.MJ(b.contact_property)&&p.MJ(p.MB(g[21]))&&(e+=v[13],p.MN("fe_display_general_fine_print_3",1),e+=v[12]),e+=v[47],p.MN("skip_title",(p.MJ(3001==p.MB(g[27]))||p.MJ(3002==p.MB(g[27])))&&(p.MJ(3001==b.value_add_id)||p.MJ(3002==b.value_add_id))),e+=v[47],p.MK(p.MB(g[27]))&&(e+=v[13],p.MN("previous_service",b.value_add_id),e+=v[12]),e+=v[47],p.MN("fe_service_fineprints",b.description.fineprint),e+=v[12],p.MN("fineprint_counter",p.array_length(b.description.fineprint)),e+=v[47],p.MN("fe_bundle_rates_use_title",p.MK(p.MB(g[28]))),e+=v[12],p.MN("fe_bundle_rates_use_list",p.MJ(1<p.MB(g[29]))),e+=v[47],p.MD(g[14])){if(e+=v[59],p.MD(g[30])&&(e+=[v[60],p.F.entities((((b||{}).description||{}).title||{}).text),v[61]].join("")),e+=v[62],p.MD(g[37])){e+=v[63];var a=n,o=t,s=i,c=l;t=p.MC(g[31])||[];h.unshift({fineprint:null});for(n=1,i=t.length;n<=i;n++)h[0].fineprint=l=t[n-1],e+=v[64],p.MJ(n==t.length)||(e+=v[65]),e+=v[66],h.unshift({fe_fineprint:l,fe_unit_type:p.MB(g[34])}),e=M(e),h.shift(),e+=v[70];h.shift(),n=a,t=o,i=s,l=c,e+=v[71]}else{e+=v[72];a=n,o=t,s=i,c=l,t=p.MC(g[31])||[];h.unshift({fineprint:null});for(n=1,i=t.length;n<=i;n++)h[0].fineprint=l=t[n-1],e+=v[73],h.unshift({fe_fineprint:l,fe_unit_type:p.MB(g[34])}),e=M(e),h.shift(),e+=v[74];h.shift(),n=a,t=o,i=s,l=c,e+=v[61]}e+=v[75]}else{e+=v[13],p.MK(p.MB(g[28]))&&(e+=[v[76],p.F.entities(p.MC(g[10])),v[77],p.F.entities((((b||{}).description||{}).title||{}).text),v[78]].join("")),e+=v[79];a=n,o=t,s=i,c=l,t=p.MC(g[31])||[];h.unshift({fineprint:null});var l;for(n=1,i=t.length;n<=i;n++){if(h[0].fineprint=l=t[n-1],e+=v[14],p.MJ(p.MG((l||{}).text)))e+=v[30],p.MJ(1<p.MB(g[29]))?(e+=v[80],p.MJ(p.MB(g[19]))&&(e+=v[81],e+=v[49],p.MK(p.MB(g[18]))&&(e+=v[50]),e+=[v[51],p.F.entities(p.MC(g[12])),v[51]].join(""),e+=v[82]),e+=[v[83],p.F.entities((l||{}).text),v[84]].join(""),p.MJ(p.MB(g[18]))&&(e+=v[85]),e+=v[30]):(e+=v[86],(p.MJ(p.MB(g[38]))||p.MJ(p.MB(g[11])+""=="confirmation"))&&(e+=v[28]),p.MD(g[28])&&(e+=v[87]),e+=[v[36],p.F.entities((l||{}).text),v[88]].join("")),e+=v[14];else{e+=v[30];var d="";d+=v[80];var u={fe_fp_be_variables:p.MG((l||{}).variables),fe_fp_element:p.MG(((l||{}).tag||{}).element),fe_fp_group:p.MG(((l||{}).tag||{}).group),fe_fp_name:p.MG(((l||{}).tag||{}).name),fe_fp_variables:p.MG((l||{}).fe_variables),fe_unit_type:p.MB(g[34])},f=h;(h=p.SV([{},{}])).unshift(u),d=m(d),h=p.SV(f),d+=v[30],p.MN(g[39],d),e+=v[30],p.MJ(1<p.MB(g[29]))?(e+=v[80],p.MJ(p.MB(g[19]))&&(e+=v[81],e+=v[49],p.MK(p.MB(g[18]))&&(e+=v[50]),e+=[v[51],p.F.entities(p.MC(g[12])),v[51]].join(""),e+=v[82]),e+=[v[83],p.MC(g[39]),v[84]].join(""),p.MJ(p.MB(g[18]))&&(e+=v[85]),e+=v[30]):(e+=v[86],(p.MJ(p.MB(g[38]))||p.MJ(p.MB(g[11])+""=="confirmation"))&&(e+=v[28]),p.MD(g[28])&&(e+=v[87]),e+=[v[36],p.MC(g[39]),v[88]].join("")),e+=v[14]}e+=v[14],p.MJ(p.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))&&p.MJ(p.MB(g[38]))&&(e+=v[30],p.MJ(1==p.MB(g[29]))?e+=[v[89],p.ME(v[90],p.MB,p.MN,null),v[91]].join(""):(e+=v[80],p.MJ(p.MB(g[19]))&&(e+=v[81],e+=[v[92],p.F.entities(p.MC(g[12])),v[51]].join(""),e+=v[82]),e+=[v[93],p.ME(v[90],p.MB,p.MN,null),v[84]].join(""),p.MJ(p.MB(g[18]))&&(e+=v[85]),e+=v[30]),e+=v[14]),e+=v[13]}h.shift(),n=a,t=o,i=s,l=c,e+=v[79],p.MK(p.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))&&p.MJ(p.MB(g[38]))&&(e+=[v[94],p.ME(v[95],p.MB,p.MN,null),v[78]].join("")),e+=v[12]}e+=v[12],p.MN("previous_service",b.value_add_id),e+=v[1]}h.shift(),e+=v[24];t=(p.MC(g[26])||{}).services||[];h.unshift({service:null});var b;for(n=1,i=t.length;n<=i;n++)h[0].service=b=t[n-1],e+=v[58],p.MN("fe_service_disclaimer",b.description.disclaimer),e+=v[47],p.MJ(p.MG((p.MC(g[40])||{}).text))&&(e+=[v[96],(p.MC(g[40])||{}).text,v[97]].join("")),e+=v[1];return h.shift(),e+=v[24],p.MD(g[14])?e+=[v[98],p.ME(v[99],p.MB,p.MN,null),v[100],p.ME(v[101],p.MB,p.MN,null),v[102]].join(""):p.MJ(p.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))?(e+=v[12],p.MJ(p.MB(g[11])+""!="confirmation")&&(e+=v[103]),e+=[v[104],p.ME(v[105],p.MB,p.MN,null),v[106]].join("")):e+=[v[107],p.ME(v[99],p.MB,p.MN,null),v[108],p.ME(v[101],p.MB,p.MN,null),v[106]].join(""),e+=[v[0],"",v[68]].join(""),_r_(e)}return n+=v[0],h.unshift({bundle_information:p.MB(g[9])}),e=n,_i_("65cb:fef56340"),e+=["",v[1]].join(""),e+=[v[2],p.F.entities(p.MB(g[0])),v[3],p.F.entities(p.MB(g[1])),v[4],p.F.entities(p.MB(g[2])),v[5],p.F.entities(p.MB(g[3])),v[6],p.F.entities(p.MB(g[4])),v[7],p.F.entities(p.MB(g[5])),v[8],p.F.entities(p.MB(g[6])),v[9],p.F.entities(p.MB(g[7])),v[10],p.F.entities(p.MB(g[8])),v[11]].join(""),t=e,_i_("65cb:3bafd8e0"),t+=v[12],p.MD(g[43])&&(t+=v[13],p.MD(g[4])?(t+=v[14],p.MD(g[3])&&(t+=[v[15],p.F.entities(p.MC(g[0])),v[16],p.F.entities(p.MC(g[1])),v[17]].join(""),p.MJ(2<p.array_length(p.MC(g[9]).services))&&(t+=v[18]),t+=[v[19],p.ME(v[20],p.MB,p.MN,null),v[21]].join("")),t+=[v[22],p.F.entities(p.MC(g[0])),v[16],p.F.entities(p.MC(g[1])),v[23]].join(""),h.unshift({action_name:p.MB(g[6]),b_block_id:p.MC(g[41]),block_id:p.MB(g[0]),blocks_by_id:p.MB(g[42]),fe_bundle_information:p.MB(g[43]),fe_hide_meals:p.MB(g[5]),fe_unit_type:p.MB(g[44]),is_bp:p.MB(g[7]),mealplan:p.MB(g[8])}),t=i(t),h.shift(),t+=v[109]):(t+=v[14],h.unshift({action_name:p.MB(g[6]),block_id:p.MB(g[0]),blocks_by_id:p.MB(g[42]),fe_bundle_information:p.MB(g[43]),fe_hide_meals:p.MB(g[5]),fe_is_inlined:v[110],fe_unit_type:p.MB(g[44]),is_bp:p.MB(g[7]),mealplan:p.MB(g[8])}),t=i(t),h.shift(),t+=v[13]),t+=v[12]),t+=v[1],e=_r_(t),e+=[v[111],"",v[68]].join(""),n=_r_(e),h.shift(),n+=v[68],_r_(n)})}()),B.define("component/hotel/bundles",function(e,t,n){_i_("65cb:45e8a02c");var i=e("server-data"),r=e("component/reactive"),h=e("hotel/roomstable/actions"),p=e("hotel/roomstable/bundles/actions"),_=e("hotel/roomstable/bundles/helpers"),m=e("hotel/store"),M=e("events"),v=e("event-bus"),g=e("hotel/roomstable").RT,w=e("jquery"),B=m.getState().bundles,y=m.getState().roomsTable,a=B.groups,o=Number(i.fe_rt_bundles_mealplan);m.dispatch(p.setBundleRatesExperiment(o));var k=".js-room-cell-subtitle",E=".js-room-header__subtitle--mealplan",s=".rt-mealplan-bundle-container";n.exports=r.extend({template:"bundles_template",store:m,initialize:function(){_i_("65cb:a685ef96");var e=this.$el.data("blockId"),t=_.getGroupIdFromBlockId(e);if(!a||!a[t])return _r_();this.setState({blockId:e,groupId:t,fe_rt_bundles_mealplan:i.fe_rt_bundles_mealplan}),w(s,w("#"+e)).show(),_r_()},getInnerState:function(){_i_("65cb:2eecfb4f");var e=this.__state;return _r_(e)},handleOptionClick:function(e){_i_("65cb:705c4627"),e.stopPropagation();var t=this.$el.closest(".room"),n=this.$el.closest(".db-card__room"),i=this.getInnerState().groupId,r=B.groups,_=e.currentTarget.value,a=t.attr("data-block-id"),o=r[i].options.filter(function(e){return _i_("65cb:a3ffe5c3"),_r_(e.id===_)})[0],s=o.price,c=o.hasDiscount,l=o.originalPriceHtml;!function(e,t){_i_("65cb:ec4c1108");var n=w("#"+e).find(".js-hotel-selection-stepper-container").first(),i=w("#"+t).find(".js-hotel-selection-stepper-container").first(),r=w("#stepper_"+e),_=w("#stepper_"+t);_.length||(i.wrap('<div id="stepper_'+t+'"></div>'),_=i.parent());_.hide(),0<r.length?r.show():(_.after(n),n.wrap('<div id="stepper_'+e+'"></div>'));_r_()}(_,a),function(e,t){_i_("65cb:892f1076");var n=w("#"+e).find(".c-room_reserve, .plb-reserve-container").first(),i=w("#"+t).find(".c-room_reserve, .plb-reserve-container").first();if(0===n.length){var r=w("#"+t).attr("data-base-mealplan-id");n=w("#"+r).find(".c-room_reserve, .plb-reserve-container").first()}var _=w("#removebtn_"+e),a=w("#removebtn_"+t);a.length||(i.wrap('<div id="removebtn_'+t+'"></div>'),a=i.parent());a.hide(),0<_.length?_.show():(a.after(n),n.wrap('<div id="removebtn_'+e+'"></div>'));_r_()}(_,a),t.attr("id",_),t.attr("data-block-id",_),t.attr("data-block-mealplan-id",_),t.attr("data-base-mealplan-id",a),w("#m_hp_rt_room_card_title_"+a).attr("id","m_hp_rt_room_card_title_"+_),w(".bui-price-display__value",t).text(s),c&&t.find(".bui-price-display__original").text(l);var d=o.highlightHtml;t.find(k).replaceWith(d);var u=t.find(E);if(u.length){var f=window.BUI.getInstance(u[0]);f||(f=window.BUI.createInstance("Tooltip",u[0])).mount()}if(n.hasClass("selected_room")&&a!==_){var b=g.room(_);M.emit(M.EVENTS.RT_ROOM_SELECT,{$room:b.$room}),y&&y.selection&&y.selection.blocks&&y.selection.blocks[a]&&0<y.selection.blocks[a].count&&m.dispatch(h.removeSelection(a)),y&&y.selection&&y.selection.blocks&&(!y.selection.blocks[_]||0===y.selection.blocks[_].count)&&m.dispatch(h.addSelection(_)),v.emit(M.EVENTS.RT_ROOM_SELECT_DONE)}m.dispatch(p.setCurrentSelection({groupId:i,blockId:_})),_r_()}}),_r_()}),booking.jstmpl("bundles_template",function(){_i_("65cb:b0db7e9f");var n,E=["\n\n    ","\n","\n\n",'\n\n\n\n<div\n    data-component="hotel/bundles"\n    data-block-id="','"\n>\n    ',"\n    ","\n        ","\n            ",'\n    <label class="rt-selection-mealplan-label" data-mealplan="','" id="opt_','">\n        <input\n            type="radio"\n            name="rt-mealplan-bundle-','"\n            value="','"\n            data-group-id="','"\n            class="rt-selection-mealplan"\n            ','\n                checked="checked"\n            ','\n            on:click="handleOptionClick"\n        >\n        '," &bull;\n        ",'\n            <span class="rt-selection-mealplan-price rt-selection-mealplan-price--discounted">','</span> <span class="rt-selection-mealplan-price">',"</span>\n        ",'\n            <span class="rt-selection-mealplan-price">',"\n\n        ",'\n\n    \n    <div\n        data-component="chains/bundle_explainer"\n        class="rt-bundle-explainer"\n        data-explainer-id="','"\n        data-bundle-id="','"\n        data-room-type-id="','"\n        data-display-cta="','"\n        data-has-modal="','"\n        data-hide-meals="','"\n        data-action-name="','"\n        data-is-bp="','"\n        data-mealplan="','"\n    >\n        ',"\n                ",'\n                    <button\n                        type="button"\n                        data-modal-id="bundle-explainer-',"-",'"\n                        data-bui-component="Modal"\n                        ','\n                            data-modal-full-screen="true"\n                        ','\n                        class="bui-button bui-button--tertiary js-bundle-explainer-trigger"\n                        on:click="trackMoreInformationClicked"\n                    >\n                        <span class="bui-button__text">\n                            ',"/private/chains_rt_bundle_rates_info_cta/name","\n                        </span>\n                    </button>\n                ",'\n\n                <template id="bundle-explainer-','">\n                    <div class="bui-modal__body bui-modal__body--primary" role="document" tabindex="0">\n                        ',"\n\n\n    \n\n    ","bui-f-font-featured","room-details-item-header u-margin-top:8","bui-spacer--medium",'\n        <div class="bui-spacer--large bundle-explainer__title">\n            <p class="bui-f-font-featured">\n                ',"\n                    ","/private/chains_br_rt_header/name","/private/chains_rt_bundle_rates_included_header/name","\n            </p>\n        </div>\n    ","\n            \n            ",'\n            <p class="','">',"/mealplan_vector/optional_extras_mealplan/name","</p>\n            ","\n        \n        ","/instay_addons_fine_print/fine_print_1/breakfast","\n\n        \n        ","/instay_addons_fine_print/fine_print_1/lunch","/instay_addons_fine_print/fine_print_1/dinner","/instay_addons_fine_print/fine_print_1/breakfast_and_lunch","/instay_addons_fine_print/fine_print_1/breakfast_and_dinner","/instay_addons_fine_print/fine_print_1/all_meals",'\n                <ul class="'," bui-list bui-list--unordered "," bui-spacer"," ",'">\n            ','\n            <li class="bui-list__item">\n                <span class="bui-f-font-body">\n                    ',"\n                </span>\n            </li>\n            ","\n                </ul>\n            ",'\n            <p class="bui-spacer">',"</p>\n        ","\n        \n\n        ",'\n            <div class="bui-group__item">\n                ','\n                    <div class="bui-text bui-text--variant-strong_1 bui-spacer--medium">\n                        ',"\n                    </div>\n                ","\n\n                ",'\n                    <ul class="bui-list bui-list--unordered">\n                        ','\n                            <li class="bui-list__item ',"bui-spacer--small",'">\n                                <span class="bui-text bui-text--variant-body_2">\n                                    ',"","/{fe_fp_group}/{fe_fp_element}/{fe_fp_name}","\n                                </span>\n                            </li>\n                        ","\n                    </ul>\n                ",'\n                    <div class="bui-group">\n                        ','\n                            <div class="bui-group__item">\n                                <div class="bui-text bui-text--variant-body_2">\n                                    ',"\n                                </div>\n                            </div>\n                        ","\n            </div>\n        ",'\n                <p class="','">\n                    ',"\n                </p>\n            ","\n\n            ","\n                        ",'\n                            <ul class="','">\n                        ','\n                        <li class="bui-list__item">\n                            <span class="bui-f-font-body">\n                                ',"\n                            </span>\n                        </li>\n                        ","\n                            </ul>\n                        ",'\n                        <p class="bui-spacer '," bundle-explainer__text--title_skipped","</p>\n                    ",'\n                        <p class="bui-spacer">\n                            <span class="bui-text bui-text--variant-small_2 bui-text--color-neutral_alt">\n                                ',"/private/chains_br_addons_fine_print_parking_and_spa/name","\n                            </span>\n                        </p>\n                    "," bui-list bui-list--unordered bui-spacer ",'\n                        <li class="bui-list__item">\n                            <span class="bui-text bui-text--variant-small_2 bui-text--color-neutral_alt">\n                                ','\n                <p class="bui-text bui-spacer bui-text--variant-small_2 bui-text--color-neutral_alt">\n                    ',"/instay_addons_fine_print/fine_print_3/general_fine_print",'\n            <span class="bui-text bui-text--variant-small_2 bui-text--color-neutral_alt">\n                ',"\n            </span>\n        ",'\n        <div class="bui-group__item">\n            <div class="bui-group bui-spacer--medium">\n                <div class="bui-group__item">\n                    <div class="bui-text bui-text--variant-small_1 bui-text--color-neutral_alt">\n                        ',"/instay_addons_fine_print/fine_print_1/general_fine_print",'\n                    </div>\n                </div>\n                <div class="bui-group__item">\n                    <div class="bui-text bui-text--variant-small_1 bui-text--color-neutral_alt">\n                        ',"/instay_addons_fine_print/fine_print_2/general_fine_print","\n                    </div>\n                </div>\n            </div>\n        </div>\n    ",'\n            <hr class="bui-divider bui-spacer--medium" />\n        ','\n        <p class="bui-text bui-text--variant-small_2 bui-text--color-neutral_alt">\n            ',"/private/chains_br_addons_fine_print_general_1/name","\n        </p>\n    ",'\n        <p class="bui-text bui-text--variant-small_1 bui-text--color-neutral_alt">\n            ','\n        </p>\n        <p class="bui-text bui-text--variant-small_1 bui-text--color-neutral_alt">\n            ',"\n                    </div>\n                </template>\n            ","1","\n    </div>\n\n","\n    </label>\n","\n</div>\n\n"],C=["store","blockId","bundles","groupId","option","baseBlockId","optionSelected","explainerId","bundleId","roomTypeId","isCtaVisible","hasModal","feHideMeals","actionName","isBp","mealplan","bundle_information","fe_rate_title_classes","action_name","fe_rate_content_classes","fe_is_inlined","fe_is_conditions_modal","mealplan_text","fe_mealplan_name","fe_mealplan_vector","__is_last__","__is_first__","meals_counter","is_bp","blocks_by_id","block_id","mealplan_title","fe_hide_meals","fe_bundle_information","previous_service","skip_title","fineprint_counter","fe_bundle_rates_use_title","fe_service_fineprints","fe_fineprint","fe_fp_be_variables","fe_unit_type","fe_fp_variables","fe_fp_name","fe_bundle_rates_use_list","fe_display_general_fine_print_3","fe_fp_copy","fe_service_disclaimer","b_block_id","blocksById","bundleInformation","unitType"];return _r_(function(w){_i_("65cb:b541e79b");var e,t="",B=this.fn;function y(e){return _i_("65cb:a3d9d86f"),e+=E[0],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=E[5],e+=[E[2],"",E[1]].join(""),B.MJ(B.MB(C[42]))&&(B.MJ(B.MB(C[43])+""=="self_parking")||B.MJ(B.MB(C[43])+""=="valet_parking")||B.MJ(B.MB(C[43])+""=="food_drink_credit")||B.MJ(B.MB(C[43])+""=="food_drink_credit_per_stay")||B.MJ(B.MB(C[43])+""=="property_credit")||B.MJ(B.MB(C[43])+""=="property_credit_per_stay"))?(e+=E[5],B.MJ(B.MB(C[40]))&&B.MJ(B.MC(C[40]).num_credit)?e+=[E[6],(w.unshift({num_credit:B.MG((B.MC(C[40])||{}).num_credit),unit_type:B.MB(C[41])}),n=B.ME(E[84],B.MB,B.MN,null),w.shift(),n),E[5]].join(""):e+=[E[6],(w.unshift({unit_type:B.MB(C[41])}),n=B.ME(E[84],B.MB,B.MN,null),w.shift(),n),E[5]].join("")):(e+=E[5],B.MJ(B.MB(C[40]))&&B.MJ(B.MC(C[40]).num_credit)?e+=[E[6],(w.unshift({num_credit:B.MG((B.MC(C[40])||{}).num_credit)}),n=B.ME(E[84],B.MB,B.MN,null),w.shift(),n),E[5]].join(""):e+=[E[6],B.ME(E[84],B.MB,B.MN,null),E[5]].join("")),e+=E[1],e+=[E[1],"",E[1]].join(""),_r_(e)}function _(e){if(_i_("65cb:2eabd5ad"),e+=E[5],B.MN("optionSelected",B.MJ(B.MC(C[2]).groups[B.MC(C[3])].currentSelection==B.MC(C[4]).id)),e+=[E[8],B.F.entities(B.MG((B.MC(C[4])||{}).type)),E[9],B.F.entities(B.MG((B.MC(C[4])||{}).id)),E[10],B.F.entities(B.MB(C[5])),E[11],B.F.entities(B.MG((B.MC(C[4])||{}).id)),E[12],B.F.entities(B.MB(C[3])),E[13]].join(""),B.MD(C[6])&&(e+=E[14]),e+=[E[15],B.F.entities(B.MG((B.MC(C[4])||{}).text)),E[16]].join(""),B.MJ(B.MG((B.MC(C[4])||{}).hasDiscount))?e+=[E[17],B.F.entities(B.MG((B.MC(C[4])||{}).originalPriceHtml)),E[18],B.F.entities(B.MG((B.MC(C[4])||{}).price)),E[19]].join(""):e+=[E[20],B.F.entities(B.MG((B.MC(C[4])||{}).price)),E[19]].join(""),e+=E[21],B.MJ(B.MB(C[6]))&&B.MJ(B.MC(C[4]).hasBundleText)){e+=E[7];var t={bundleId:B.MG((B.MC(C[4])||{}).bundleId),explainerId:B.MG((B.MC(C[4])||{}).id),hasModal:E[125],isCtaVisible:E[125],roomTypeId:B.MG((B.MC(C[4])||{}).roomTypeId)},n=w;(w=B.SV([{},{}])).unshift(t),i=e,_i_("65cb:d3d86b63"),i+=["",E[5]].join(""),r=i+=[E[22],B.F.entities(B.MB(C[7])),E[23],B.F.entities(B.MB(C[8])),E[24],B.F.entities(B.MB(C[9])),E[25],B.F.entities(B.MB(C[10])),E[26],B.F.entities(B.MB(C[11])),E[27],B.F.entities(B.MB(C[12])),E[28],B.F.entities(B.MB(C[13])),E[29],B.F.entities(B.MB(C[14])),E[30],B.F.entities(B.MB(C[15])),E[31]].join(""),_i_("65cb:23c6d419"),r+=E[6],B.MD(C[50])&&(r+=E[7],B.MD(C[11])?(r+=E[32],B.MD(C[10])&&(r+=[E[33],B.F.entities(B.MC(C[7])),E[34],B.F.entities(B.MC(C[8])),E[35]].join(""),B.MJ(2<B.array_length(B.MC(C[16]).services))&&(r+=E[36]),r+=[E[37],B.ME(E[38],B.MB,B.MN,null),E[39]].join("")),r+=[E[40],B.F.entities(B.MC(C[7])),E[34],B.F.entities(B.MC(C[8])),E[41]].join(""),w.unshift({action_name:B.MB(C[13]),b_block_id:B.MC(C[48]),block_id:B.MB(C[7]),blocks_by_id:B.MB(C[49]),fe_bundle_information:B.MB(C[50]),fe_hide_meals:B.MB(C[12]),fe_unit_type:B.MB(C[51]),is_bp:B.MB(C[14]),mealplan:B.MB(C[15])}),r=a(r),w.shift(),r+=E[124]):(r+=E[32],w.unshift({action_name:B.MB(C[13]),block_id:B.MB(C[7]),blocks_by_id:B.MB(C[49]),fe_bundle_information:B.MB(C[50]),fe_hide_meals:B.MB(C[12]),fe_is_inlined:E[125],fe_unit_type:B.MB(C[51]),is_bp:B.MB(C[14]),mealplan:B.MB(C[15])}),r=a(r),w.shift(),r+=E[7]),r+=E[6]),r+=E[5],i=_r_(r),i+=[E[126],"",E[1]].join(""),e=_r_(i),w=B.SV(n),e+=E[6]}var i,r;return e+=E[127],_r_(e)}function k(e){if(_i_("65cb:f3dea3f0"),e+=E[83],B.MJ(B.MG((B.MC(C[39])||{}).text)))e+=[E[83],B.F.entities((B.MC(C[39])||{}).text),E[83]].join("");else{e+=E[83];var t={fe_fp_be_variables:B.MG((B.MC(C[39])||{}).variables),fe_fp_element:B.MG(((B.MC(C[39])||{}).tag||{}).element),fe_fp_group:B.MG(((B.MC(C[39])||{}).tag||{}).group),fe_fp_name:B.MG(((B.MC(C[39])||{}).tag||{}).name),fe_fp_variables:B.MG((B.MC(C[39])||{}).fe_variables),fe_unit_type:B.MB(C[41])},n=w;(w=B.SV([{},{}])).unshift(t),e=y(e),w=B.SV(n),e+=E[83]}return e+=E[83],_r_(e)}function a(e){if(_i_("65cb:ba8e95a7"),e+=[E[2],"",E[0]].join(""),e+=E[0],e+=E[42],B.MN(C[17],E[43]),e+=E[5],B.MJ(B.MB(C[18])+""!="confirmation")&&(e+=E[6],B.MN("fe_rate_title_classes",B.MB(C[17])+" bui-spacer--medium"),e+=E[5]),e+=E[5],B.MN(C[19],void 0),e+=E[0],B.MD(C[20])?(e+=E[6],B.MN(C[17],E[44]),e+=E[6],B.MJ(B.MB(C[18])+""!="confirmation")&&(e+=E[7],B.MN("fe_rate_title_classes",B.MB(C[17])+" bui-spacer--medium"),e+=E[6]),e+=E[6],B.MN(C[19],E[45]),e+=E[5]):B.MK(B.MB(C[21]))&&(e+=E[46],B.MJ(B.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))?e+=[E[47],B.ME(E[48],B.MB,B.MN,null),E[32]].join(""):e+=[E[47],B.ME(E[49],B.MB,B.MN,null),E[32]].join(""),e+=E[50]),e+=E[0],(B.MJ(B.MB(C[30]))&&B.MJ(B.MB(C[29]))&&B.MJ(B.MC(C[29])[B.MC(C[30])].b_mealplan_message_short)||B.MJ(B.MB(C[28]))&&B.MJ(B.MB(C[15])))&&B.MK(B.MB(C[32]))&&B.MJ(B.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))){if(e+=E[6],B.MJ(B.MB(C[28]))&&B.MJ(B.MB(C[15])))e+=E[51],B.MN("fe_mealplan_name",B.MB(C[15])),e+=[E[52],B.F.entities(B.MC(C[17])),E[53],B.ME(E[54],B.MB,B.MN,null),E[55]].join(""),l=e,_i_("65cb:f988d5ee"),l+=E[56],(B.MJ(B.MB(C[23])+""=="breakfast")||B.MJ(1==B.MB(C[24]))||B.MJ(9==B.MB(C[24]))||B.MJ(33==B.MB(C[24]))||B.MJ(41==B.MB(C[24])))&&(l+=E[7],B.MN(C[22],B.ME(E[57],B.MB,B.MN,null)),l+=E[6]),l+=E[58],(B.MJ(B.MB(C[23])+""=="lunch")||B.MJ(4==B.MB(C[24]))||B.MJ(6==B.MB(C[24]))||B.MJ(36==B.MB(C[24]))||B.MJ(38==B.MB(C[24])))&&(l+=E[7],B.MN(C[22],B.ME(E[59],B.MB,B.MN,null)),l+=E[6]),l+=E[58],(B.MJ(B.MB(C[23])+""=="dinner")||B.MJ(16==B.MB(C[24]))||B.MJ(18==B.MB(C[24]))||B.MJ(24==B.MB(C[24]))||B.MJ(26==B.MB(C[24])))&&(l+=E[7],B.MN(C[22],B.ME(E[60],B.MB,B.MN,null)),l+=E[6]),l+=E[58],(B.MJ(B.MB(C[23])+""=="half_board_lunch")||B.MJ(5==B.MB(C[24]))||B.MJ(37==B.MB(C[24])))&&(l+=E[7],B.MN(C[22],B.ME(E[61],B.MB,B.MN,null)),l+=E[6]),l+=E[58],(B.MJ(B.MB(C[23])+""=="half_board_dinner")||B.MJ(17==B.MB(C[24]))||B.MJ(25==B.MB(C[24])))&&(l+=E[7],B.MN(C[22],B.ME(E[62],B.MB,B.MN,null)),l+=E[6]),l+=E[58],(B.MJ(B.MB(C[23])+""=="full_board")||B.MJ(B.MB(C[23])+""=="all_inclusive")||B.MJ(21==B.MB(C[24])))&&(l+=E[7],B.MN(C[22],B.ME(E[63],B.MB,B.MN,null)),l+=E[6]),l+=E[21],B.MJ(1<B.MB(C[27]))?(l+=E[7],B.MJ(B.MB(C[26]))&&(l+=E[64],l+=E[65],B.MK(B.MB(C[25]))&&(l+=E[66]),l+=[E[67],B.F.entities(B.MC(C[19])),E[67]].join(""),l+=E[68]),l+=[E[69],B.F.entities(B.MC(C[22])),E[70]].join(""),B.MJ(B.MB(C[25]))&&(l+=E[71]),l+=E[6]):l+=[E[72],B.F.entities(B.MC(C[22])),E[73]].join(""),l+=E[5],e=_r_(l),e+=E[6];else{e+=E[7],B.MN("mealplan_title",B.MB(C[29])&&B.MC(C[29])[B.MC(C[30])].b_mealplan_policy_title),e+=[E[52],B.F.entities(B.MC(C[17])),E[53],B.F.entities(B.MC(C[31])),E[55]].join(""),B.MN("meals_counter",B.MB(C[30])&&B.MB(C[29])&&B.array_length(B.MB(C[29])&&B.MC(C[29])[B.MC(C[30])].b_mealplan_message_short)),e+=E[7];var t=o,n=_,i=s,r=a,_=B.MC(C[30])&&B.MC(C[29])&&B.MC(C[29])&&B.MC(C[29])[B.MC(C[30])].b_mealplan_message_short||[];w.unshift({mealplan_item:null});for(var a,o=1,s=_.length;o<=s;o++)w[0].mealplan_item=a=_[o-1],e+=E[32],B.MN("fe_mealplan_vector",B.MB(C[29])&&B.MC(C[29])[B.MC(C[30])].b_mealplan_vector),e+=E[32],c=e,_i_("65cb:918f1a1f"),c+=E[56],(B.MJ(B.MB(C[23])+""=="breakfast")||B.MJ(1==B.MB(C[24]))||B.MJ(9==B.MB(C[24]))||B.MJ(33==B.MB(C[24]))||B.MJ(41==B.MB(C[24])))&&(c+=E[7],B.MN(C[22],B.ME(E[57],B.MB,B.MN,null)),c+=E[6]),c+=E[58],(B.MJ(B.MB(C[23])+""=="lunch")||B.MJ(4==B.MB(C[24]))||B.MJ(6==B.MB(C[24]))||B.MJ(36==B.MB(C[24]))||B.MJ(38==B.MB(C[24])))&&(c+=E[7],B.MN(C[22],B.ME(E[59],B.MB,B.MN,null)),c+=E[6]),c+=E[58],(B.MJ(B.MB(C[23])+""=="dinner")||B.MJ(16==B.MB(C[24]))||B.MJ(18==B.MB(C[24]))||B.MJ(24==B.MB(C[24]))||B.MJ(26==B.MB(C[24])))&&(c+=E[7],B.MN(C[22],B.ME(E[60],B.MB,B.MN,null)),c+=E[6]),c+=E[58],(B.MJ(B.MB(C[23])+""=="half_board_lunch")||B.MJ(5==B.MB(C[24]))||B.MJ(37==B.MB(C[24])))&&(c+=E[7],B.MN(C[22],B.ME(E[61],B.MB,B.MN,null)),c+=E[6]),c+=E[58],(B.MJ(B.MB(C[23])+""=="half_board_dinner")||B.MJ(17==B.MB(C[24]))||B.MJ(25==B.MB(C[24])))&&(c+=E[7],B.MN(C[22],B.ME(E[62],B.MB,B.MN,null)),c+=E[6]),c+=E[58],(B.MJ(B.MB(C[23])+""=="full_board")||B.MJ(B.MB(C[23])+""=="all_inclusive")||B.MJ(21==B.MB(C[24])))&&(c+=E[7],B.MN(C[22],B.ME(E[63],B.MB,B.MN,null)),c+=E[6]),c+=E[21],B.MJ(1<B.MB(C[27]))?(c+=E[7],B.MJ(B.MB(C[26]))&&(c+=E[64],c+=E[65],B.MK(B.MB(C[25]))&&(c+=E[66]),c+=[E[67],B.F.entities(B.MC(C[19])),E[67]].join(""),c+=E[68]),c+=[E[69],B.F.entities(B.MC(C[22])),E[70]].join(""),B.MJ(B.MB(C[25]))&&(c+=E[71]),c+=E[6]):c+=[E[72],B.F.entities(B.MC(C[22])),E[73]].join(""),c+=E[5],e=_r_(c),e+=E[7];w.shift(),o=t,_=n,s=i,a=r,e+=E[6]}e+=E[5]}var c,l;e+=E[0];t=o,n=_,i=s;var d=g;_=(B.MC(C[33])||{}).services||[];w.unshift({service:null});for(o=1,s=_.length;o<=s;o++){if(w[0].service=g=_[o-1],e+=E[74],B.MN("fe_display_general_fine_print_3",0),e+=E[6],B.MJ(g.contact_property)&&B.MJ(B.MB(C[28]))&&(e+=E[7],B.MN("fe_display_general_fine_print_3",1),e+=E[6]),e+=E[21],B.MN("skip_title",(B.MJ(3001==B.MB(C[34]))||B.MJ(3002==B.MB(C[34])))&&(B.MJ(3001==g.value_add_id)||B.MJ(3002==g.value_add_id))),e+=E[21],B.MK(B.MB(C[34]))&&(e+=E[7],B.MN("previous_service",g.value_add_id),e+=E[6]),e+=E[21],B.MN("fe_service_fineprints",g.description.fineprint),e+=E[6],B.MN("fineprint_counter",B.array_length(g.description.fineprint)),e+=E[21],B.MN("fe_bundle_rates_use_title",B.MK(B.MB(C[35]))),e+=E[6],B.MN("fe_bundle_rates_use_list",B.MJ(1<B.MB(C[36]))),e+=E[21],B.MD(C[21])){if(e+=E[75],B.MD(C[37])&&(e+=[E[76],B.F.entities((((g||{}).description||{}).title||{}).text),E[77]].join("")),e+=E[78],B.MD(C[44])){e+=E[79];var u=o,f=_,b=s,h=p;_=B.MC(C[38])||[];w.unshift({fineprint:null});for(o=1,s=_.length;o<=s;o++)w[0].fineprint=p=_[o-1],e+=E[80],B.MJ(o==_.length)||(e+=E[81]),e+=E[82],w.unshift({fe_fineprint:p,fe_unit_type:B.MB(C[41])}),e=k(e),w.shift(),e+=E[85];w.shift(),o=u,_=f,s=b,p=h,e+=E[86]}else{e+=E[87];u=o,f=_,b=s,h=p,_=B.MC(C[38])||[];w.unshift({fineprint:null});for(o=1,s=_.length;o<=s;o++)w[0].fineprint=p=_[o-1],e+=E[88],w.unshift({fe_fineprint:p,fe_unit_type:B.MB(C[41])}),e=k(e),w.shift(),e+=E[89];w.shift(),o=u,_=f,s=b,p=h,e+=E[77]}e+=E[90]}else{e+=E[7],B.MK(B.MB(C[35]))&&(e+=[E[91],B.F.entities(B.MC(C[17])),E[92],B.F.entities((((g||{}).description||{}).title||{}).text),E[93]].join("")),e+=E[94];u=o,f=_,b=s,h=p,_=B.MC(C[38])||[];w.unshift({fineprint:null});var p;for(o=1,s=_.length;o<=s;o++){if(w[0].fineprint=p=_[o-1],e+=E[32],B.MJ(B.MG((p||{}).text)))e+=E[47],B.MJ(1<B.MB(C[36]))?(e+=E[95],B.MJ(B.MB(C[26]))&&(e+=E[96],e+=E[65],B.MK(B.MB(C[25]))&&(e+=E[66]),e+=[E[67],B.F.entities(B.MC(C[19])),E[67]].join(""),e+=E[97]),e+=[E[98],B.F.entities((p||{}).text),E[99]].join(""),B.MJ(B.MB(C[25]))&&(e+=E[100]),e+=E[47]):(e+=E[101],(B.MJ(B.MB(C[45]))||B.MJ(B.MB(C[18])+""=="confirmation"))&&(e+=E[45]),B.MD(C[35])&&(e+=E[102]),e+=[E[53],B.F.entities((p||{}).text),E[103]].join("")),e+=E[32];else{e+=E[47];var m="";m+=E[95];var M={fe_fp_be_variables:B.MG((p||{}).variables),fe_fp_element:B.MG(((p||{}).tag||{}).element),fe_fp_group:B.MG(((p||{}).tag||{}).group),fe_fp_name:B.MG(((p||{}).tag||{}).name),fe_fp_variables:B.MG((p||{}).fe_variables),fe_unit_type:B.MB(C[41])},v=w;(w=B.SV([{},{}])).unshift(M),m=y(m),w=B.SV(v),m+=E[47],B.MN(C[46],m),e+=E[47],B.MJ(1<B.MB(C[36]))?(e+=E[95],B.MJ(B.MB(C[26]))&&(e+=E[96],e+=E[65],B.MK(B.MB(C[25]))&&(e+=E[66]),e+=[E[67],B.F.entities(B.MC(C[19])),E[67]].join(""),e+=E[97]),e+=[E[98],B.MC(C[46]),E[99]].join(""),B.MJ(B.MB(C[25]))&&(e+=E[100]),e+=E[47]):(e+=E[101],(B.MJ(B.MB(C[45]))||B.MJ(B.MB(C[18])+""=="confirmation"))&&(e+=E[45]),B.MD(C[35])&&(e+=E[102]),e+=[E[53],B.MC(C[46]),E[103]].join("")),e+=E[32]}e+=E[32],B.MJ(B.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))&&B.MJ(B.MB(C[45]))&&(e+=E[47],B.MJ(1==B.MB(C[36]))?e+=[E[104],B.ME(E[105],B.MB,B.MN,null),E[106]].join(""):(e+=E[95],B.MJ(B.MB(C[26]))&&(e+=E[96],e+=[E[107],B.F.entities(B.MC(C[19])),E[67]].join(""),e+=E[97]),e+=[E[108],B.ME(E[105],B.MB,B.MN,null),E[99]].join(""),B.MJ(B.MB(C[25]))&&(e+=E[100]),e+=E[47]),e+=E[32]),e+=E[7]}w.shift(),o=u,_=f,s=b,p=h,e+=E[94],B.MK(B.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))&&B.MJ(B.MB(C[45]))&&(e+=[E[109],B.ME(E[110],B.MB,B.MN,null),E[93]].join("")),e+=E[6]}e+=E[6],B.MN("previous_service",g.value_add_id),e+=E[5]}w.shift(),o=t,_=n,s=i,g=d,e+=E[0];t=o,n=_,i=s,d=g,_=(B.MC(C[33])||{}).services||[];w.unshift({service:null});var g;for(o=1,s=_.length;o<=s;o++)w[0].service=g=_[o-1],e+=E[74],B.MN("fe_service_disclaimer",g.description.disclaimer),e+=E[21],B.MJ(B.MG((B.MC(C[47])||{}).text))&&(e+=[E[111],(B.MC(C[47])||{}).text,E[112]].join("")),e+=E[5];return w.shift(),o=t,_=n,s=i,g=d,e+=E[0],B.MD(C[21])?e+=[E[113],B.ME(E[114],B.MB,B.MN,null),E[115],B.ME(E[116],B.MB,B.MN,null),E[117]].join(""):B.MJ(B.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))?(e+=E[6],B.MJ(B.MB(C[18])+""!="confirmation")&&(e+=E[118]),e+=[E[119],B.ME(E[120],B.MB,B.MN,null),E[121]].join("")):e+=[E[122],B.ME(E[114],B.MB,B.MN,null),E[123],B.ME(E[116],B.MB,B.MN,null),E[121]].join(""),e+=[E[2],"",E[1]].join(""),_r_(e)}return t+=E[0],w.unshift({blockId:B.MB(C[1])}),e=t,_i_("65cb:de563fc6"),e+=[E[1],"",E[2]].join(""),B.MN("bundles",B.MG((B.MC(C[0])||{}).bundles)),e+=E[2],e+=E[2],e=function(e){if(_i_("65cb:1fda4e1b"),e+=E[5],B.MJ(B.MB(C[2]))&&B.MJ(B.MC(C[2]).isBundleRatesExperimentOn)&&B.MJ(B.MB(C[3]))&&B.MJ(B.MC(C[2]).groups)&&B.MJ(B.MC(C[2]).groups[B.MB(C[3])])&&B.MJ(0==B.MC(C[2]).groups[B.MC(C[3])].hasGeniusBreakfast)){e+=E[6];var t=B.MC(C[2]).groups[B.MC(C[3])].options||[];w.unshift({option:null});for(var n,i=1,r=t.length;i<=r;i++)w[0].option=n=t[i-1],e+=E[7],w.unshift({baseBlockId:B.MB(C[1]),option:n}),e=_(e),w.shift(),e+=E[6];w.shift(),e+=E[5]}return e+=E[1],_r_(e)}(e+=[E[3],B.F.entities(B.MB(C[1])),E[4]].join("")),e+=[E[128],"",E[1]].join(""),t=_r_(e),w.shift(),t+=E[1],_r_(t)})}()),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("65cb:8ed3bebf");var u=e("hotel/roomstable/actions"),f=e("hotel/store"),t=e("server-data"),n=e("event-bus"),i=e("et"),b=e("jquery"),h=["all_inclusive","full_board","half_board_dinner","half_board_lunch","breakfast_included"],r=f.getState().bundles,_=t.b_blocks_by_search_occupancy&&t.b_blocks_by_search_occupancy.b_fits_search_occupancy||[],a=t.b_blocks_by_search_occupancy&&t.b_blocks_by_search_occupancy.b_doesnt_fit_search_occupancy||[],o=_.concat(a);if(!(r&&r.groupsArray&&r.groupsArray.length&&o))return _r_();var s=Number(t.fe_rt_bundles_mealplan),c=Boolean(s),l=!1,d=o.length-r.hiddenBlocks.length;if(i.goalWithValue("js_br_rt_cognitive_load",d),c){r.hiddenBlocks.forEach(function(e){_i_("65cb:caf691ff");var t=e.substring(1);b(e).closest(".db-card__room").attr("id","merged_"+t).hide(),_r_()})}setTimeout(function(){_i_("65cb:765b3006"),function(){if(_i_("65cb:7457b573"),l)return _r_();l=!0,n.on(B.eventNames.RT_FILTER_APPLY,function(e,t){_i_("65cb:9c190ae8"),setTimeout(function(){_i_("65cb:e9cbe5e9"),f.dispatch(u.resetSelection()),_r_()},0);for(var n=Array.from(t.$displayedRooms),i=0;i<n.length;i+=1){var r=n[i];"object"==typeof r&&(r=b(r).attr("id")),"#"===r[0]&&(r=r.replace("#",""));var _=b("#"+r).find(".rt-selection-mealplan-label");if(_.show(),0<t.selectedFilters.length)for(var a=Array.from(_),o=0;o<a.length;o+=1)for(var s=a[o],c=b(s),l=0;l<t.selectedFilters.length;l+=1){var d=t.selectedFilters[l];"object"==typeof d&&(d=d.id),h.includes(d)&&(c.data("mealplan")===d?c.show().find(".rt-selection-mealplan").trigger("click"):c.hide())}}_r_()});var e=b(".rooms-table-container").height();i.goalWithValue("js_br_rt_size",e),_r_()}(),_r_()},0),_r_()}),function(e,t){if(_i_("65cb:cd97ee61"),"function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.googleOneTap=n}_r_()}("undefined"==typeof globalThis?"undefined"==typeof self?this:self:globalThis,function(e){"use strict";function u(e,t){return _i_("65cb:6012b518"),_r_(function(e){if(_i_("65cb:5a714393"),Array.isArray(e))return _r_(e);_r_()}(e)||function(e,t){if(_i_("65cb:a03bcb9f"),"undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,_=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,_=e}finally{try{i||null==o.return||o.return()}finally{if(r)throw _}}return _r_(n)}_r_()}(e,t)||function(e,t){if(_i_("65cb:7247d321"),e){if("string"==typeof e)return _r_(i(e,t));var n=Object.prototype.toString.call(e).slice(8,-1);return _r_(("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0))}_r_()}(e,t)||function(){throw _i_("65cb:fd3780e9"),new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}function i(e,t){_i_("65cb:db44c725"),(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return _r_(i)}function t(e){var t,n,i,r,_,a;if(_i_("65cb:54b939fb"),!b&&!h){var o,s;if("object"==typeof e.placement)o=e.placement;else o=m[null!==(s=e.placement)&&void 0!==s?s:"top-left"];(f={googleClientId:"901905703382-m88jn1h9ll89odkt6t5muc6h7ep83rlh.apps.googleusercontent.com",oauthClientId:e.oauthClientId,oauthRedirectUri:e.oauthRedirectUri,oauthState:e.oauthState,containerId:null!==(t=e.containerId)&&void 0!==t?t:"google-one-tap-wrapper",placement:o,googleCopyVariant:null!==(n=e.googleCopyVariant)&&void 0!==n?n:"signin",translations:null!==(i=e.translations)&&void 0!==i?i:{loadingHeader:"Verifying...",loadingText:"Signing in to Booking.com"},cancelOnTapOutside:null===(r=e.cancelOnTapOutside)||void 0===r||r,autoSelect:null!==(_=e.autoSelect)&&void 0!==_&&_,onDisplayed:e.onDisplayed,onDismissedByUser:e.onDismissedByUser,onAutoDismissed:e.onAutoDismissed,debugLogging:null!==(a=e.debugLogging)&&void 0!==a&&a,apHost:e.apHost,useFedcmForPrompt:e.useFedcmForPrompt,itpSupport:e.itpSupport}).oauthClientId&&f.oauthRedirectUri&&(window.onGoogleLibraryLoad=c,function(){_i_("65cb:bdb00a0e");var e=document.createElement("script");e.setAttribute("async",""),e.setAttribute("defer",""),e.setAttribute("src","https://accounts.google.com/gsi/client"),document.head.appendChild(e),_r_()}(),h=!0)}_r_()}function n(){var e;_i_("65cb:4362c02d"),null===(e=d)||void 0===e||e.remove(),p=!1,_r_()}function r(){var e,t;_i_("65cb:bab94b2d"),a=!0,null===(e=window.google)||void 0===e||null===(t=e.accounts)||void 0===t||t.id.disableAutoSelect(),_r_()}function _(){return _i_("65cb:d71ec734"),_r_(p)}function c(){_i_("65cb:eba876a5");var s=Math.random().toString().substr(2);d=function(){function e(e,t,n){_i_("65cb:0aca701d");var i=document.createElement("div");return _r_((t&&(i.className=t),n&&(i.id=n.toString()),e.appendChild(i),i))}_i_("65cb:5ed084bc");var t=document.createElement("div");t.className="google-one-tap",t.style.position="absolute";for(var n=0,i=Object.entries(f.placement);n<i.length;n++){var r=u(i[n],2),_=r[0],a=r[1];t.style[_]=a}document.body.appendChild(t);var o=e(t,"google-one-tap-continue-box-wrap");o.style.display="none";var s=e(o,"google-one-tap-continue-box"),c=e(s,"google-one-tap-continue-box-header");e(c,"google-one-tap-continue-logo").innerHTML='<svg width="28" height="28" viewBox="0 0 340 340" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a" d="M.06.495h333.788V334.94H.06z"/></defs><g fill="none" fill-rule="evenodd"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><path d="M333.839 59.179c0-32.395-26.28-58.684-58.684-58.684H58.683C26.278.495 0 26.784 0 59.179l.019 186.995v30.152L0 335h275.164c32.415 0 58.675-26.268 58.684-58.674l-.009-217.147" fill="#253C69" mask="url(#b)"/><path d="M218.481 230.088c0-10.783 8.705-19.516 19.44-19.516 10.752 0 19.496 8.733 19.496 19.516 0 10.781-8.744 19.527-19.496 19.527-10.735 0-19.44-8.746-19.44-19.527" fill="#2393C5"/><path d="M148.861 220.31l-27.224-.017v-32.561c0-6.955 2.704-10.57 8.656-11.39h18.568c13.267 0 21.816 8.357 21.834 21.863-.018 13.875-8.365 22.105-21.834 22.105zm-27.224-87.802v-8.579c0-7.497 3.168-11.062 10.144-11.506h13.931c11.96 0 19.101 7.138 19.101 19.1 0 9.12-4.899 19.777-18.656 19.777h-24.52v-18.792zm62.006 32.491l-4.927-2.772 4.308-3.681c4.995-4.28 13.372-13.943 13.372-30.647 0-25.535-19.826-42.016-50.471-42.016H106.95c-9.082.338-16.356 7.728-16.453 16.868v144.938h16.057c.039.02.049 0 .069.02l39.997-.02c34.085 0 56.094-18.548 56.094-47.281 0-15.457-7.13-28.685-19.071-35.409z" fill="#FFFFFE"/></g></svg>',e(c,"google-one-tap-continue-header-text bui-f-font-strong").innerText=f.translations.loadingHeader,e(c,"google-one-tap-continue-box-close bui-f-color-grayscale").innerText="";var l=e(s,"google-one-tap-continue-box-content"),d=e(e(l,"google-one-tap-continue-spinner-wrapper"),"bui-spinner");return _r_((e(d,"bui-spinner__inner"),e(l,"bui-f-font-emphasized").innerText=f.translations.loadingText,e(t,"google-one-tap-wrapper","google-one-tap-wrapper"),t))}(),function(){_i_("65cb:1043aab5");var e,c=!1;null===(e=d.querySelector(".google-one-tap-continue-box-close"))||void 0===e||e.addEventListener("click",function(){return _i_("65cb:86fbc38f"),_r_(d.remove())}),a&&(f.autoSelect=!1),window.google.accounts.id.initialize({client_id:f.googleClientId,callback:function(e){_i_("65cb:dabd455c"),l("callback",e);var t=d.querySelector(".google-one-tap-continue-box-wrap"),n=d.querySelector(".google-one-tap-continue-box"),i=n&&!!parseInt(window.getComputedStyle(n).borderTopLeftRadius);t&&c&&i&&(t.style.display="block");var r=/\.(?:dev|dqs)\.booking\.com/.test(f.apHost||location.origin),_=f.apHost||(r?"account.dqs.booking.com":"account.booking.com"),a=(r?"dqs_":"")+"g_one_tap_nonce",o=Object.entries({secure:!0,"max-age":10,domain:"booking.com",path:"/social/google_one_tap"}).map(function(e){return _i_("65cb:1297a017"),_r_(e.join("="))}).join(";");document.cookie="".concat(a,"=").concat(s,";").concat(o),fetch("https://"+_+"/social/google_one_tap",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id_token:e.credential,nonce:s,state:f.oauthState||"",client_id:f.oauthClientId,redirect_uri:f.oauthRedirectUri||""})}).then(function(e){return _i_("65cb:e85511ed"),_r_(e.json())}).then(function(e){if(_i_("65cb:89a0fd61"),e&&e.redirect_uri){var t=e.redirect_uri;/^\//.test(e.redirect_uri)&&(t="https://"+_+t),location.href=t}_r_()}),_r_()},state_cookie_domain:"booking.com",nonce:s,prompt_parent_id:f.containerId,context:f.googleCopyVariant,cancel_on_tap_outside:f.cancelOnTapOutside,auto_select:f.autoSelect,use_fedcm_for_prompt:f.useFedcmForPrompt,itp_support:f.itpSupport}),a&&window.google.accounts.id.disableAutoSelect(),window.google.accounts.id.prompt(function(e){var t,n,i;if(_i_("65cb:2b88a3da"),l("notification",e),p=!!e.isDisplayed(),e.isDisplayMoment()&&e.isDisplayed())null!==(t=d.querySelector(".google-one-tap-wrapper"))&&void 0!==t&&t.childNodes.length?function e(){_i_("65cb:6a23ae7d");var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=null===(t=document.getElementById(f.containerId))||void 0===t?void 0:t.getBoundingClientRect();(null==i?void 0:i.width)?(d.style.width=i.width+"px",c=!0):n<100&&setTimeout(function(){return _i_("65cb:430df989"),_r_(e(n+1))},100),_r_()}():function(){_i_("65cb:ea9048c2");var e=document.querySelector('iframe[src^="https://accounts.google.com/"]');return _r_((f.useFedcmForPrompt&&(null==e||e.setAttribute("allow","identity-credentials-get")),!!e&&"fixed"===(null==e?void 0:e.style.position)&&0===parseInt(e.style.bottom)))}()&&(c=!0,d.className+=" google-one-tap-mobile"),null===(n=(i=f).onDisplayed)||void 0===n||n.call(i);else if(clearTimeout(void 0),e.isSkippedMoment()){p=!1;var r,_,a=e.getSkippedReason();if("user_cancel"===a||"tap_outside"===a)null===(r=(_=f).onDismissedByUser)||void 0===r||r.call(_,a);else if("auto_cancel"===a){var o,s;null===(o=(s=f).onAutoDismissed)||void 0===o||o.call(s,a)}}_r_()}),h=!(b=!0),_r_()}(),_r_()}function l(){if(_i_("65cb:6f3199a4"),f.debugLogging){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log.apply(console.log,t)}_r_()}_i_("65cb:b91656e8"),Object.defineProperty(e,"__esModule",{value:!0}),e.init=t,e.hide=n,e.disableAutoSelect=r,e.isDisplayed=_,e.default=void 0;var d,f,a=!1,b=!1,h=!1,p=!1,m={"top-left":{top:"32px",left:"32px"},"top-right":{top:"32px",right:"32px"}};e.default={init:t,hide:n,disableAutoSelect:r,isDisplayed:_},_r_()}),B.when({events:"ready",action:["index","searchresults","searchresults_irene","hotel","landmark","city"],condition:B.env.fe_run_google_one_tap&&!B.env.fe_google_one_tap_dev_warning}).run(function(e){_i_("65cb:60653804");var i=window.googleOneTap,r=e("events");if(!i)return _r_();if(B.env.fe_google_one_tap_logged_out)return i.disableAutoSelect(),_r_();setTimeout(function(){_i_("65cb:043f866f");var e=document.querySelector(".js-header-login-link");if(!e)return _r_();var t=e.href;if(!t)return _r_();var n=t.split(/[?&;]/g).reduce(function(e,t){_i_("65cb:be46c79a");var n=t.split("=");return n[1]&&(e[n[0]]=decodeURIComponent(n[1])),_r_(e)},{});i.init({oauthClientId:n.client_id,oauthState:n.state,oauthRedirectUri:n.redirect_uri,placement:B.env.rtl?"top-left":"top-right",translations:{loadingHeader:B.jstmpl.translations("account_sign_in_one_tap_verifying_header",null,B.env),loadingText:B.jstmpl.translations("account_sign_in_one_tap_verifying_body",null,B.env)},cancelOnTapOutside:"mdot"===B.env.b_site_type,onDisplayed:function(){_i_("65cb:4b7fc202"),r.trigger("google-one-tap:show"),_r_()},onDismissedByUser:function(){_i_("65cb:7ca73182"),r.trigger("google-one-tap:dismissed",{byUser:!0}),_r_()},onAutoDismissed:function(){_i_("65cb:2157ec6c"),r.trigger("google-one-tap:dismissed",{autoDismissed:!0}),_r_()},useFedcmForPrompt:B.env.fe_google_one_tap_use_fedcm}),_r_()},200),_r_()}),_i_("65cb:36de43b5"),B.when({events:"ready",condition:B.env.b_sso_init_anon_session&&window===window.top&&(B.env.b_sso_return_url||B.env.b_secure_domain)}).run(function(){_i_("65cb:56a25daf"),window.bookingSSO={autoInitAnonSession:!0,oauthClientId:B.env.b_oauth_client_id,redirectUri:B.env.b_sso_return_url||B.env.b_secure_domain+"/login.html?op=oauth_return",state:B.env.b_sso_anon_session_state},setTimeout(function(){_i_("65cb:95f1ef3d");var e=document.createElement("script");e.setAttribute("src",B.env.b_accounts_portal_url+"static/booking-sso.v1.js"),e.async=!0,document.head.appendChild(e),_r_()},1e3),_r_()}),_r_(),_i_("65cb:71ff4302"),B.when({events:"ready",experiment:"dDfPWKHAdDECLSCNVAELXT"}).run(function(){_i_("65cb:5de8a6e0"),setTimeout(function(){_i_("65cb:19e6917e");var e=document.createElement("iframe");e.style.left="-100000px",e.style.top="-100000px",e.style.width="1px",e.style.height="1px";var t=(B.env.b_dev_server?B.env.b_accounts_portal_url||"https://account.dqs.booking.com/":"https://spar42.buid.booking.com/")+"bex";e.setAttribute("src",t),document.body.appendChild(e),_r_()},1e3),_r_()}),_r_(),B.define("component/fl/transport",function(e,t,n){"use strict";_i_("65cb:0e4a1f26");var i=e("jquery");n.exports={exposed:function(e,t,n){_i_("65cb:02f67dfd"),function(e,t){_i_("65cb:64ee2b00");var n={url:e,dataType:"json",type:"POST",contentType:"application/json",data:JSON.stringify(t||{})};i.ajax(n),_r_()}("/fl/exposed",{model:e,items:t,is_organic:n}),_r_()}},_r_()}),B.define("component/fl/exposed",function(e,t,n){"use strict";_i_("65cb:3be6115d");var i=e("component"),r=e("read-data-options"),_=e("component/fl/transport"),a=e("when/events-view");n.exports=i.extend({init:function(){_i_("65cb:4ddb4f33"),this.options=r(this.el,{exposedId:{name:"fl-exposed-id",type:String,required:!0},exposedAttr:{name:"fl-exposed-attr",type:String,required:!0},exposedOrganic:{name:"fl-exposed-organic",type:Boolean,defaultValue:!1}}),a(this.el,function(){_i_("65cb:41c3c6a9"),_.exposed(this.options.exposedId,this.scrape(),this.options.exposedOrganic),_r_()}.bind(this)),_r_()},scrape:function(){_i_("65cb:68742c4f");var t=this.options.exposedAttr,e="["+t+"]";return _r_([].map.call(this.el.querySelectorAll(e),function(e){return _i_("65cb:58370c5a"),_r_(e.getAttribute(t))}))}}),_r_()}),B.define("component/fl/stage",function(e,t,n){"use strict";_i_("65cb:948d9d0f");var i=e("component"),r=e("read-data-options");n.exports=i.extend({init:function(){_i_("65cb:c57921e9"),this.options=r(this.el,{hash:{name:"fl-stage-hash",type:String,required:!0},val:{name:"fl-stage-value",type:Number,required:!0}}),B.et.stage(this.options.hash,this.options.val),_r_()}}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){"use strict";_i_("65cb:9f2331dc");var t=e("et");e("server-data").fe_mvrex_pp_scenario_not_available_mdot&&t.stage("OAYRKHMMNIRHcADDBDOQeOYDASNMOaFBddQWPHDDWe",2),_r_()}),_i_("65cb:bd976d0d"),B.when({action:["searchresults","hotel"],events:"ready",condition:B.env.fe_use_header_mfe&&!B.env.fe_arp_m_sr_consolidation_2}).run(function(e){_i_("65cb:9c2d3e8b");var i=e("persistent-view"),t=e("event-bus"),n=e("with-web-shell"),r="searchresults"===b.env.b_action?"search-web":"property-web",_="searchresults"===b.env.b_action?"searchresults":"property-page";"searchresults"!==B.env.b_action&&"hotel"!==B.env.b_action||(function(){_i_("65cb:4e525e13");var e=n(r,_,function(e){_i_("65cb:2a16ec6e");var t=e.eventBus,n=e.events;t.publish(n.HEADER_DISPLAY_BACK),_r_()});B.env.__sr_header_search_clicked&&e(),t.on(t.EVENTS.SR_HEADER_SEARCH_CLICKED,e),_r_()}(),_i_("65cb:baaeaa3a"),n(r,_,function(e){_i_("65cb:ed46112c");var t=e.eventBus,n=e.events;t.subscribe(n.HEADER_GO_BACK,function(){_i_("65cb:d13b0347"),function(){if(_i_("65cb:f7441672"),window.history.state&&0<window.history.state.step)i.back(-1);else{var e=i.current;"sr_map"===i.previousView?i.replaceWith("sr_map"):i.replaceWith(i.defaultView),i.push(e),i.back(-1)}_r_()}(),t.publish(n.HEADER_DISPLAY_LOGO),_r_()}),_r_()})(),_r_()),_r_()}),_r_();